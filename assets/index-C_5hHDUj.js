var vE=Object.defineProperty;var _E=(n,e,t)=>e in n?vE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var wg=(n,e,t)=>_E(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function wE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hf={exports:{}},Ma={},ff={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function EE(){if(Eg)return et;Eg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=I&&z[I]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function D(z,se,Te){this.props=z,this.context=se,this.refs=O,this.updater=Te||R}D.prototype.isReactComponent={},D.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function W(){}W.prototype=D.prototype;function Z(z,se,Te){this.props=z,this.context=se,this.refs=O,this.updater=Te||R}var ie=Z.prototype=new W;ie.constructor=Z,C(ie,D.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,ce=Object.prototype.hasOwnProperty,$={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function P(z,se,Te){var Fe,ze={},He=null,rt=null;if(se!=null)for(Fe in se.ref!==void 0&&(rt=se.ref),se.key!==void 0&&(He=""+se.key),se)ce.call(se,Fe)&&!b.hasOwnProperty(Fe)&&(ze[Fe]=se[Fe]);var Xe=arguments.length-2;if(Xe===1)ze.children=Te;else if(1<Xe){for(var yt=Array(Xe),tt=0;tt<Xe;tt++)yt[tt]=arguments[tt+2];ze.children=yt}if(z&&z.defaultProps)for(Fe in Xe=z.defaultProps,Xe)ze[Fe]===void 0&&(ze[Fe]=Xe[Fe]);return{$$typeof:n,type:z,key:He,ref:rt,props:ze,_owner:$.current}}function N(z,se){return{$$typeof:n,type:z.type,key:se,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Te){return se[Te]})}var Q=/\/+/g;function V(z,se){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):se.toString(36)}function ut(z,se,Te,Fe,ze){var He=typeof z;(He==="undefined"||He==="boolean")&&(z=null);var rt=!1;if(z===null)rt=!0;else switch(He){case"string":case"number":rt=!0;break;case"object":switch(z.$$typeof){case n:case e:rt=!0}}if(rt)return rt=z,ze=ze(rt),z=Fe===""?"."+V(rt,0):Fe,pe(ze)?(Te="",z!=null&&(Te=z.replace(Q,"$&/")+"/"),ut(ze,se,Te,"",function(tt){return tt})):ze!=null&&(M(ze)&&(ze=N(ze,Te+(!ze.key||rt&&rt.key===ze.key?"":(""+ze.key).replace(Q,"$&/")+"/")+z)),se.push(ze)),1;if(rt=0,Fe=Fe===""?".":Fe+":",pe(z))for(var Xe=0;Xe<z.length;Xe++){He=z[Xe];var yt=Fe+V(He,Xe);rt+=ut(He,se,Te,yt,ze)}else if(yt=A(z),typeof yt=="function")for(z=yt.call(z),Xe=0;!(He=z.next()).done;)He=He.value,yt=Fe+V(He,Xe++),rt+=ut(He,se,Te,yt,ze);else if(He==="object")throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return rt}function Ge(z,se,Te){if(z==null)return z;var Fe=[],ze=0;return ut(z,Fe,"","",function(He){return se.call(Te,He,ze++)}),Fe}function Ke(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(Te){(z._status===0||z._status===-1)&&(z._status=1,z._result=Te)},function(Te){(z._status===0||z._status===-1)&&(z._status=2,z._result=Te)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var Je={current:null},ge={transition:null},Ne={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ge,ReactCurrentOwner:$};function _e(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:Ge,forEach:function(z,se,Te){Ge(z,function(){se.apply(this,arguments)},Te)},count:function(z){var se=0;return Ge(z,function(){se++}),se},toArray:function(z){return Ge(z,function(se){return se})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},et.Component=D,et.Fragment=t,et.Profiler=s,et.PureComponent=Z,et.StrictMode=o,et.Suspense=p,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,et.act=_e,et.cloneElement=function(z,se,Te){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Fe=C({},z.props),ze=z.key,He=z.ref,rt=z._owner;if(se!=null){if(se.ref!==void 0&&(He=se.ref,rt=$.current),se.key!==void 0&&(ze=""+se.key),z.type&&z.type.defaultProps)var Xe=z.type.defaultProps;for(yt in se)ce.call(se,yt)&&!b.hasOwnProperty(yt)&&(Fe[yt]=se[yt]===void 0&&Xe!==void 0?Xe[yt]:se[yt])}var yt=arguments.length-2;if(yt===1)Fe.children=Te;else if(1<yt){Xe=Array(yt);for(var tt=0;tt<yt;tt++)Xe[tt]=arguments[tt+2];Fe.children=Xe}return{$$typeof:n,type:z.type,key:ze,ref:He,props:Fe,_owner:rt}},et.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:l,_context:z},z.Consumer=z},et.createElement=P,et.createFactory=function(z){var se=P.bind(null,z);return se.type=z,se},et.createRef=function(){return{current:null}},et.forwardRef=function(z){return{$$typeof:f,render:z}},et.isValidElement=M,et.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:Ke}},et.memo=function(z,se){return{$$typeof:m,type:z,compare:se===void 0?null:se}},et.startTransition=function(z){var se=ge.transition;ge.transition={};try{z()}finally{ge.transition=se}},et.unstable_act=_e,et.useCallback=function(z,se){return Je.current.useCallback(z,se)},et.useContext=function(z){return Je.current.useContext(z)},et.useDebugValue=function(){},et.useDeferredValue=function(z){return Je.current.useDeferredValue(z)},et.useEffect=function(z,se){return Je.current.useEffect(z,se)},et.useId=function(){return Je.current.useId()},et.useImperativeHandle=function(z,se,Te){return Je.current.useImperativeHandle(z,se,Te)},et.useInsertionEffect=function(z,se){return Je.current.useInsertionEffect(z,se)},et.useLayoutEffect=function(z,se){return Je.current.useLayoutEffect(z,se)},et.useMemo=function(z,se){return Je.current.useMemo(z,se)},et.useReducer=function(z,se,Te){return Je.current.useReducer(z,se,Te)},et.useRef=function(z){return Je.current.useRef(z)},et.useState=function(z){return Je.current.useState(z)},et.useSyncExternalStore=function(z,se,Te){return Je.current.useSyncExternalStore(z,se,Te)},et.useTransition=function(){return Je.current.useTransition()},et.version="18.3.1",et}var Tg;function cd(){return Tg||(Tg=1,ff.exports=EE()),ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function TE(){if(Sg)return Ma;Sg=1;var n=cd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var w,I={},A=null,R=null;m!==void 0&&(A=""+m),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(R=p.ref);for(w in p)o.call(p,w)&&!l.hasOwnProperty(w)&&(I[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)I[w]===void 0&&(I[w]=p[w]);return{$$typeof:e,type:f,key:A,ref:R,props:I,_owner:s.current}}return Ma.Fragment=t,Ma.jsx=c,Ma.jsxs=c,Ma}var Ig;function SE(){return Ig||(Ig=1,hf.exports=TE()),hf.exports}var K=SE(),q=cd();const IE=wE(q);var Nu={},df={exports:{}},Hn={},pf={exports:{}},mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function RE(){return Rg||(Rg=1,function(n){function e(ge,Ne){var _e=ge.length;ge.push(Ne);e:for(;0<_e;){var z=_e-1>>>1,se=ge[z];if(0<s(se,Ne))ge[z]=Ne,ge[_e]=se,_e=z;else break e}}function t(ge){return ge.length===0?null:ge[0]}function o(ge){if(ge.length===0)return null;var Ne=ge[0],_e=ge.pop();if(_e!==Ne){ge[0]=_e;e:for(var z=0,se=ge.length,Te=se>>>1;z<Te;){var Fe=2*(z+1)-1,ze=ge[Fe],He=Fe+1,rt=ge[He];if(0>s(ze,_e))He<se&&0>s(rt,ze)?(ge[z]=rt,ge[He]=_e,z=He):(ge[z]=ze,ge[Fe]=_e,z=Fe);else if(He<se&&0>s(rt,_e))ge[z]=rt,ge[He]=_e,z=He;else break e}}return Ne}function s(ge,Ne){var _e=ge.sortIndex-Ne.sortIndex;return _e!==0?_e:ge.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],w=1,I=null,A=3,R=!1,C=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(ge){for(var Ne=t(m);Ne!==null;){if(Ne.callback===null)o(m);else if(Ne.startTime<=ge)o(m),Ne.sortIndex=Ne.expirationTime,e(p,Ne);else break;Ne=t(m)}}function pe(ge){if(O=!1,ie(ge),!C)if(t(p)!==null)C=!0,Ke(ce);else{var Ne=t(m);Ne!==null&&Je(pe,Ne.startTime-ge)}}function ce(ge,Ne){C=!1,O&&(O=!1,W(P),P=-1),R=!0;var _e=A;try{for(ie(Ne),I=t(p);I!==null&&(!(I.expirationTime>Ne)||ge&&!j());){var z=I.callback;if(typeof z=="function"){I.callback=null,A=I.priorityLevel;var se=z(I.expirationTime<=Ne);Ne=n.unstable_now(),typeof se=="function"?I.callback=se:I===t(p)&&o(p),ie(Ne)}else o(p);I=t(p)}if(I!==null)var Te=!0;else{var Fe=t(m);Fe!==null&&Je(pe,Fe.startTime-Ne),Te=!1}return Te}finally{I=null,A=_e,R=!1}}var $=!1,b=null,P=-1,N=5,M=-1;function j(){return!(n.unstable_now()-M<N)}function Q(){if(b!==null){var ge=n.unstable_now();M=ge;var Ne=!0;try{Ne=b(!0,ge)}finally{Ne?V():($=!1,b=null)}}else $=!1}var V;if(typeof Z=="function")V=function(){Z(Q)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Ge=ut.port2;ut.port1.onmessage=Q,V=function(){Ge.postMessage(null)}}else V=function(){D(Q,0)};function Ke(ge){b=ge,$||($=!0,V())}function Je(ge,Ne){P=D(function(){ge(n.unstable_now())},Ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ge){ge.callback=null},n.unstable_continueExecution=function(){C||R||(C=!0,Ke(ce))},n.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ge?Math.floor(1e3/ge):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ge){switch(A){case 1:case 2:case 3:var Ne=3;break;default:Ne=A}var _e=A;A=Ne;try{return ge()}finally{A=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ge,Ne){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var _e=A;A=ge;try{return Ne()}finally{A=_e}},n.unstable_scheduleCallback=function(ge,Ne,_e){var z=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?z+_e:z):_e=z,ge){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=_e+se,ge={id:w++,callback:Ne,priorityLevel:ge,startTime:_e,expirationTime:se,sortIndex:-1},_e>z?(ge.sortIndex=_e,e(m,ge),t(p)===null&&ge===t(m)&&(O?(W(P),P=-1):O=!0,Je(pe,_e-z))):(ge.sortIndex=se,e(p,ge),C||R||(C=!0,Ke(ce))),ge},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ge){var Ne=A;return function(){var _e=A;A=Ne;try{return ge.apply(this,arguments)}finally{A=_e}}}}(mf)),mf}var Ag;function AE(){return Ag||(Ag=1,pf.exports=RE()),pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function xE(){if(xg)return Hn;xg=1;var n=cd(),e=AE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function A(r){return p.call(I,r)?!0:p.call(w,r)?!1:m.test(r)?I[r]=!0:(w[r]=!0,!1)}function R(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,i,a,h){if(i===null||typeof i>"u"||R(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function O(r,i,a,h,d,y,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=T}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];D[i]=new O(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function Z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(W,Z);D[i]=new O(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(W,Z);D[i]=new O(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(W,Z);D[i]=new O(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,i,a,h){var d=D.hasOwnProperty(i)?D[i]:null;(d!==null?d.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,a,d,h)&&(a=null),h||d===null?A(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var pe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),$=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Je=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Ne(r){return r===null||typeof r!="object"?null:(r=ge&&r[ge]||r["@@iterator"],typeof r=="function"?r:null)}var _e=Object.assign,z;function se(r){if(z===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+r}var Te=!1;function Fe(r,i){if(!r||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ne){var h=ne}Reflect.construct(r,[],i)}else{try{i.call()}catch(ne){h=ne}r.call(i.prototype)}else{try{throw Error()}catch(ne){h=ne}r()}}catch(ne){if(ne&&h&&typeof ne.stack=="string"){for(var d=ne.stack.split(`
`),y=h.stack.split(`
`),T=d.length-1,L=y.length-1;1<=T&&0<=L&&d[T]!==y[L];)L--;for(;1<=T&&0<=L;T--,L--)if(d[T]!==y[L]){if(T!==1||L!==1)do if(T--,L--,0>L||d[T]!==y[L]){var U=`
`+d[T].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=T&&0<=L);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?se(r):""}function ze(r){switch(r.tag){case 5:return se(r.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return r=Fe(r.type,!1),r;case 11:return r=Fe(r.type.render,!1),r;case 1:return r=Fe(r.type,!0),r;default:return""}}function He(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case $:return"Portal";case N:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case ut:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case Q:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ge:return i=r.displayName||null,i!==null?i:He(r.type)||"Memo";case Ke:i=r._payload,r=r._init;try{return He(r(i))}catch{}}return null}function rt(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(i);case 8:return i===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yt(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tt(r){var i=yt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function tn(r){r._valueTracker||(r._valueTracker=tt(r))}function nr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=yt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function cn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function zt(r,i){var a=i.checked;return _e({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function br(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Xe(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function si(r,i){i=i.checked,i!=null&&ie(r,"checked",i,!1)}function rr(r,i){si(r,i);var a=Xe(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Or(r,i.type,a):i.hasOwnProperty("defaultValue")&&Or(r,i.type,Xe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Pi(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Or(r,i,a){(i!=="number"||cn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var On=Array.isArray;function _n(r,i,a,h){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Xe(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Vt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return _e({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wn(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(On(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Xe(a)}}function vr(r,i){var a=Xe(i.value),h=Xe(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function nn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function wt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?wt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var v,_=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(v=v||document.createElement("div"),v.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=v.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function k(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},te=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(r){te.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),B[i]=B[r]})});function ae(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||B.hasOwnProperty(r)&&B[r]?(""+i).trim():i+"px"}function $e(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=ae(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Et=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(r,i){if(i){if(Et[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function mt(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ze=null;function Mr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ki=null,Nn=null,ir=null;function ai(r){if(r=Ta(r)){if(typeof ki!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Wl(i),ki(r.stateNode,r.type,i))}}function Dn(r){Nn?ir?ir.push(r):ir=[r]:Nn=r}function Fr(){if(Nn){var r=Nn,i=ir;if(ir=Nn=null,ai(r),i)for(r=0;r<i.length;r++)ai(i[r])}}function li(r,i){return r(i)}function go(){}var F=!1;function G(r,i,a){if(F)return r(i,a);F=!0;try{return li(r,i,a)}finally{F=!1,(Nn!==null||ir!==null)&&(go(),Fr())}}function J(r,i){var a=r.stateNode;if(a===null)return null;var h=Wl(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var he=!1;if(f)try{var we={};Object.defineProperty(we,"passive",{get:function(){he=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{he=!1}function ke(r,i,a,h,d,y,T,L,U){var ne=Array.prototype.slice.call(arguments,3);try{i.apply(a,ne)}catch(de){this.onError(de)}}var be=!1,Re=null,Se=!1,Ee=null,Be={onError:function(r){be=!0,Re=r}};function qe(r,i,a,h,d,y,T,L,U){be=!1,Re=null,ke.apply(Be,arguments)}function St(r,i,a,h,d,y,T,L,U){if(qe.apply(this,arguments),be){if(be){var ne=Re;be=!1,Re=null}else throw Error(t(198));Se||(Se=!0,Ee=ne)}}function It(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function _t(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function nt(r){if(It(r)!==r)throw Error(t(188))}function bt(r){var i=r.alternate;if(!i){if(i=It(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return nt(d),r;if(y===h)return nt(d),i;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var T=!1,L=d.child;L;){if(L===a){T=!0,a=d,h=y;break}if(L===h){T=!0,h=d,a=y;break}L=L.sibling}if(!T){for(L=y.child;L;){if(L===a){T=!0,a=y,h=d;break}if(L===h){T=!0,h=y,a=d;break}L=L.sibling}if(!T)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function or(r){return r=bt(r),r!==null?sr(r):null}function sr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=sr(r);if(i!==null)return i;r=r.sibling}return null}var En=e.unstable_scheduleCallback,Tn=e.unstable_cancelCallback,Ni=e.unstable_shouldYield,ui=e.unstable_requestPaint,ct=e.unstable_now,ci=e.unstable_getCurrentPriorityLevel,ar=e.unstable_ImmediatePriority,ot=e.unstable_UserBlockingPriority,Rt=e.unstable_NormalPriority,Ur=e.unstable_LowPriority,Br=e.unstable_IdlePriority,xt=null,qt=null;function yo(r){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(xt,r,void 0,(r.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Il,sa=Math.log,Sl=Math.LN2;function Il(r){return r>>>=0,r===0?32:31-(sa(r)/Sl|0)|0}var es=64,ts=4194304;function Di(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function vo(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,T=a&268435455;if(T!==0){var L=T&~d;L!==0?h=Di(L):(y&=T,y!==0&&(h=Di(y)))}else T=a&~d,T!==0?h=Di(T):y!==0&&(h=Di(y));if(h===0)return 0;if(i!==0&&i!==h&&!(i&d)&&(d=h&-h,y=i&-i,d>=y||d===16&&(y&4194240)!==0))return i;if(h&4&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-hn(i),d=1<<a,h|=r[a],i&=~d;return h}function Bc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-hn(y),L=1<<T,U=d[T];U===-1?(!(L&a)||L&h)&&(d[T]=Bc(L,i)):U<=i&&(r.expiredLanes|=L),y&=~L}}function Qn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _o(){var r=es;return es<<=1,!(es&4194240)&&(es=64),r}function Li(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Vi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-hn(i),r[i]=a}function Ct(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-hn(a),y=1<<d;i[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function bi(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-hn(a),d=1<<h;d&i|r[h]&i&&(r[h]|=i),a&=~d}}var st=0;function Oi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Rl,ns,Al,xl,Cl,aa=!1,jr=[],fn=null,_r=null,wr=null,Mi=new Map,lr=new Map,zr=[],jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pl(r,i){switch(r){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(i.pointerId)}}function Mn(r,i,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},i!==null&&(i=Ta(i),i!==null&&ns(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function zc(r,i,a,h,d){switch(i){case"focusin":return fn=Mn(fn,r,i,a,h,d),!0;case"dragenter":return _r=Mn(_r,r,i,a,h,d),!0;case"mouseover":return wr=Mn(wr,r,i,a,h,d),!0;case"pointerover":var y=d.pointerId;return Mi.set(y,Mn(Mi.get(y)||null,r,i,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,lr.set(y,Mn(lr.get(y)||null,r,i,a,h,d)),!0}return!1}function kl(r){var i=Io(r.target);if(i!==null){var a=It(i);if(a!==null){if(i=a.tag,i===13){if(i=_t(a),i!==null){r.blockedOn=i,Cl(r.priority,function(){Al(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fi(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=rs(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ze=h,a.target.dispatchEvent(h),Ze=null}else return i=Ta(a),i!==null&&ns(i),r.blockedOn=a,!1;i.shift()}return!0}function wo(r,i,a){fi(r)&&a.delete(i)}function Nl(){aa=!1,fn!==null&&fi(fn)&&(fn=null),_r!==null&&fi(_r)&&(_r=null),wr!==null&&fi(wr)&&(wr=null),Mi.forEach(wo),lr.forEach(wo)}function Er(r,i){r.blockedOn===i&&(r.blockedOn=null,aa||(aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nl)))}function Tr(r){function i(d){return Er(d,r)}if(0<jr.length){Er(jr[0],r);for(var a=1;a<jr.length;a++){var h=jr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(fn!==null&&Er(fn,r),_r!==null&&Er(_r,r),wr!==null&&Er(wr,r),Mi.forEach(i),lr.forEach(i),a=0;a<zr.length;a++)h=zr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)kl(a),a.blockedOn===null&&zr.shift()}var di=pe.ReactCurrentBatchConfig,Fi=!0;function Ot(r,i,a,h){var d=st,y=di.transition;di.transition=null;try{st=1,la(r,i,a,h)}finally{st=d,di.transition=y}}function $c(r,i,a,h){var d=st,y=di.transition;di.transition=null;try{st=4,la(r,i,a,h)}finally{st=d,di.transition=y}}function la(r,i,a,h){if(Fi){var d=rs(r,i,a,h);if(d===null)eh(r,i,h,Eo,a),Pl(r,h);else if(zc(d,r,i,a,h))h.stopPropagation();else if(Pl(r,h),i&4&&-1<jc.indexOf(r)){for(;d!==null;){var y=Ta(d);if(y!==null&&Rl(y),y=rs(r,i,a,h),y===null&&eh(r,i,h,Eo,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else eh(r,i,h,null,a)}}var Eo=null;function rs(r,i,a,h){if(Eo=null,r=Mr(h),r=Io(r),r!==null)if(i=It(r),i===null)r=null;else if(a=i.tag,a===13){if(r=_t(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Eo=r,null}function ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ci()){case ar:return 1;case ot:return 4;case Rt:case Ur:return 16;case Br:return 536870912;default:return 16}default:return 16}}var Gn=null,is=null,Fn=null;function ca(){if(Fn)return Fn;var r,i=is,a=i.length,h,d="value"in Gn?Gn.value:Gn.textContent,y=d.length;for(r=0;r<a&&i[r]===d[r];r++);var T=a-r;for(h=1;h<=T&&i[a-h]===d[y-h];h++);return Fn=d.slice(r,1<h?1-h:void 0)}function os(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function ha(){return!1}function dn(r){function i(a,h,d,y,T){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(a=r[L],this[L]=a?a(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$r:ha,this.isPropagationStopped=ha,this}return _e(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),i}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=dn(Sr),Hr=_e({},Sr,{view:0,detail:0}),Hc=dn(Hr),as,pi,Ui,To=_e({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ui&&(Ui&&r.type==="mousemove"?(as=r.screenX-Ui.screenX,pi=r.screenY-Ui.screenY):pi=as=0,Ui=r),as)},movementY:function(r){return"movementY"in r?r.movementY:pi}}),ls=dn(To),fa=_e({},To,{dataTransfer:0}),Dl=dn(fa),us=_e({},Hr,{relatedTarget:0}),cs=dn(us),Ll=_e({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),mi=dn(Ll),Vl=_e({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bl=dn(Vl),Ol=_e({},Sr,{data:0}),da=dn(Ol),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ml[r])?!!i[r]:!1}function qr(){return Fl}var u=_e({},Hr,{key:function(r){if(r.key){var i=hs[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=os(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ln[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(r){return r.type==="keypress"?os(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?os(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=dn(u),E=_e({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=dn(E),Y=_e({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),re=dn(Y),ve=_e({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),At=dn(ve),Yt=_e({},To,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ht=dn(Yt),rn=[9,13,27,32],Wt=f&&"CompositionEvent"in window,ur=null;f&&"documentMode"in document&&(ur=document.documentMode);var Yn=f&&"TextEvent"in window&&!ur,So=f&&(!Wt||ur&&8<ur&&11>=ur),fs=" ",pp=!1;function mp(r,i){switch(r){case"keyup":return rn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ds=!1;function mw(r,i){switch(r){case"compositionend":return gp(i);case"keypress":return i.which!==32?null:(pp=!0,fs);case"textInput":return r=i.data,r===fs&&pp?null:r;default:return null}}function gw(r,i){if(ds)return r==="compositionend"||!Wt&&mp(r,i)?(r=ca(),Fn=is=Gn=null,ds=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return So&&i.locale!=="ko"?null:i.data;default:return null}}var yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!yw[r.type]:i==="textarea"}function vp(r,i,a,h){Dn(h),i=$l(i,"onChange"),0<i.length&&(a=new ss("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var pa=null,ma=null;function vw(r){Op(r,0)}function Ul(r){var i=vs(r);if(nr(i))return r}function _w(r,i){if(r==="change")return i}var _p=!1;if(f){var qc;if(f){var Wc="oninput"in document;if(!Wc){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),Wc=typeof wp.oninput=="function"}qc=Wc}else qc=!1;_p=qc&&(!document.documentMode||9<document.documentMode)}function Ep(){pa&&(pa.detachEvent("onpropertychange",Tp),ma=pa=null)}function Tp(r){if(r.propertyName==="value"&&Ul(ma)){var i=[];vp(i,ma,r,Mr(r)),G(vw,i)}}function ww(r,i,a){r==="focusin"?(Ep(),pa=i,ma=a,pa.attachEvent("onpropertychange",Tp)):r==="focusout"&&Ep()}function Ew(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ul(ma)}function Tw(r,i){if(r==="click")return Ul(i)}function Sw(r,i){if(r==="input"||r==="change")return Ul(i)}function Iw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ir=typeof Object.is=="function"?Object.is:Iw;function ga(r,i){if(Ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(i,d)||!Ir(r[d],i[d]))return!1}return!0}function Sp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ip(r,i){var a=Sp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sp(a)}}function Rp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Rp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ap(){for(var r=window,i=cn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=cn(r.document)}return i}function Kc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Rw(r){var i=Ap(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Rp(a.ownerDocument.documentElement,a)){if(h!==null&&Kc(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=Ip(a,y);var T=Ip(a,h);d&&T&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(i),r.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Aw=f&&"documentMode"in document&&11>=document.documentMode,ps=null,Qc=null,ya=null,Gc=!1;function xp(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||ps==null||ps!==cn(h)||(h=ps,"selectionStart"in h&&Kc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ya&&ga(ya,h)||(ya=h,h=$l(Qc,"onSelect"),0<h.length&&(i=new ss("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=ps)))}function Bl(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ms={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Yc={},Cp={};f&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function jl(r){if(Yc[r])return Yc[r];if(!ms[r])return r;var i=ms[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cp)return Yc[r]=i[a];return r}var Pp=jl("animationend"),kp=jl("animationiteration"),Np=jl("animationstart"),Dp=jl("transitionend"),Lp=new Map,Vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(r,i){Lp.set(r,i),l(i,[r])}for(var Xc=0;Xc<Vp.length;Xc++){var Jc=Vp[Xc],xw=Jc.toLowerCase(),Cw=Jc[0].toUpperCase()+Jc.slice(1);Bi(xw,"on"+Cw)}Bi(Pp,"onAnimationEnd"),Bi(kp,"onAnimationIteration"),Bi(Np,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Dp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function bp(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,St(h,i,void 0,r),r.currentTarget=null}function Op(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var T=h.length-1;0<=T;T--){var L=h[T],U=L.instance,ne=L.currentTarget;if(L=L.listener,U!==y&&d.isPropagationStopped())break e;bp(d,L,ne),y=U}else for(T=0;T<h.length;T++){if(L=h[T],U=L.instance,ne=L.currentTarget,L=L.listener,U!==y&&d.isPropagationStopped())break e;bp(d,L,ne),y=U}}}if(Se)throw r=Ee,Se=!1,Ee=null,r}function Nt(r,i){var a=i[sh];a===void 0&&(a=i[sh]=new Set);var h=r+"__bubble";a.has(h)||(Mp(i,r,2,!1),a.add(h))}function Zc(r,i,a){var h=0;i&&(h|=4),Mp(a,r,h,i)}var zl="_reactListening"+Math.random().toString(36).slice(2);function _a(r){if(!r[zl]){r[zl]=!0,o.forEach(function(a){a!=="selectionchange"&&(Pw.has(a)||Zc(a,!1,r),Zc(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[zl]||(i[zl]=!0,Zc("selectionchange",!1,i))}}function Mp(r,i,a,h){switch(ua(i)){case 1:var d=Ot;break;case 4:d=$c;break;default:d=la}a=d.bind(null,i,a,r),d=void 0,!he||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function eh(r,i,a,h,d){var y=h;if(!(i&1)&&!(i&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var L=h.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(T===4)for(T=h.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===d||U.nodeType===8&&U.parentNode===d))return;T=T.return}for(;L!==null;){if(T=Io(L),T===null)return;if(U=T.tag,U===5||U===6){h=y=T;continue e}L=L.parentNode}}h=h.return}G(function(){var ne=y,de=Mr(a),me=[];e:{var fe=Lp.get(r);if(fe!==void 0){var Ie=ss,Pe=r;switch(r){case"keypress":if(os(a)===0)break e;case"keydown":case"keyup":Ie=g;break;case"focusin":Pe="focus",Ie=cs;break;case"focusout":Pe="blur",Ie=cs;break;case"beforeblur":case"afterblur":Ie=cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=re;break;case Pp:case kp:case Np:Ie=mi;break;case Dp:Ie=At;break;case"scroll":Ie=Hc;break;case"wheel":Ie=ht;break;case"copy":case"cut":case"paste":Ie=bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=x}var De=(i&4)!==0,$t=!De&&r==="scroll",X=De?fe!==null?fe+"Capture":null:fe;De=[];for(var H=ne,ee;H!==null;){ee=H;var ye=ee.stateNode;if(ee.tag===5&&ye!==null&&(ee=ye,X!==null&&(ye=J(H,X),ye!=null&&De.push(wa(H,ye,ee)))),$t)break;H=H.return}0<De.length&&(fe=new Ie(fe,Pe,null,a,de),me.push({event:fe,listeners:De}))}}if(!(i&7)){e:{if(fe=r==="mouseover"||r==="pointerover",Ie=r==="mouseout"||r==="pointerout",fe&&a!==Ze&&(Pe=a.relatedTarget||a.fromElement)&&(Io(Pe)||Pe[gi]))break e;if((Ie||fe)&&(fe=de.window===de?de:(fe=de.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ie?(Pe=a.relatedTarget||a.toElement,Ie=ne,Pe=Pe?Io(Pe):null,Pe!==null&&($t=It(Pe),Pe!==$t||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ie=null,Pe=ne),Ie!==Pe)){if(De=ls,ye="onMouseLeave",X="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(De=x,ye="onPointerLeave",X="onPointerEnter",H="pointer"),$t=Ie==null?fe:vs(Ie),ee=Pe==null?fe:vs(Pe),fe=new De(ye,H+"leave",Ie,a,de),fe.target=$t,fe.relatedTarget=ee,ye=null,Io(de)===ne&&(De=new De(X,H+"enter",Pe,a,de),De.target=ee,De.relatedTarget=$t,ye=De),$t=ye,Ie&&Pe)t:{for(De=Ie,X=Pe,H=0,ee=De;ee;ee=gs(ee))H++;for(ee=0,ye=X;ye;ye=gs(ye))ee++;for(;0<H-ee;)De=gs(De),H--;for(;0<ee-H;)X=gs(X),ee--;for(;H--;){if(De===X||X!==null&&De===X.alternate)break t;De=gs(De),X=gs(X)}De=null}else De=null;Ie!==null&&Fp(me,fe,Ie,De,!1),Pe!==null&&$t!==null&&Fp(me,$t,Pe,De,!0)}}e:{if(fe=ne?vs(ne):window,Ie=fe.nodeName&&fe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&fe.type==="file")var Le=_w;else if(yp(fe))if(_p)Le=Sw;else{Le=Ew;var Oe=ww}else(Ie=fe.nodeName)&&Ie.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=Tw);if(Le&&(Le=Le(r,ne))){vp(me,Le,a,de);break e}Oe&&Oe(r,fe,ne),r==="focusout"&&(Oe=fe._wrapperState)&&Oe.controlled&&fe.type==="number"&&Or(fe,"number",fe.value)}switch(Oe=ne?vs(ne):window,r){case"focusin":(yp(Oe)||Oe.contentEditable==="true")&&(ps=Oe,Qc=ne,ya=null);break;case"focusout":ya=Qc=ps=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,xp(me,a,de);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":xp(me,a,de)}var Me;if(Wt)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ds?mp(r,a)&&(je="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(So&&a.locale!=="ko"&&(ds||je!=="onCompositionStart"?je==="onCompositionEnd"&&ds&&(Me=ca()):(Gn=de,is="value"in Gn?Gn.value:Gn.textContent,ds=!0)),Oe=$l(ne,je),0<Oe.length&&(je=new da(je,r,null,a,de),me.push({event:je,listeners:Oe}),Me?je.data=Me:(Me=gp(a),Me!==null&&(je.data=Me)))),(Me=Yn?mw(r,a):gw(r,a))&&(ne=$l(ne,"onBeforeInput"),0<ne.length&&(de=new da("onBeforeInput","beforeinput",null,a,de),me.push({event:de,listeners:ne}),de.data=Me))}Op(me,i)})}function wa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function $l(r,i){for(var a=i+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=J(r,a),y!=null&&h.unshift(wa(r,y,d)),y=J(r,i),y!=null&&h.push(wa(r,y,d))),r=r.return}return h}function gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Fp(r,i,a,h,d){for(var y=i._reactName,T=[];a!==null&&a!==h;){var L=a,U=L.alternate,ne=L.stateNode;if(U!==null&&U===h)break;L.tag===5&&ne!==null&&(L=ne,d?(U=J(a,y),U!=null&&T.unshift(wa(a,U,L))):d||(U=J(a,y),U!=null&&T.push(wa(a,U,L)))),a=a.return}T.length!==0&&r.push({event:i,listeners:T})}var kw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Up(r){return(typeof r=="string"?r:""+r).replace(kw,`
`).replace(Nw,"")}function Hl(r,i,a){if(i=Up(i),Up(r)!==i&&a)throw Error(t(425))}function ql(){}var th=null,nh=null;function rh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(r){return Bp.resolve(null).then(r).catch(Vw)}:ih;function Vw(r){setTimeout(function(){throw r})}function oh(r,i){var a=i,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Tr(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Tr(i)}function ji(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function jp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Wr="__reactFiber$"+ys,Ea="__reactProps$"+ys,gi="__reactContainer$"+ys,sh="__reactEvents$"+ys,bw="__reactListeners$"+ys,Ow="__reactHandles$"+ys;function Io(r){var i=r[Wr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[gi]||a[Wr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=jp(r);r!==null;){if(a=r[Wr])return a;r=jp(r)}return i}r=a,a=r.parentNode}return null}function Ta(r){return r=r[Wr]||r[gi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function vs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Wl(r){return r[Ea]||null}var ah=[],_s=-1;function zi(r){return{current:r}}function Dt(r){0>_s||(r.current=ah[_s],ah[_s]=null,_s--)}function kt(r,i){_s++,ah[_s]=r.current,r.current=i}var $i={},Sn=zi($i),Un=zi(!1),Ro=$i;function ws(r,i){var a=r.type.contextTypes;if(!a)return $i;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=i[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function Bn(r){return r=r.childContextTypes,r!=null}function Kl(){Dt(Un),Dt(Sn)}function zp(r,i,a){if(Sn.current!==$i)throw Error(t(168));kt(Sn,i),kt(Un,a)}function $p(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in i))throw Error(t(108,rt(r)||"Unknown",d));return _e({},a,h)}function Ql(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||$i,Ro=Sn.current,kt(Sn,r),kt(Un,Un.current),!0}function Hp(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=$p(r,i,Ro),h.__reactInternalMemoizedMergedChildContext=r,Dt(Un),Dt(Sn),kt(Sn,r)):Dt(Un),kt(Un,a)}var yi=null,Gl=!1,lh=!1;function qp(r){yi===null?yi=[r]:yi.push(r)}function Mw(r){Gl=!0,qp(r)}function Hi(){if(!lh&&yi!==null){lh=!0;var r=0,i=st;try{var a=yi;for(st=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}yi=null,Gl=!1}catch(d){throw yi!==null&&(yi=yi.slice(r+1)),En(ar,Hi),d}finally{st=i,lh=!1}}return null}var Es=[],Ts=0,Yl=null,Xl=0,cr=[],hr=0,Ao=null,vi=1,_i="";function xo(r,i){Es[Ts++]=Xl,Es[Ts++]=Yl,Yl=r,Xl=i}function Wp(r,i,a){cr[hr++]=vi,cr[hr++]=_i,cr[hr++]=Ao,Ao=r;var h=vi;r=_i;var d=32-hn(h)-1;h&=~(1<<d),a+=1;var y=32-hn(i)+d;if(30<y){var T=d-d%5;y=(h&(1<<T)-1).toString(32),h>>=T,d-=T,vi=1<<32-hn(i)+d|a<<d|h,_i=y+r}else vi=1<<y|a<<d|h,_i=r}function uh(r){r.return!==null&&(xo(r,1),Wp(r,1,0))}function ch(r){for(;r===Yl;)Yl=Es[--Ts],Es[Ts]=null,Xl=Es[--Ts],Es[Ts]=null;for(;r===Ao;)Ao=cr[--hr],cr[hr]=null,_i=cr[--hr],cr[hr]=null,vi=cr[--hr],cr[hr]=null}var Xn=null,Jn=null,Mt=!1,Rr=null;function Kp(r,i){var a=mr(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Qp(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Xn=r,Jn=ji(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Xn=r,Jn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ao!==null?{id:vi,overflow:_i}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=mr(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Xn=r,Jn=null,!0):!1;default:return!1}}function hh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fh(r){if(Mt){var i=Jn;if(i){var a=i;if(!Qp(r,i)){if(hh(r))throw Error(t(418));i=ji(a.nextSibling);var h=Xn;i&&Qp(r,i)?Kp(h,a):(r.flags=r.flags&-4097|2,Mt=!1,Xn=r)}}else{if(hh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Mt=!1,Xn=r}}}function Gp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Xn=r}function Jl(r){if(r!==Xn)return!1;if(!Mt)return Gp(r),Mt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!rh(r.type,r.memoizedProps)),i&&(i=Jn)){if(hh(r))throw Yp(),Error(t(418));for(;i;)Kp(r,i),i=ji(i.nextSibling)}if(Gp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Jn=ji(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Jn=null}}else Jn=Xn?ji(r.stateNode.nextSibling):null;return!0}function Yp(){for(var r=Jn;r;)r=ji(r.nextSibling)}function Ss(){Jn=Xn=null,Mt=!1}function dh(r){Rr===null?Rr=[r]:Rr.push(r)}var Fw=pe.ReactCurrentBatchConfig;function Sa(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(T){var L=d.refs;T===null?delete L[y]:L[y]=T},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Zl(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Xp(r){var i=r._init;return i(r._payload)}function Jp(r){function i(X,H){if(r){var ee=X.deletions;ee===null?(X.deletions=[H],X.flags|=16):ee.push(H)}}function a(X,H){if(!r)return null;for(;H!==null;)i(X,H),H=H.sibling;return null}function h(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function d(X,H){return X=Ji(X,H),X.index=0,X.sibling=null,X}function y(X,H,ee){return X.index=ee,r?(ee=X.alternate,ee!==null?(ee=ee.index,ee<H?(X.flags|=2,H):ee):(X.flags|=2,H)):(X.flags|=1048576,H)}function T(X){return r&&X.alternate===null&&(X.flags|=2),X}function L(X,H,ee,ye){return H===null||H.tag!==6?(H=of(ee,X.mode,ye),H.return=X,H):(H=d(H,ee),H.return=X,H)}function U(X,H,ee,ye){var Le=ee.type;return Le===b?de(X,H,ee.props.children,ye,ee.key):H!==null&&(H.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Ke&&Xp(Le)===H.type)?(ye=d(H,ee.props),ye.ref=Sa(X,H,ee),ye.return=X,ye):(ye=Su(ee.type,ee.key,ee.props,null,X.mode,ye),ye.ref=Sa(X,H,ee),ye.return=X,ye)}function ne(X,H,ee,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=sf(ee,X.mode,ye),H.return=X,H):(H=d(H,ee.children||[]),H.return=X,H)}function de(X,H,ee,ye,Le){return H===null||H.tag!==7?(H=bo(ee,X.mode,ye,Le),H.return=X,H):(H=d(H,ee),H.return=X,H)}function me(X,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return H=of(""+H,X.mode,ee),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ce:return ee=Su(H.type,H.key,H.props,null,X.mode,ee),ee.ref=Sa(X,null,H),ee.return=X,ee;case $:return H=sf(H,X.mode,ee),H.return=X,H;case Ke:var ye=H._init;return me(X,ye(H._payload),ee)}if(On(H)||Ne(H))return H=bo(H,X.mode,ee,null),H.return=X,H;Zl(X,H)}return null}function fe(X,H,ee,ye){var Le=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Le!==null?null:L(X,H,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ce:return ee.key===Le?U(X,H,ee,ye):null;case $:return ee.key===Le?ne(X,H,ee,ye):null;case Ke:return Le=ee._init,fe(X,H,Le(ee._payload),ye)}if(On(ee)||Ne(ee))return Le!==null?null:de(X,H,ee,ye,null);Zl(X,ee)}return null}function Ie(X,H,ee,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return X=X.get(ee)||null,L(H,X,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case ce:return X=X.get(ye.key===null?ee:ye.key)||null,U(H,X,ye,Le);case $:return X=X.get(ye.key===null?ee:ye.key)||null,ne(H,X,ye,Le);case Ke:var Oe=ye._init;return Ie(X,H,ee,Oe(ye._payload),Le)}if(On(ye)||Ne(ye))return X=X.get(ee)||null,de(H,X,ye,Le,null);Zl(H,ye)}return null}function Pe(X,H,ee,ye){for(var Le=null,Oe=null,Me=H,je=H=0,an=null;Me!==null&&je<ee.length;je++){Me.index>je?(an=Me,Me=null):an=Me.sibling;var vt=fe(X,Me,ee[je],ye);if(vt===null){Me===null&&(Me=an);break}r&&Me&&vt.alternate===null&&i(X,Me),H=y(vt,H,je),Oe===null?Le=vt:Oe.sibling=vt,Oe=vt,Me=an}if(je===ee.length)return a(X,Me),Mt&&xo(X,je),Le;if(Me===null){for(;je<ee.length;je++)Me=me(X,ee[je],ye),Me!==null&&(H=y(Me,H,je),Oe===null?Le=Me:Oe.sibling=Me,Oe=Me);return Mt&&xo(X,je),Le}for(Me=h(X,Me);je<ee.length;je++)an=Ie(Me,X,je,ee[je],ye),an!==null&&(r&&an.alternate!==null&&Me.delete(an.key===null?je:an.key),H=y(an,H,je),Oe===null?Le=an:Oe.sibling=an,Oe=an);return r&&Me.forEach(function(Zi){return i(X,Zi)}),Mt&&xo(X,je),Le}function De(X,H,ee,ye){var Le=Ne(ee);if(typeof Le!="function")throw Error(t(150));if(ee=Le.call(ee),ee==null)throw Error(t(151));for(var Oe=Le=null,Me=H,je=H=0,an=null,vt=ee.next();Me!==null&&!vt.done;je++,vt=ee.next()){Me.index>je?(an=Me,Me=null):an=Me.sibling;var Zi=fe(X,Me,vt.value,ye);if(Zi===null){Me===null&&(Me=an);break}r&&Me&&Zi.alternate===null&&i(X,Me),H=y(Zi,H,je),Oe===null?Le=Zi:Oe.sibling=Zi,Oe=Zi,Me=an}if(vt.done)return a(X,Me),Mt&&xo(X,je),Le;if(Me===null){for(;!vt.done;je++,vt=ee.next())vt=me(X,vt.value,ye),vt!==null&&(H=y(vt,H,je),Oe===null?Le=vt:Oe.sibling=vt,Oe=vt);return Mt&&xo(X,je),Le}for(Me=h(X,Me);!vt.done;je++,vt=ee.next())vt=Ie(Me,X,je,vt.value,ye),vt!==null&&(r&&vt.alternate!==null&&Me.delete(vt.key===null?je:vt.key),H=y(vt,H,je),Oe===null?Le=vt:Oe.sibling=vt,Oe=vt);return r&&Me.forEach(function(yE){return i(X,yE)}),Mt&&xo(X,je),Le}function $t(X,H,ee,ye){if(typeof ee=="object"&&ee!==null&&ee.type===b&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ce:e:{for(var Le=ee.key,Oe=H;Oe!==null;){if(Oe.key===Le){if(Le=ee.type,Le===b){if(Oe.tag===7){a(X,Oe.sibling),H=d(Oe,ee.props.children),H.return=X,X=H;break e}}else if(Oe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Ke&&Xp(Le)===Oe.type){a(X,Oe.sibling),H=d(Oe,ee.props),H.ref=Sa(X,Oe,ee),H.return=X,X=H;break e}a(X,Oe);break}else i(X,Oe);Oe=Oe.sibling}ee.type===b?(H=bo(ee.props.children,X.mode,ye,ee.key),H.return=X,X=H):(ye=Su(ee.type,ee.key,ee.props,null,X.mode,ye),ye.ref=Sa(X,H,ee),ye.return=X,X=ye)}return T(X);case $:e:{for(Oe=ee.key;H!==null;){if(H.key===Oe)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){a(X,H.sibling),H=d(H,ee.children||[]),H.return=X,X=H;break e}else{a(X,H);break}else i(X,H);H=H.sibling}H=sf(ee,X.mode,ye),H.return=X,X=H}return T(X);case Ke:return Oe=ee._init,$t(X,H,Oe(ee._payload),ye)}if(On(ee))return Pe(X,H,ee,ye);if(Ne(ee))return De(X,H,ee,ye);Zl(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,H!==null&&H.tag===6?(a(X,H.sibling),H=d(H,ee),H.return=X,X=H):(a(X,H),H=of(ee,X.mode,ye),H.return=X,X=H),T(X)):a(X,H)}return $t}var Is=Jp(!0),Zp=Jp(!1),eu=zi(null),tu=null,Rs=null,ph=null;function mh(){ph=Rs=tu=null}function gh(r){var i=eu.current;Dt(eu),r._currentValue=i}function yh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function As(r,i){tu=r,ph=Rs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(jn=!0),r.firstContext=null)}function fr(r){var i=r._currentValue;if(ph!==r)if(r={context:r,memoizedValue:i,next:null},Rs===null){if(tu===null)throw Error(t(308));Rs=r,tu.dependencies={lanes:0,firstContext:r}}else Rs=Rs.next=r;return i}var Co=null;function vh(r){Co===null?Co=[r]:Co.push(r)}function em(r,i,a,h){var d=i.interleaved;return d===null?(a.next=a,vh(i)):(a.next=d.next,d.next=a),i.interleaved=a,wi(r,h)}function wi(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var qi=!1;function _h(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ei(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Wi(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,gt&2){var d=h.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),h.pending=i,wi(r,a)}return d=h.interleaved,d===null?(i.next=i,vh(h)):(i.next=d.next,d.next=i),h.interleaved=i,wi(r,a)}function nu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,bi(r,a)}}function nm(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var T={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=T:y=y.next=T,a=a.next}while(a!==null);y===null?d=y=i:y=y.next=i}else d=y=i;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ru(r,i,a,h){var d=r.updateQueue;qi=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var U=L,ne=U.next;U.next=null,T===null?y=ne:T.next=ne,T=U;var de=r.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==T&&(L===null?de.firstBaseUpdate=ne:L.next=ne,de.lastBaseUpdate=U))}if(y!==null){var me=d.baseState;T=0,de=ne=U=null,L=y;do{var fe=L.lane,Ie=L.eventTime;if((h&fe)===fe){de!==null&&(de=de.next={eventTime:Ie,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Pe=r,De=L;switch(fe=i,Ie=a,De.tag){case 1:if(Pe=De.payload,typeof Pe=="function"){me=Pe.call(Ie,me,fe);break e}me=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=De.payload,fe=typeof Pe=="function"?Pe.call(Ie,me,fe):Pe,fe==null)break e;me=_e({},me,fe);break e;case 2:qi=!0}}L.callback!==null&&L.lane!==0&&(r.flags|=64,fe=d.effects,fe===null?d.effects=[L]:fe.push(L))}else Ie={eventTime:Ie,lane:fe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(ne=de=Ie,U=me):de=de.next=Ie,T|=fe;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;fe=L,L=fe.next,fe.next=null,d.lastBaseUpdate=fe,d.shared.pending=null}}while(!0);if(de===null&&(U=me),d.baseState=U,d.firstBaseUpdate=ne,d.lastBaseUpdate=de,i=d.shared.interleaved,i!==null){d=i;do T|=d.lane,d=d.next;while(d!==i)}else y===null&&(d.shared.lanes=0);No|=T,r.lanes=T,r.memoizedState=me}}function rm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Ia={},Kr=zi(Ia),Ra=zi(Ia),Aa=zi(Ia);function Po(r){if(r===Ia)throw Error(t(174));return r}function wh(r,i){switch(kt(Aa,i),kt(Ra,r),kt(Kr,Ia),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:S(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=S(i,r)}Dt(Kr),kt(Kr,i)}function xs(){Dt(Kr),Dt(Ra),Dt(Aa)}function im(r){Po(Aa.current);var i=Po(Kr.current),a=S(i,r.type);i!==a&&(kt(Ra,r),kt(Kr,a))}function Eh(r){Ra.current===r&&(Dt(Kr),Dt(Ra))}var Ft=zi(0);function iu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Th=[];function Sh(){for(var r=0;r<Th.length;r++)Th[r]._workInProgressVersionPrimary=null;Th.length=0}var ou=pe.ReactCurrentDispatcher,Ih=pe.ReactCurrentBatchConfig,ko=0,Ut=null,Xt=null,on=null,su=!1,xa=!1,Ca=0,Uw=0;function In(){throw Error(t(321))}function Rh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Ir(r[a],i[a]))return!1;return!0}function Ah(r,i,a,h,d,y){if(ko=y,Ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ou.current=r===null||r.memoizedState===null?$w:Hw,r=a(h,d),xa){y=0;do{if(xa=!1,Ca=0,25<=y)throw Error(t(301));y+=1,on=Xt=null,i.updateQueue=null,ou.current=qw,r=a(h,d)}while(xa)}if(ou.current=uu,i=Xt!==null&&Xt.next!==null,ko=0,on=Xt=Ut=null,su=!1,i)throw Error(t(300));return r}function xh(){var r=Ca!==0;return Ca=0,r}function Qr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ut.memoizedState=on=r:on=on.next=r,on}function dr(){if(Xt===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Xt.next;var i=on===null?Ut.memoizedState:on.next;if(i!==null)on=i,Xt=r;else{if(r===null)throw Error(t(310));Xt=r,r={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},on===null?Ut.memoizedState=on=r:on=on.next=r}return on}function Pa(r,i){return typeof i=="function"?i(r):i}function Ch(r){var i=dr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Xt,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var L=T=null,U=null,ne=y;do{var de=ne.lane;if((ko&de)===de)U!==null&&(U=U.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),h=ne.hasEagerState?ne.eagerState:r(h,ne.action);else{var me={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};U===null?(L=U=me,T=h):U=U.next=me,Ut.lanes|=de,No|=de}ne=ne.next}while(ne!==null&&ne!==y);U===null?T=h:U.next=L,Ir(h,i.memoizedState)||(jn=!0),i.memoizedState=h,i.baseState=T,i.baseQueue=U,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,Ut.lanes|=y,No|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ph(r){var i=dr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do y=r(y,T.action),T=T.next;while(T!==d);Ir(y,i.memoizedState)||(jn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,h]}function om(){}function sm(r,i){var a=Ut,h=dr(),d=i(),y=!Ir(h.memoizedState,d);if(y&&(h.memoizedState=d,jn=!0),h=h.queue,kh(um.bind(null,a,h,r),[r]),h.getSnapshot!==i||y||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,ka(9,lm.bind(null,a,h,d,i),void 0,null),sn===null)throw Error(t(349));ko&30||am(a,i,d)}return d}function am(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ut.updateQueue,i===null?(i={lastEffect:null,stores:null},Ut.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function lm(r,i,a,h){i.value=a,i.getSnapshot=h,cm(i)&&hm(r)}function um(r,i,a){return a(function(){cm(i)&&hm(r)})}function cm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Ir(r,a)}catch{return!0}}function hm(r){var i=wi(r,1);i!==null&&Pr(i,r,1,-1)}function fm(r){var i=Qr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},i.queue=r,r=r.dispatch=zw.bind(null,Ut,r),[i.memoizedState,r]}function ka(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=Ut.updateQueue,i===null?(i={lastEffect:null,stores:null},Ut.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function dm(){return dr().memoizedState}function au(r,i,a,h){var d=Qr();Ut.flags|=r,d.memoizedState=ka(1|i,a,void 0,h===void 0?null:h)}function lu(r,i,a,h){var d=dr();h=h===void 0?null:h;var y=void 0;if(Xt!==null){var T=Xt.memoizedState;if(y=T.destroy,h!==null&&Rh(h,T.deps)){d.memoizedState=ka(i,a,y,h);return}}Ut.flags|=r,d.memoizedState=ka(1|i,a,y,h)}function pm(r,i){return au(8390656,8,r,i)}function kh(r,i){return lu(2048,8,r,i)}function mm(r,i){return lu(4,2,r,i)}function gm(r,i){return lu(4,4,r,i)}function ym(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function vm(r,i,a){return a=a!=null?a.concat([r]):null,lu(4,4,ym.bind(null,i,r),a)}function Nh(){}function _m(r,i){var a=dr();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Rh(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function wm(r,i){var a=dr();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Rh(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function Em(r,i,a){return ko&21?(Ir(a,i)||(a=_o(),Ut.lanes|=a,No|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,jn=!0),r.memoizedState=a)}function Bw(r,i){var a=st;st=a!==0&&4>a?a:4,r(!0);var h=Ih.transition;Ih.transition={};try{r(!1),i()}finally{st=a,Ih.transition=h}}function Tm(){return dr().memoizedState}function jw(r,i,a){var h=Yi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Sm(r))Im(i,a);else if(a=em(r,i,a,h),a!==null){var d=bn();Pr(a,r,h,d),Rm(a,i,h)}}function zw(r,i,a){var h=Yi(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sm(r))Im(i,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,L=y(T,a);if(d.hasEagerState=!0,d.eagerState=L,Ir(L,T)){var U=i.interleaved;U===null?(d.next=d,vh(i)):(d.next=U.next,U.next=d),i.interleaved=d;return}}catch{}finally{}a=em(r,i,d,h),a!==null&&(d=bn(),Pr(a,r,h,d),Rm(a,i,h))}}function Sm(r){var i=r.alternate;return r===Ut||i!==null&&i===Ut}function Im(r,i){xa=su=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Rm(r,i,a){if(a&4194240){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,bi(r,a)}}var uu={readContext:fr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},$w={readContext:fr,useCallback:function(r,i){return Qr().memoizedState=[r,i===void 0?null:i],r},useContext:fr,useEffect:pm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,au(4194308,4,ym.bind(null,i,r),a)},useLayoutEffect:function(r,i){return au(4194308,4,r,i)},useInsertionEffect:function(r,i){return au(4,2,r,i)},useMemo:function(r,i){var a=Qr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=Qr();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=jw.bind(null,Ut,r),[h.memoizedState,r]},useRef:function(r){var i=Qr();return r={current:r},i.memoizedState=r},useState:fm,useDebugValue:Nh,useDeferredValue:function(r){return Qr().memoizedState=r},useTransition:function(){var r=fm(!1),i=r[0];return r=Bw.bind(null,r[1]),Qr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=Ut,d=Qr();if(Mt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),sn===null)throw Error(t(349));ko&30||am(h,i,a)}d.memoizedState=a;var y={value:a,getSnapshot:i};return d.queue=y,pm(um.bind(null,h,y,r),[r]),h.flags|=2048,ka(9,lm.bind(null,h,y,a,i),void 0,null),a},useId:function(){var r=Qr(),i=sn.identifierPrefix;if(Mt){var a=_i,h=vi;a=(h&~(1<<32-hn(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ca++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Uw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Hw={readContext:fr,useCallback:_m,useContext:fr,useEffect:kh,useImperativeHandle:vm,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:wm,useReducer:Ch,useRef:dm,useState:function(){return Ch(Pa)},useDebugValue:Nh,useDeferredValue:function(r){var i=dr();return Em(i,Xt.memoizedState,r)},useTransition:function(){var r=Ch(Pa)[0],i=dr().memoizedState;return[r,i]},useMutableSource:om,useSyncExternalStore:sm,useId:Tm,unstable_isNewReconciler:!1},qw={readContext:fr,useCallback:_m,useContext:fr,useEffect:kh,useImperativeHandle:vm,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:wm,useReducer:Ph,useRef:dm,useState:function(){return Ph(Pa)},useDebugValue:Nh,useDeferredValue:function(r){var i=dr();return Xt===null?i.memoizedState=r:Em(i,Xt.memoizedState,r)},useTransition:function(){var r=Ph(Pa)[0],i=dr().memoizedState;return[r,i]},useMutableSource:om,useSyncExternalStore:sm,useId:Tm,unstable_isNewReconciler:!1};function Ar(r,i){if(r&&r.defaultProps){i=_e({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Dh(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:_e({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var cu={isMounted:function(r){return(r=r._reactInternals)?It(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=bn(),d=Yi(r),y=Ei(h,d);y.payload=i,a!=null&&(y.callback=a),i=Wi(r,y,d),i!==null&&(Pr(i,r,d,h),nu(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=bn(),d=Yi(r),y=Ei(h,d);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=Wi(r,y,d),i!==null&&(Pr(i,r,d,h),nu(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=bn(),h=Yi(r),d=Ei(a,h);d.tag=2,i!=null&&(d.callback=i),i=Wi(r,d,h),i!==null&&(Pr(i,r,h,a),nu(i,r,h))}};function Am(r,i,a,h,d,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):i.prototype&&i.prototype.isPureReactComponent?!ga(a,h)||!ga(d,y):!0}function xm(r,i,a){var h=!1,d=$i,y=i.contextType;return typeof y=="object"&&y!==null?y=fr(y):(d=Bn(i)?Ro:Sn.current,h=i.contextTypes,y=(h=h!=null)?ws(r,d):$i),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cu,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),i}function Cm(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&cu.enqueueReplaceState(i,i.state,null)}function Lh(r,i,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},_h(r);var y=i.contextType;typeof y=="object"&&y!==null?d.context=fr(y):(y=Bn(i)?Ro:Sn.current,d.context=ws(r,y)),d.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Dh(r,i,y,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&cu.enqueueReplaceState(d,d.state,null),ru(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Cs(r,i){try{var a="",h=i;do a+=ze(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:d,digest:null}}function Vh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function bh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ww=typeof WeakMap=="function"?WeakMap:Map;function Pm(r,i,a){a=Ei(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){yu||(yu=!0,Yh=h),bh(r,i)},a}function km(r,i,a){a=Ei(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=i.value;a.payload=function(){return h(d)},a.callback=function(){bh(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){bh(r,i),typeof h!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),a}function Nm(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Ww;var d=new Set;h.set(i,d)}else d=h.get(i),d===void 0&&(d=new Set,h.set(i,d));d.has(a)||(d.add(a),r=sE.bind(null,r,i,a),i.then(r,r))}function Dm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Lm(r,i,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ei(-1,1),i.tag=2,Wi(a,i,1))),a.lanes|=1),r)}var Kw=pe.ReactCurrentOwner,jn=!1;function Vn(r,i,a,h){i.child=r===null?Zp(i,null,a,h):Is(i,r.child,a,h)}function Vm(r,i,a,h,d){a=a.render;var y=i.ref;return As(i,d),h=Ah(r,i,a,h,y,d),a=xh(),r!==null&&!jn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Ti(r,i,d)):(Mt&&a&&uh(i),i.flags|=1,Vn(r,i,h,d),i.child)}function bm(r,i,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!rf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Om(r,i,y,h,d)):(r=Su(a.type,null,h,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!(r.lanes&d)){var T=y.memoizedProps;if(a=a.compare,a=a!==null?a:ga,a(T,h)&&r.ref===i.ref)return Ti(r,i,d)}return i.flags|=1,r=Ji(y,h),r.ref=i.ref,r.return=i,i.child=r}function Om(r,i,a,h,d){if(r!==null){var y=r.memoizedProps;if(ga(y,h)&&r.ref===i.ref)if(jn=!1,i.pendingProps=h=y,(r.lanes&d)!==0)r.flags&131072&&(jn=!0);else return i.lanes=r.lanes,Ti(r,i,d)}return Oh(r,i,a,h,d)}function Mm(r,i,a){var h=i.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ks,Zn),Zn|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,kt(ks,Zn),Zn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,kt(ks,Zn),Zn|=h}else y!==null?(h=y.baseLanes|a,i.memoizedState=null):h=a,kt(ks,Zn),Zn|=h;return Vn(r,i,d,a),i.child}function Fm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Oh(r,i,a,h,d){var y=Bn(a)?Ro:Sn.current;return y=ws(i,y),As(i,d),a=Ah(r,i,a,h,y,d),h=xh(),r!==null&&!jn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Ti(r,i,d)):(Mt&&h&&uh(i),i.flags|=1,Vn(r,i,a,d),i.child)}function Um(r,i,a,h,d){if(Bn(a)){var y=!0;Ql(i)}else y=!1;if(As(i,d),i.stateNode===null)fu(r,i),xm(i,a,h),Lh(i,a,h,d),h=!0;else if(r===null){var T=i.stateNode,L=i.memoizedProps;T.props=L;var U=T.context,ne=a.contextType;typeof ne=="object"&&ne!==null?ne=fr(ne):(ne=Bn(a)?Ro:Sn.current,ne=ws(i,ne));var de=a.getDerivedStateFromProps,me=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function";me||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==h||U!==ne)&&Cm(i,T,h,ne),qi=!1;var fe=i.memoizedState;T.state=fe,ru(i,h,T,d),U=i.memoizedState,L!==h||fe!==U||Un.current||qi?(typeof de=="function"&&(Dh(i,a,de,h),U=i.memoizedState),(L=qi||Am(i,a,L,h,fe,U,ne))?(me||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=U),T.props=h,T.state=U,T.context=ne,h=L):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{T=i.stateNode,tm(r,i),L=i.memoizedProps,ne=i.type===i.elementType?L:Ar(i.type,L),T.props=ne,me=i.pendingProps,fe=T.context,U=a.contextType,typeof U=="object"&&U!==null?U=fr(U):(U=Bn(a)?Ro:Sn.current,U=ws(i,U));var Ie=a.getDerivedStateFromProps;(de=typeof Ie=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==me||fe!==U)&&Cm(i,T,h,U),qi=!1,fe=i.memoizedState,T.state=fe,ru(i,h,T,d);var Pe=i.memoizedState;L!==me||fe!==Pe||Un.current||qi?(typeof Ie=="function"&&(Dh(i,a,Ie,h),Pe=i.memoizedState),(ne=qi||Am(i,a,ne,h,fe,Pe,U)||!1)?(de||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Pe,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Pe,U)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Pe),T.props=h,T.state=Pe,T.context=U,h=ne):(typeof T.componentDidUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=1024),h=!1)}return Mh(r,i,a,h,y,d)}function Mh(r,i,a,h,d,y){Fm(r,i);var T=(i.flags&128)!==0;if(!h&&!T)return d&&Hp(i,a,!1),Ti(r,i,y);h=i.stateNode,Kw.current=i;var L=T&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&T?(i.child=Is(i,r.child,null,y),i.child=Is(i,null,L,y)):Vn(r,i,L,y),i.memoizedState=h.state,d&&Hp(i,a,!0),i.child}function Bm(r){var i=r.stateNode;i.pendingContext?zp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&zp(r,i.context,!1),wh(r,i.containerInfo)}function jm(r,i,a,h,d){return Ss(),dh(d),i.flags|=256,Vn(r,i,a,h),i.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Uh(r){return{baseLanes:r,cachePool:null,transitions:null}}function zm(r,i,a){var h=i.pendingProps,d=Ft.current,y=!1,T=(i.flags&128)!==0,L;if((L=T)||(L=r!==null&&r.memoizedState===null?!1:(d&2)!==0),L?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),kt(Ft,d&1),r===null)return fh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=h.children,r=h.fallback,y?(h=i.mode,y=i.child,T={mode:"hidden",children:T},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Iu(T,h,0,null),r=bo(r,h,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Uh(a),i.memoizedState=Fh,r):Bh(i,T));if(d=r.memoizedState,d!==null&&(L=d.dehydrated,L!==null))return Qw(r,i,T,h,L,d,a);if(y){y=h.fallback,T=i.mode,d=r.child,L=d.sibling;var U={mode:"hidden",children:h.children};return!(T&1)&&i.child!==d?(h=i.child,h.childLanes=0,h.pendingProps=U,i.deletions=null):(h=Ji(d,U),h.subtreeFlags=d.subtreeFlags&14680064),L!==null?y=Ji(L,y):(y=bo(y,T,a,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,T=r.child.memoizedState,T=T===null?Uh(a):{baseLanes:T.baseLanes|a,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~a,i.memoizedState=Fh,h}return y=r.child,r=y.sibling,h=Ji(y,{mode:"visible",children:h.children}),!(i.mode&1)&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function Bh(r,i){return i=Iu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function hu(r,i,a,h){return h!==null&&dh(h),Is(i,r.child,null,a),r=Bh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Qw(r,i,a,h,d,y,T){if(a)return i.flags&256?(i.flags&=-257,h=Vh(Error(t(422))),hu(r,i,T,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=h.fallback,d=i.mode,h=Iu({mode:"visible",children:h.children},d,0,null),y=bo(y,d,T,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,i.mode&1&&Is(i,r.child,null,T),i.child.memoizedState=Uh(T),i.memoizedState=Fh,y);if(!(i.mode&1))return hu(r,i,T,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var L=h.dgst;return h=L,y=Error(t(419)),h=Vh(y,h,void 0),hu(r,i,T,h)}if(L=(T&r.childLanes)!==0,jn||L){if(h=sn,h!==null){switch(T&-T){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|T)?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,wi(r,d),Pr(h,r,d,-1))}return nf(),h=Vh(Error(t(421))),hu(r,i,T,h)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=aE.bind(null,r),d._reactRetry=i,null):(r=y.treeContext,Jn=ji(d.nextSibling),Xn=i,Mt=!0,Rr=null,r!==null&&(cr[hr++]=vi,cr[hr++]=_i,cr[hr++]=Ao,vi=r.id,_i=r.overflow,Ao=i),i=Bh(i,h.children),i.flags|=4096,i)}function $m(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),yh(r.return,i,a)}function jh(r,i,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function Hm(r,i,a){var h=i.pendingProps,d=h.revealOrder,y=h.tail;if(Vn(r,i,h.children,a),h=Ft.current,h&2)h=h&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$m(r,a,i);else if(r.tag===19)$m(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(kt(Ft,h),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&iu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),jh(i,!1,d,a,y);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&iu(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}jh(i,!0,a,null,y);break;case"together":jh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ti(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),No|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Ji(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Ji(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Gw(r,i,a){switch(i.tag){case 3:Bm(i),Ss();break;case 5:im(i);break;case 1:Bn(i.type)&&Ql(i);break;case 4:wh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,d=i.memoizedProps.value;kt(eu,h._currentValue),h._currentValue=d;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(kt(Ft,Ft.current&1),i.flags|=128,null):a&i.child.childLanes?zm(r,i,a):(kt(Ft,Ft.current&1),r=Ti(r,i,a),r!==null?r.sibling:null);kt(Ft,Ft.current&1);break;case 19:if(h=(a&i.childLanes)!==0,r.flags&128){if(h)return Hm(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),kt(Ft,Ft.current),h)break;return null;case 22:case 23:return i.lanes=0,Mm(r,i,a)}return Ti(r,i,a)}var qm,zh,Wm,Km;qm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zh=function(){},Wm=function(r,i,a,h){var d=r.memoizedProps;if(d!==h){r=i.stateNode,Po(Kr.current);var y=null;switch(a){case"input":d=zt(r,d),h=zt(r,h),y=[];break;case"select":d=_e({},d,{value:void 0}),h=_e({},h,{value:void 0}),y=[];break;case"textarea":d=Vt(r,d),h=Vt(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ql)}pt(a,h);var T;a=null;for(ne in d)if(!h.hasOwnProperty(ne)&&d.hasOwnProperty(ne)&&d[ne]!=null)if(ne==="style"){var L=d[ne];for(T in L)L.hasOwnProperty(T)&&(a||(a={}),a[T]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?y||(y=[]):(y=y||[]).push(ne,null));for(ne in h){var U=h[ne];if(L=d!=null?d[ne]:void 0,h.hasOwnProperty(ne)&&U!==L&&(U!=null||L!=null))if(ne==="style")if(L){for(T in L)!L.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(a||(a={}),a[T]="");for(T in U)U.hasOwnProperty(T)&&L[T]!==U[T]&&(a||(a={}),a[T]=U[T])}else a||(y||(y=[]),y.push(ne,a)),a=U;else ne==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,L=L?L.__html:void 0,U!=null&&L!==U&&(y=y||[]).push(ne,U)):ne==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(ne,""+U):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(U!=null&&ne==="onScroll"&&Nt("scroll",r),y||L===U||(y=[])):(y=y||[]).push(ne,U))}a&&(y=y||[]).push("style",a);var ne=y;(i.updateQueue=ne)&&(i.flags|=4)}},Km=function(r,i,a,h){a!==h&&(i.flags|=4)};function Na(r,i){if(!Mt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Rn(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function Yw(r,i,a){var h=i.pendingProps;switch(ch(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(i),null;case 1:return Bn(i.type)&&Kl(),Rn(i),null;case 3:return h=i.stateNode,xs(),Dt(Un),Dt(Sn),Sh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Jl(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Rr!==null&&(Zh(Rr),Rr=null))),zh(r,i),Rn(i),null;case 5:Eh(i);var d=Po(Aa.current);if(a=i.type,r!==null&&i.stateNode!=null)Wm(r,i,a,h,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Rn(i),null}if(r=Po(Kr.current),Jl(i)){h=i.stateNode,a=i.type;var y=i.memoizedProps;switch(h[Wr]=i,h[Ea]=y,r=(i.mode&1)!==0,a){case"dialog":Nt("cancel",h),Nt("close",h);break;case"iframe":case"object":case"embed":Nt("load",h);break;case"video":case"audio":for(d=0;d<va.length;d++)Nt(va[d],h);break;case"source":Nt("error",h);break;case"img":case"image":case"link":Nt("error",h),Nt("load",h);break;case"details":Nt("toggle",h);break;case"input":br(h,y),Nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Nt("invalid",h);break;case"textarea":wn(h,y),Nt("invalid",h)}pt(a,y),d=null;for(var T in y)if(y.hasOwnProperty(T)){var L=y[T];T==="children"?typeof L=="string"?h.textContent!==L&&(y.suppressHydrationWarning!==!0&&Hl(h.textContent,L,r),d=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(y.suppressHydrationWarning!==!0&&Hl(h.textContent,L,r),d=["children",""+L]):s.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&Nt("scroll",h)}switch(a){case"input":tn(h),Pi(h,y,!0);break;case"textarea":tn(h),nn(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ql)}h=d,i.updateQueue=h,h!==null&&(i.flags|=4)}else{T=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=wt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(a,{is:h.is}):(r=T.createElement(a),a==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,a),r[Wr]=i,r[Ea]=h,qm(r,i,!1,!1),i.stateNode=r;e:{switch(T=mt(a,h),a){case"dialog":Nt("cancel",r),Nt("close",r),d=h;break;case"iframe":case"object":case"embed":Nt("load",r),d=h;break;case"video":case"audio":for(d=0;d<va.length;d++)Nt(va[d],r);d=h;break;case"source":Nt("error",r),d=h;break;case"img":case"image":case"link":Nt("error",r),Nt("load",r),d=h;break;case"details":Nt("toggle",r),d=h;break;case"input":br(r,h),d=zt(r,h),Nt("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=_e({},h,{value:void 0}),Nt("invalid",r);break;case"textarea":wn(r,h),d=Vt(r,h),Nt("invalid",r);break;default:d=h}pt(a,d),L=d;for(y in L)if(L.hasOwnProperty(y)){var U=L[y];y==="style"?$e(r,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&_(r,U)):y==="children"?typeof U=="string"?(a!=="textarea"||U!=="")&&k(r,U):typeof U=="number"&&k(r,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?U!=null&&y==="onScroll"&&Nt("scroll",r):U!=null&&ie(r,y,U,T))}switch(a){case"input":tn(r),Pi(r,h,!1);break;case"textarea":tn(r),nn(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Xe(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?_n(r,!!h.multiple,y,!1):h.defaultValue!=null&&_n(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=ql)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Rn(i),null;case 6:if(r&&i.stateNode!=null)Km(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=Po(Aa.current),Po(Kr.current),Jl(i)){if(h=i.stateNode,a=i.memoizedProps,h[Wr]=i,(y=h.nodeValue!==a)&&(r=Xn,r!==null))switch(r.tag){case 3:Hl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Hl(h.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Wr]=i,i.stateNode=h}return Rn(i),null;case 13:if(Dt(Ft),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Mt&&Jn!==null&&i.mode&1&&!(i.flags&128))Yp(),Ss(),i.flags|=98560,y=!1;else if(y=Jl(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Wr]=i}else Ss(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Rn(i),y=!1}else Rr!==null&&(Zh(Rr),Rr=null),y=!0;if(!y)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,i.mode&1&&(r===null||Ft.current&1?Jt===0&&(Jt=3):nf())),i.updateQueue!==null&&(i.flags|=4),Rn(i),null);case 4:return xs(),zh(r,i),r===null&&_a(i.stateNode.containerInfo),Rn(i),null;case 10:return gh(i.type._context),Rn(i),null;case 17:return Bn(i.type)&&Kl(),Rn(i),null;case 19:if(Dt(Ft),y=i.memoizedState,y===null)return Rn(i),null;if(h=(i.flags&128)!==0,T=y.rendering,T===null)if(h)Na(y,!1);else{if(Jt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(T=iu(r),T!==null){for(i.flags|=128,Na(y,!1),h=T.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)y=a,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return kt(Ft,Ft.current&1|2),i.child}r=r.sibling}y.tail!==null&&ct()>Ns&&(i.flags|=128,h=!0,Na(y,!1),i.lanes=4194304)}else{if(!h)if(r=iu(T),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Na(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Mt)return Rn(i),null}else 2*ct()-y.renderingStartTime>Ns&&a!==1073741824&&(i.flags|=128,h=!0,Na(y,!1),i.lanes=4194304);y.isBackwards?(T.sibling=i.child,i.child=T):(a=y.last,a!==null?a.sibling=T:i.child=T,y.last=T)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=ct(),i.sibling=null,a=Ft.current,kt(Ft,h?a&1|2:a&1),i):(Rn(i),null);case 22:case 23:return tf(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&i.mode&1?Zn&1073741824&&(Rn(i),i.subtreeFlags&6&&(i.flags|=8192)):Rn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Xw(r,i){switch(ch(i),i.tag){case 1:return Bn(i.type)&&Kl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return xs(),Dt(Un),Dt(Sn),Sh(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Eh(i),null;case 13:if(Dt(Ft),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ss()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Dt(Ft),null;case 4:return xs(),null;case 10:return gh(i.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var du=!1,An=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ps(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){jt(r,i,h)}else a.current=null}function $h(r,i,a){try{a()}catch(h){jt(r,i,h)}}var Qm=!1;function Zw(r,i){if(th=Fi,r=Ap(),Kc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var T=0,L=-1,U=-1,ne=0,de=0,me=r,fe=null;t:for(;;){for(var Ie;me!==a||d!==0&&me.nodeType!==3||(L=T+d),me!==y||h!==0&&me.nodeType!==3||(U=T+h),me.nodeType===3&&(T+=me.nodeValue.length),(Ie=me.firstChild)!==null;)fe=me,me=Ie;for(;;){if(me===r)break t;if(fe===a&&++ne===d&&(L=T),fe===y&&++de===h&&(U=T),(Ie=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ie}a=L===-1||U===-1?null:{start:L,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:r,selectionRange:a},Fi=!1,Ce=i;Ce!==null;)if(i=Ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ce=r;else for(;Ce!==null;){i=Ce;try{var Pe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var De=Pe.memoizedProps,$t=Pe.memoizedState,X=i.stateNode,H=X.getSnapshotBeforeUpdate(i.elementType===i.type?De:Ar(i.type,De),$t);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var ee=i.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){jt(i,i.return,ye)}if(r=i.sibling,r!==null){r.return=i.return,Ce=r;break}Ce=i.return}return Pe=Qm,Qm=!1,Pe}function Da(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&$h(i,a,y)}d=d.next}while(d!==h)}}function pu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function Hh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Gm(r){var i=r.alternate;i!==null&&(r.alternate=null,Gm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Wr],delete i[Ea],delete i[sh],delete i[bw],delete i[Ow])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ym(r){return r.tag===5||r.tag===3||r.tag===4}function Xm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ym(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ql));else if(h!==4&&(r=r.child,r!==null))for(qh(r,i,a),r=r.sibling;r!==null;)qh(r,i,a),r=r.sibling}function Wh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Wh(r,i,a),r=r.sibling;r!==null;)Wh(r,i,a),r=r.sibling}var pn=null,xr=!1;function Ki(r,i,a){for(a=a.child;a!==null;)Jm(r,i,a),a=a.sibling}function Jm(r,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(xt,a)}catch{}switch(a.tag){case 5:An||Ps(a,i);case 6:var h=pn,d=xr;pn=null,Ki(r,i,a),pn=h,xr=d,pn!==null&&(xr?(r=pn,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):pn.removeChild(a.stateNode));break;case 18:pn!==null&&(xr?(r=pn,a=a.stateNode,r.nodeType===8?oh(r.parentNode,a):r.nodeType===1&&oh(r,a),Tr(r)):oh(pn,a.stateNode));break;case 4:h=pn,d=xr,pn=a.stateNode.containerInfo,xr=!0,Ki(r,i,a),pn=h,xr=d;break;case 0:case 11:case 14:case 15:if(!An&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&$h(a,i,T),d=d.next}while(d!==h)}Ki(r,i,a);break;case 1:if(!An&&(Ps(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(L){jt(a,i,L)}Ki(r,i,a);break;case 21:Ki(r,i,a);break;case 22:a.mode&1?(An=(h=An)||a.memoizedState!==null,Ki(r,i,a),An=h):Ki(r,i,a);break;default:Ki(r,i,a)}}function Zm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Jw),i.forEach(function(h){var d=lE.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Cr(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,T=i,L=T;e:for(;L!==null;){switch(L.tag){case 5:pn=L.stateNode,xr=!1;break e;case 3:pn=L.stateNode.containerInfo,xr=!0;break e;case 4:pn=L.stateNode.containerInfo,xr=!0;break e}L=L.return}if(pn===null)throw Error(t(160));Jm(y,T,d),pn=null,xr=!1;var U=d.alternate;U!==null&&(U.return=null),d.return=null}catch(ne){jt(d,i,ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)eg(i,r),i=i.sibling}function eg(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cr(i,r),Gr(r),h&4){try{Da(3,r,r.return),pu(3,r)}catch(De){jt(r,r.return,De)}try{Da(5,r,r.return)}catch(De){jt(r,r.return,De)}}break;case 1:Cr(i,r),Gr(r),h&512&&a!==null&&Ps(a,a.return);break;case 5:if(Cr(i,r),Gr(r),h&512&&a!==null&&Ps(a,a.return),r.flags&32){var d=r.stateNode;try{k(d,"")}catch(De){jt(r,r.return,De)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,T=a!==null?a.memoizedProps:y,L=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{L==="input"&&y.type==="radio"&&y.name!=null&&si(d,y),mt(L,T);var ne=mt(L,y);for(T=0;T<U.length;T+=2){var de=U[T],me=U[T+1];de==="style"?$e(d,me):de==="dangerouslySetInnerHTML"?_(d,me):de==="children"?k(d,me):ie(d,de,me,ne)}switch(L){case"input":rr(d,y);break;case"textarea":vr(d,y);break;case"select":var fe=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var Ie=y.value;Ie!=null?_n(d,!!y.multiple,Ie,!1):fe!==!!y.multiple&&(y.defaultValue!=null?_n(d,!!y.multiple,y.defaultValue,!0):_n(d,!!y.multiple,y.multiple?[]:"",!1))}d[Ea]=y}catch(De){jt(r,r.return,De)}}break;case 6:if(Cr(i,r),Gr(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(De){jt(r,r.return,De)}}break;case 3:if(Cr(i,r),Gr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(i.containerInfo)}catch(De){jt(r,r.return,De)}break;case 4:Cr(i,r),Gr(r);break;case 13:Cr(i,r),Gr(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(Gh=ct())),h&4&&Zm(r);break;case 22:if(de=a!==null&&a.memoizedState!==null,r.mode&1?(An=(ne=An)||de,Cr(i,r),An=ne):Cr(i,r),Gr(r),h&8192){if(ne=r.memoizedState!==null,(r.stateNode.isHidden=ne)&&!de&&r.mode&1)for(Ce=r,de=r.child;de!==null;){for(me=Ce=de;Ce!==null;){switch(fe=Ce,Ie=fe.child,fe.tag){case 0:case 11:case 14:case 15:Da(4,fe,fe.return);break;case 1:Ps(fe,fe.return);var Pe=fe.stateNode;if(typeof Pe.componentWillUnmount=="function"){h=fe,a=fe.return;try{i=h,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(De){jt(h,a,De)}}break;case 5:Ps(fe,fe.return);break;case 22:if(fe.memoizedState!==null){rg(me);continue}}Ie!==null?(Ie.return=fe,Ce=Ie):rg(me)}de=de.sibling}e:for(de=null,me=r;;){if(me.tag===5){if(de===null){de=me;try{d=me.stateNode,ne?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(L=me.stateNode,U=me.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,L.style.display=ae("display",T))}catch(De){jt(r,r.return,De)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(De){jt(r,r.return,De)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Cr(i,r),Gr(r),h&4&&Zm(r);break;case 21:break;default:Cr(i,r),Gr(r)}}function Gr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Ym(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(k(d,""),h.flags&=-33);var y=Xm(r);Wh(r,y,d);break;case 3:case 4:var T=h.stateNode.containerInfo,L=Xm(r);qh(r,L,T);break;default:throw Error(t(161))}}catch(U){jt(r,r.return,U)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function eE(r,i,a){Ce=r,tg(r)}function tg(r,i,a){for(var h=(r.mode&1)!==0;Ce!==null;){var d=Ce,y=d.child;if(d.tag===22&&h){var T=d.memoizedState!==null||du;if(!T){var L=d.alternate,U=L!==null&&L.memoizedState!==null||An;L=du;var ne=An;if(du=T,(An=U)&&!ne)for(Ce=d;Ce!==null;)T=Ce,U=T.child,T.tag===22&&T.memoizedState!==null?ig(d):U!==null?(U.return=T,Ce=U):ig(d);for(;y!==null;)Ce=y,tg(y),y=y.sibling;Ce=d,du=L,An=ne}ng(r)}else d.subtreeFlags&8772&&y!==null?(y.return=d,Ce=y):ng(r)}}function ng(r){for(;Ce!==null;){var i=Ce;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:An||pu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!An)if(a===null)h.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Ar(i.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&rm(i,y,h);break;case 3:var T=i.updateQueue;if(T!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}rm(i,T,a)}break;case 5:var L=i.stateNode;if(a===null&&i.flags&4){a=L;var U=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&a.focus();break;case"img":U.src&&(a.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ne=i.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Tr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||i.flags&512&&Hh(i)}catch(fe){jt(i,i.return,fe)}}if(i===r){Ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,Ce=a;break}Ce=i.return}}function rg(r){for(;Ce!==null;){var i=Ce;if(i===r){Ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Ce=a;break}Ce=i.return}}function ig(r){for(;Ce!==null;){var i=Ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{pu(4,i)}catch(U){jt(i,a,U)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var d=i.return;try{h.componentDidMount()}catch(U){jt(i,d,U)}}var y=i.return;try{Hh(i)}catch(U){jt(i,y,U)}break;case 5:var T=i.return;try{Hh(i)}catch(U){jt(i,T,U)}}}catch(U){jt(i,i.return,U)}if(i===r){Ce=null;break}var L=i.sibling;if(L!==null){L.return=i.return,Ce=L;break}Ce=i.return}}var tE=Math.ceil,mu=pe.ReactCurrentDispatcher,Kh=pe.ReactCurrentOwner,pr=pe.ReactCurrentBatchConfig,gt=0,sn=null,Kt=null,mn=0,Zn=0,ks=zi(0),Jt=0,La=null,No=0,gu=0,Qh=0,Va=null,zn=null,Gh=0,Ns=1/0,Si=null,yu=!1,Yh=null,Qi=null,vu=!1,Gi=null,_u=0,ba=0,Xh=null,wu=-1,Eu=0;function bn(){return gt&6?ct():wu!==-1?wu:wu=ct()}function Yi(r){return r.mode&1?gt&2&&mn!==0?mn&-mn:Fw.transition!==null?(Eu===0&&(Eu=_o()),Eu):(r=st,r!==0||(r=window.event,r=r===void 0?16:ua(r.type)),r):1}function Pr(r,i,a,h){if(50<ba)throw ba=0,Xh=null,Error(t(185));Vi(r,a,h),(!(gt&2)||r!==sn)&&(r===sn&&(!(gt&2)&&(gu|=a),Jt===4&&Xi(r,mn)),$n(r,h),a===1&&gt===0&&!(i.mode&1)&&(Ns=ct()+500,Gl&&Hi()))}function $n(r,i){var a=r.callbackNode;hi(r,i);var h=vo(r,r===sn?mn:0);if(h===0)a!==null&&Tn(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&Tn(a),i===1)r.tag===0?Mw(sg.bind(null,r)):qp(sg.bind(null,r)),Lw(function(){!(gt&6)&&Hi()}),a=null;else{switch(Oi(h)){case 1:a=ar;break;case 4:a=ot;break;case 16:a=Rt;break;case 536870912:a=Br;break;default:a=Rt}a=pg(a,og.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function og(r,i){if(wu=-1,Eu=0,gt&6)throw Error(t(327));var a=r.callbackNode;if(Ds()&&r.callbackNode!==a)return null;var h=vo(r,r===sn?mn:0);if(h===0)return null;if(h&30||h&r.expiredLanes||i)i=Tu(r,h);else{i=h;var d=gt;gt|=2;var y=lg();(sn!==r||mn!==i)&&(Si=null,Ns=ct()+500,Lo(r,i));do try{iE();break}catch(L){ag(r,L)}while(!0);mh(),mu.current=y,gt=d,Kt!==null?i=0:(sn=null,mn=0,i=Jt)}if(i!==0){if(i===2&&(d=Qn(r),d!==0&&(h=d,i=Jh(r,d))),i===1)throw a=La,Lo(r,0),Xi(r,h),$n(r,ct()),a;if(i===6)Xi(r,h);else{if(d=r.current.alternate,!(h&30)&&!nE(d)&&(i=Tu(r,h),i===2&&(y=Qn(r),y!==0&&(h=y,i=Jh(r,y))),i===1))throw a=La,Lo(r,0),Xi(r,h),$n(r,ct()),a;switch(r.finishedWork=d,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Vo(r,zn,Si);break;case 3:if(Xi(r,h),(h&130023424)===h&&(i=Gh+500-ct(),10<i)){if(vo(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){bn(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ih(Vo.bind(null,r,zn,Si),i);break}Vo(r,zn,Si);break;case 4:if(Xi(r,h),(h&4194240)===h)break;for(i=r.eventTimes,d=-1;0<h;){var T=31-hn(h);y=1<<T,T=i[T],T>d&&(d=T),h&=~y}if(h=d,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*tE(h/1960))-h,10<h){r.timeoutHandle=ih(Vo.bind(null,r,zn,Si),h);break}Vo(r,zn,Si);break;case 5:Vo(r,zn,Si);break;default:throw Error(t(329))}}}return $n(r,ct()),r.callbackNode===a?og.bind(null,r):null}function Jh(r,i){var a=Va;return r.current.memoizedState.isDehydrated&&(Lo(r,i).flags|=256),r=Tu(r,i),r!==2&&(i=zn,zn=a,i!==null&&Zh(i)),r}function Zh(r){zn===null?zn=r:zn.push.apply(zn,r)}function nE(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!Ir(y(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(r,i){for(i&=~Qh,i&=~gu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-hn(i),h=1<<a;r[a]=-1,i&=~h}}function sg(r){if(gt&6)throw Error(t(327));Ds();var i=vo(r,0);if(!(i&1))return $n(r,ct()),null;var a=Tu(r,i);if(r.tag!==0&&a===2){var h=Qn(r);h!==0&&(i=h,a=Jh(r,h))}if(a===1)throw a=La,Lo(r,0),Xi(r,i),$n(r,ct()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Vo(r,zn,Si),$n(r,ct()),null}function ef(r,i){var a=gt;gt|=1;try{return r(i)}finally{gt=a,gt===0&&(Ns=ct()+500,Gl&&Hi())}}function Do(r){Gi!==null&&Gi.tag===0&&!(gt&6)&&Ds();var i=gt;gt|=1;var a=pr.transition,h=st;try{if(pr.transition=null,st=1,r)return r()}finally{st=h,pr.transition=a,gt=i,!(gt&6)&&Hi()}}function tf(){Zn=ks.current,Dt(ks)}function Lo(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Dw(a)),Kt!==null)for(a=Kt.return;a!==null;){var h=a;switch(ch(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Kl();break;case 3:xs(),Dt(Un),Dt(Sn),Sh();break;case 5:Eh(h);break;case 4:xs();break;case 13:Dt(Ft);break;case 19:Dt(Ft);break;case 10:gh(h.type._context);break;case 22:case 23:tf()}a=a.return}if(sn=r,Kt=r=Ji(r.current,null),mn=Zn=i,Jt=0,La=null,Qh=gu=No=0,zn=Va=null,Co!==null){for(i=0;i<Co.length;i++)if(a=Co[i],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var T=y.next;y.next=d,h.next=T}a.pending=h}Co=null}return r}function ag(r,i){do{var a=Kt;try{if(mh(),ou.current=uu,su){for(var h=Ut.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}su=!1}if(ko=0,on=Xt=Ut=null,xa=!1,Ca=0,Kh.current=null,a===null||a.return===null){Jt=1,La=i,Kt=null;break}e:{var y=r,T=a.return,L=a,U=i;if(i=mn,L.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=U,de=L,me=de.tag;if(!(de.mode&1)&&(me===0||me===11||me===15)){var fe=de.alternate;fe?(de.updateQueue=fe.updateQueue,de.memoizedState=fe.memoizedState,de.lanes=fe.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ie=Dm(T);if(Ie!==null){Ie.flags&=-257,Lm(Ie,T,L,y,i),Ie.mode&1&&Nm(y,ne,i),i=Ie,U=ne;var Pe=i.updateQueue;if(Pe===null){var De=new Set;De.add(U),i.updateQueue=De}else Pe.add(U);break e}else{if(!(i&1)){Nm(y,ne,i),nf();break e}U=Error(t(426))}}else if(Mt&&L.mode&1){var $t=Dm(T);if($t!==null){!($t.flags&65536)&&($t.flags|=256),Lm($t,T,L,y,i),dh(Cs(U,L));break e}}y=U=Cs(U,L),Jt!==4&&(Jt=2),Va===null?Va=[y]:Va.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var X=Pm(y,U,i);nm(y,X);break e;case 1:L=U;var H=y.type,ee=y.stateNode;if(!(y.flags&128)&&(typeof H.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Qi===null||!Qi.has(ee)))){y.flags|=65536,i&=-i,y.lanes|=i;var ye=km(y,L,i);nm(y,ye);break e}}y=y.return}while(y!==null)}cg(a)}catch(Le){i=Le,Kt===a&&a!==null&&(Kt=a=a.return);continue}break}while(!0)}function lg(){var r=mu.current;return mu.current=uu,r===null?uu:r}function nf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sn===null||!(No&268435455)&&!(gu&268435455)||Xi(sn,mn)}function Tu(r,i){var a=gt;gt|=2;var h=lg();(sn!==r||mn!==i)&&(Si=null,Lo(r,i));do try{rE();break}catch(d){ag(r,d)}while(!0);if(mh(),gt=a,mu.current=h,Kt!==null)throw Error(t(261));return sn=null,mn=0,Jt}function rE(){for(;Kt!==null;)ug(Kt)}function iE(){for(;Kt!==null&&!Ni();)ug(Kt)}function ug(r){var i=dg(r.alternate,r,Zn);r.memoizedProps=r.pendingProps,i===null?cg(r):Kt=i,Kh.current=null}function cg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=Xw(a,i),a!==null){a.flags&=32767,Kt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Jt=6,Kt=null;return}}else if(a=Yw(a,i,Zn),a!==null){Kt=a;return}if(i=i.sibling,i!==null){Kt=i;return}Kt=i=r}while(i!==null);Jt===0&&(Jt=5)}function Vo(r,i,a){var h=st,d=pr.transition;try{pr.transition=null,st=1,oE(r,i,a,h)}finally{pr.transition=d,st=h}return null}function oE(r,i,a,h){do Ds();while(Gi!==null);if(gt&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(Ct(r,y),r===sn&&(Kt=sn=null,mn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vu||(vu=!0,pg(Rt,function(){return Ds(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=pr.transition,pr.transition=null;var T=st;st=1;var L=gt;gt|=4,Kh.current=null,Zw(r,a),eg(a,r),Rw(nh),Fi=!!th,nh=th=null,r.current=a,eE(a),ui(),gt=L,st=T,pr.transition=y}else r.current=a;if(vu&&(vu=!1,Gi=r,_u=d),y=r.pendingLanes,y===0&&(Qi=null),yo(a.stateNode),$n(r,ct()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(yu)throw yu=!1,r=Yh,Yh=null,r;return _u&1&&r.tag!==0&&Ds(),y=r.pendingLanes,y&1?r===Xh?ba++:(ba=0,Xh=r):ba=0,Hi(),null}function Ds(){if(Gi!==null){var r=Oi(_u),i=pr.transition,a=st;try{if(pr.transition=null,st=16>r?16:r,Gi===null)var h=!1;else{if(r=Gi,Gi=null,_u=0,gt&6)throw Error(t(331));var d=gt;for(gt|=4,Ce=r.current;Ce!==null;){var y=Ce,T=y.child;if(Ce.flags&16){var L=y.deletions;if(L!==null){for(var U=0;U<L.length;U++){var ne=L[U];for(Ce=ne;Ce!==null;){var de=Ce;switch(de.tag){case 0:case 11:case 15:Da(8,de,y)}var me=de.child;if(me!==null)me.return=de,Ce=me;else for(;Ce!==null;){de=Ce;var fe=de.sibling,Ie=de.return;if(Gm(de),de===ne){Ce=null;break}if(fe!==null){fe.return=Ie,Ce=fe;break}Ce=Ie}}}var Pe=y.alternate;if(Pe!==null){var De=Pe.child;if(De!==null){Pe.child=null;do{var $t=De.sibling;De.sibling=null,De=$t}while(De!==null)}}Ce=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,Ce=T;else e:for(;Ce!==null;){if(y=Ce,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Da(9,y,y.return)}var X=y.sibling;if(X!==null){X.return=y.return,Ce=X;break e}Ce=y.return}}var H=r.current;for(Ce=H;Ce!==null;){T=Ce;var ee=T.child;if(T.subtreeFlags&2064&&ee!==null)ee.return=T,Ce=ee;else e:for(T=H;Ce!==null;){if(L=Ce,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:pu(9,L)}}catch(Le){jt(L,L.return,Le)}if(L===T){Ce=null;break e}var ye=L.sibling;if(ye!==null){ye.return=L.return,Ce=ye;break e}Ce=L.return}}if(gt=d,Hi(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(xt,r)}catch{}h=!0}return h}finally{st=a,pr.transition=i}}return!1}function hg(r,i,a){i=Cs(a,i),i=Pm(r,i,1),r=Wi(r,i,1),i=bn(),r!==null&&(Vi(r,1,i),$n(r,i))}function jt(r,i,a){if(r.tag===3)hg(r,r,a);else for(;i!==null;){if(i.tag===3){hg(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Qi===null||!Qi.has(h))){r=Cs(a,r),r=km(i,r,1),i=Wi(i,r,1),r=bn(),i!==null&&(Vi(i,1,r),$n(i,r));break}}i=i.return}}function sE(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=bn(),r.pingedLanes|=r.suspendedLanes&a,sn===r&&(mn&a)===a&&(Jt===4||Jt===3&&(mn&130023424)===mn&&500>ct()-Gh?Lo(r,0):Qh|=a),$n(r,i)}function fg(r,i){i===0&&(r.mode&1?(i=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):i=1);var a=bn();r=wi(r,i),r!==null&&(Vi(r,i,a),$n(r,a))}function aE(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),fg(r,a)}function lE(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),fg(r,a)}var dg;dg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Un.current)jn=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return jn=!1,Gw(r,i,a);jn=!!(r.flags&131072)}else jn=!1,Mt&&i.flags&1048576&&Wp(i,Xl,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;fu(r,i),r=i.pendingProps;var d=ws(i,Sn.current);As(i,a),d=Ah(null,i,h,r,d,a);var y=xh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Bn(h)?(y=!0,Ql(i)):y=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,_h(i),d.updater=cu,i.stateNode=d,d._reactInternals=i,Lh(i,h,r,a),i=Mh(null,i,h,!0,y,a)):(i.tag=0,Mt&&y&&uh(i),Vn(null,i,d,a),i=i.child),i;case 16:h=i.elementType;e:{switch(fu(r,i),r=i.pendingProps,d=h._init,h=d(h._payload),i.type=h,d=i.tag=cE(h),r=Ar(h,r),d){case 0:i=Oh(null,i,h,r,a);break e;case 1:i=Um(null,i,h,r,a);break e;case 11:i=Vm(null,i,h,r,a);break e;case 14:i=bm(null,i,h,Ar(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),Oh(r,i,h,d,a);case 1:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),Um(r,i,h,d,a);case 3:e:{if(Bm(i),r===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,d=y.element,tm(r,i),ru(i,h,null,a);var T=i.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){d=Cs(Error(t(423)),i),i=jm(r,i,h,a,d);break e}else if(h!==d){d=Cs(Error(t(424)),i),i=jm(r,i,h,a,d);break e}else for(Jn=ji(i.stateNode.containerInfo.firstChild),Xn=i,Mt=!0,Rr=null,a=Zp(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ss(),h===d){i=Ti(r,i,a);break e}Vn(r,i,h,a)}i=i.child}return i;case 5:return im(i),r===null&&fh(i),h=i.type,d=i.pendingProps,y=r!==null?r.memoizedProps:null,T=d.children,rh(h,d)?T=null:y!==null&&rh(h,y)&&(i.flags|=32),Fm(r,i),Vn(r,i,T,a),i.child;case 6:return r===null&&fh(i),null;case 13:return zm(r,i,a);case 4:return wh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=Is(i,null,h,a):Vn(r,i,h,a),i.child;case 11:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),Vm(r,i,h,d,a);case 7:return Vn(r,i,i.pendingProps,a),i.child;case 8:return Vn(r,i,i.pendingProps.children,a),i.child;case 12:return Vn(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,d=i.pendingProps,y=i.memoizedProps,T=d.value,kt(eu,h._currentValue),h._currentValue=T,y!==null)if(Ir(y.value,T)){if(y.children===d.children&&!Un.current){i=Ti(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var L=y.dependencies;if(L!==null){T=y.child;for(var U=L.firstContext;U!==null;){if(U.context===h){if(y.tag===1){U=Ei(-1,a&-a),U.tag=2;var ne=y.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?U.next=U:(U.next=de.next,de.next=U),ne.pending=U}}y.lanes|=a,U=y.alternate,U!==null&&(U.lanes|=a),yh(y.return,a,i),L.lanes|=a;break}U=U.next}}else if(y.tag===10)T=y.type===i.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=a,L=T.alternate,L!==null&&(L.lanes|=a),yh(T,a,i),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Vn(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,h=i.pendingProps.children,As(i,a),d=fr(d),h=h(d),i.flags|=1,Vn(r,i,h,a),i.child;case 14:return h=i.type,d=Ar(h,i.pendingProps),d=Ar(h.type,d),bm(r,i,h,d,a);case 15:return Om(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),fu(r,i),i.tag=1,Bn(h)?(r=!0,Ql(i)):r=!1,As(i,a),xm(i,h,d),Lh(i,h,d,a),Mh(null,i,h,!0,r,a);case 19:return Hm(r,i,a);case 22:return Mm(r,i,a)}throw Error(t(156,i.tag))};function pg(r,i){return En(r,i)}function uE(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(r,i,a,h){return new uE(r,i,a,h)}function rf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cE(r){if(typeof r=="function")return rf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Q)return 11;if(r===Ge)return 14}return 2}function Ji(r,i){var a=r.alternate;return a===null?(a=mr(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Su(r,i,a,h,d,y){var T=2;if(h=r,typeof r=="function")rf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case b:return bo(a.children,d,y,i);case P:T=8,d|=8;break;case N:return r=mr(12,a,i,d|2),r.elementType=N,r.lanes=y,r;case V:return r=mr(13,a,i,d),r.elementType=V,r.lanes=y,r;case ut:return r=mr(19,a,i,d),r.elementType=ut,r.lanes=y,r;case Je:return Iu(a,d,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:T=10;break e;case j:T=9;break e;case Q:T=11;break e;case Ge:T=14;break e;case Ke:T=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=mr(T,a,i,d),i.elementType=r,i.type=h,i.lanes=y,i}function bo(r,i,a,h){return r=mr(7,r,h,i),r.lanes=a,r}function Iu(r,i,a,h){return r=mr(22,r,h,i),r.elementType=Je,r.lanes=a,r.stateNode={isHidden:!1},r}function of(r,i,a){return r=mr(6,r,null,i),r.lanes=a,r}function sf(r,i,a){return i=mr(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function hE(r,i,a,h,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function af(r,i,a,h,d,y,T,L,U){return r=new hE(r,i,a,L,U),i===1?(i=1,y===!0&&(i|=8)):i=0,y=mr(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(y),r}function fE(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function mg(r){if(!r)return $i;r=r._reactInternals;e:{if(It(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Bn(a))return $p(r,a,i)}return i}function gg(r,i,a,h,d,y,T,L,U){return r=af(a,h,!0,r,d,y,T,L,U),r.context=mg(null),a=r.current,h=bn(),d=Yi(a),y=Ei(h,d),y.callback=i??null,Wi(a,y,d),r.current.lanes=d,Vi(r,d,h),$n(r,h),r}function Ru(r,i,a,h){var d=i.current,y=bn(),T=Yi(d);return a=mg(a),i.context===null?i.context=a:i.pendingContext=a,i=Ei(y,T),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=Wi(d,i,T),r!==null&&(Pr(r,d,T,y),nu(r,d,T)),T}function Au(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function yg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function lf(r,i){yg(r,i),(r=r.alternate)&&yg(r,i)}function dE(){return null}var vg=typeof reportError=="function"?reportError:function(r){console.error(r)};function uf(r){this._internalRoot=r}xu.prototype.render=uf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Ru(r,i,null,null)},xu.prototype.unmount=uf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Do(function(){Ru(null,r,null,null)}),i[gi]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var i=xl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,r),a===0&&kl(r)}};function cf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function _g(){}function pE(r,i,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var ne=Au(T);y.call(ne)}}var T=gg(i,h,r,0,null,!1,!1,"",_g);return r._reactRootContainer=T,r[gi]=T.current,_a(r.nodeType===8?r.parentNode:r),Do(),T}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var L=h;h=function(){var ne=Au(U);L.call(ne)}}var U=af(r,0,!1,null,null,!1,!1,"",_g);return r._reactRootContainer=U,r[gi]=U.current,_a(r.nodeType===8?r.parentNode:r),Do(function(){Ru(i,U,a,h)}),U}function Pu(r,i,a,h,d){var y=a._reactRootContainer;if(y){var T=y;if(typeof d=="function"){var L=d;d=function(){var U=Au(T);L.call(U)}}Ru(i,T,r,d)}else T=pE(a,i,r,d,h);return Au(T)}Rl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Di(i.pendingLanes);a!==0&&(bi(i,a|1),$n(i,ct()),!(gt&6)&&(Ns=ct()+500,Hi()))}break;case 13:Do(function(){var h=wi(r,1);if(h!==null){var d=bn();Pr(h,r,1,d)}}),lf(r,1)}},ns=function(r){if(r.tag===13){var i=wi(r,134217728);if(i!==null){var a=bn();Pr(i,r,134217728,a)}lf(r,134217728)}},Al=function(r){if(r.tag===13){var i=Yi(r),a=wi(r,i);if(a!==null){var h=bn();Pr(a,r,i,h)}lf(r,i)}},xl=function(){return st},Cl=function(r,i){var a=st;try{return st=r,i()}finally{st=a}},ki=function(r,i,a){switch(i){case"input":if(rr(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var d=Wl(h);if(!d)throw Error(t(90));nr(h),rr(h,d)}}}break;case"textarea":vr(r,a);break;case"select":i=a.value,i!=null&&_n(r,!!a.multiple,i,!1)}},li=ef,go=Do;var mE={usingClientEntryPoint:!1,Events:[Ta,vs,Wl,Dn,Fr,ef]},Oa={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gE={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=or(r),r===null?null:r.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||dE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{xt=ku.inject(gE),qt=ku}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE,Hn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(i))throw Error(t(200));return fE(r,i,null,a)},Hn.createRoot=function(r,i){if(!cf(r))throw Error(t(299));var a=!1,h="",d=vg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=af(r,1,!1,null,null,a,!1,h,d),r[gi]=i.current,_a(r.nodeType===8?r.parentNode:r),new uf(i)},Hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=or(i),r=r===null?null:r.stateNode,r},Hn.flushSync=function(r){return Do(r)},Hn.hydrate=function(r,i,a){if(!Cu(i))throw Error(t(200));return Pu(null,r,i,!0,a)},Hn.hydrateRoot=function(r,i,a){if(!cf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",T=vg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),i=gg(i,null,r,1,a??null,d,!1,y,T),r[gi]=i.current,_a(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new xu(i)},Hn.render=function(r,i,a){if(!Cu(i))throw Error(t(200));return Pu(null,r,i,!1,a)},Hn.unmountComponentAtNode=function(r){if(!Cu(r))throw Error(t(40));return r._reactRootContainer?(Do(function(){Pu(null,null,r,!1,function(){r._reactRootContainer=null,r[gi]=null})}),!0):!1},Hn.unstable_batchedUpdates=ef,Hn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!Cu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Pu(r,i,a,!1,h)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var Cg;function Rv(){if(Cg)return df.exports;Cg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),df.exports=xE(),df.exports}var Pg;function CE(){if(Pg)return Nu;Pg=1;var n=Rv();return Nu.createRoot=n.createRoot,Nu.hydrateRoot=n.hydrateRoot,Nu}var PE=CE();function kE(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:o}=n,[s,l]=q.useState(!1),c=q.useRef(t);c.current=t;const f=q.useRef(o);return f.current=o,q.useEffect(()=>{const p=document.createElement("script");return p.src="https://accounts.google.com/gsi/client",p.async=!0,p.defer=!0,p.nonce=e,p.onload=()=>{var m;l(!0),(m=c.current)===null||m===void 0||m.call(c)},p.onerror=()=>{var m;l(!1),(m=f.current)===null||m===void 0||m.call(f)},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[e]),s}const Av=q.createContext(null);function xv({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:o,children:s}){const l=kE({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:o}),c=q.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:l}),[n,l]);return IE.createElement(Av.Provider,{value:c},s)}function NE(){const n=q.useContext(Av);if(!n)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return n}function kg(){var n,e,t;(t=(e=(n=window==null?void 0:window.google)===null||n===void 0?void 0:n.accounts)===null||e===void 0?void 0:e.id)===null||t===void 0||t.disableAutoSelect()}function DE({flow:n="implicit",scope:e="",onSuccess:t,onError:o,onNonOAuthError:s,overrideScope:l,state:c,...f}){const{clientId:p,scriptLoadedSuccessfully:m}=NE(),w=q.useRef(),I=q.useRef(t);I.current=t;const A=q.useRef(o);A.current=o;const R=q.useRef(s);R.current=s,q.useEffect(()=>{var D,W;if(!m)return;const Z=n==="implicit"?"initTokenClient":"initCodeClient",ie=(W=(D=window==null?void 0:window.google)===null||D===void 0?void 0:D.accounts)===null||W===void 0?void 0:W.oauth2[Z]({client_id:p,scope:l?e:`openid profile email ${e}`,callback:pe=>{var ce,$;if(pe.error)return(ce=A.current)===null||ce===void 0?void 0:ce.call(A,pe);($=I.current)===null||$===void 0||$.call(I,pe)},error_callback:pe=>{var ce;(ce=R.current)===null||ce===void 0||ce.call(R,pe)},state:c,...f});w.current=ie},[p,m,n,e,c]);const C=q.useCallback(D=>{var W;return(W=w.current)===null||W===void 0?void 0:W.requestAccessToken(D)},[]),O=q.useCallback(()=>{var D;return(D=w.current)===null||D===void 0?void 0:D.requestCode()},[]);return n==="implicit"?C:O}const Gs=q.createContext({user:null,signin:()=>{},signout:()=>{}}),qo=q.createContext({tags:new Map,setTags:()=>{},pantry:new Set,setPantry:()=>{}});function LE(){const n=q.useContext(Gs);return n.user?K.jsx("button",{className:"full-btn-red",onClick:n.signout,children:"Logout"}):K.jsx("button",{onClick:n.signin,className:"full-btn-blue",children:"Login as admin"})}function VE({directions:n,setDirections:e}){const t=()=>{const l=[...n,""];e(l)},o=l=>{const c=[...n];c.splice(l,1),e(c)},s=(l,c)=>{const f=[...n];f[l]=c,e(f)};return K.jsxs("div",{className:"flex flex-col",children:[K.jsxs("h2",{children:["Directions ",K.jsx(Bs,{type:"utensils"})]}),n.map((l,c)=>K.jsxs("div",{className:"flex flex-row",children:[K.jsxs("div",{className:"flex flex-row input-txt",children:[K.jsx("p",{className:"me-1",children:`${c+1}.`}),K.jsx("textarea",{className:"bg-transparent outline-none w-full pointer-events-auto",rows:1,value:l,onChange:f=>s(c,f.target.value)})]}),K.jsx("div",{onClick:()=>o(c),children:K.jsx(dp,{styles:"input-trash"})})]},c)),K.jsx("button",{className:"placeholder-btn-tan mt-2",onClick:t,children:"Add +"})]})}function bE(n){switch(n){case"utensils":return["🍳","🥄","🍽️","🥢","🥣","🔥","🥘","👩‍🍳","⏲️"];case"ingredients":default:return["🍎","🍌","🍐","🍊","🍋","🍉","🍓","🥑","🥦","🥬","🥒","🌽","🫑","🌶️","🥕","🧄","🧅","🥔","🍠","🫚","🥯","🍞","🥖","🧀","🥚","🧈","🥓","🥩","🍗","🍚","🍫","🍾"]}}function Bs({type:n}){const[e,t]=q.useState(0),o=bE(n);return q.useEffect(()=>{const s=setInterval(()=>t(Math.floor(Math.random()*o.length)),1e3);return()=>{clearInterval(s)}}),K.jsx(K.Fragment,{children:o[e]})}function Cv(n,e){return function(){return n.apply(e,arguments)}}const{toString:OE}=Object.prototype,{getPrototypeOf:hd}=Object,yc=(n=>e=>{const t=OE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=n=>(n=n.toLowerCase(),e=>yc(e)===n),vc=n=>e=>typeof e===n,{isArray:Ys}=Array,Za=vc("undefined");function ME(n){return n!==null&&!Za(n)&&n.constructor!==null&&!Za(n.constructor)&&tr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Pv=Vr("ArrayBuffer");function FE(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Pv(n.buffer),e}const UE=vc("string"),tr=vc("function"),kv=vc("number"),_c=n=>n!==null&&typeof n=="object",BE=n=>n===!0||n===!1,Bu=n=>{if(yc(n)!=="object")return!1;const e=hd(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},jE=Vr("Date"),zE=Vr("File"),$E=Vr("Blob"),HE=Vr("FileList"),qE=n=>_c(n)&&tr(n.pipe),WE=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||tr(n.append)&&((e=yc(n))==="formdata"||e==="object"&&tr(n.toString)&&n.toString()==="[object FormData]"))},KE=Vr("URLSearchParams"),[QE,GE,YE,XE]=["ReadableStream","Request","Response","Headers"].map(Vr),JE=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let o,s;if(typeof n!="object"&&(n=[n]),Ys(n))for(o=0,s=n.length;o<s;o++)e.call(null,n[o],o,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let f;for(o=0;o<c;o++)f=l[o],e.call(null,n[f],f,n)}}function Nv(n,e){e=e.toLowerCase();const t=Object.keys(n);let o=t.length,s;for(;o-- >0;)if(s=t[o],e===s.toLowerCase())return s;return null}const Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dv=n=>!Za(n)&&n!==Fo;function Lf(){const{caseless:n}=Dv(this)&&this||{},e={},t=(o,s)=>{const l=n&&Nv(e,s)||s;Bu(e[l])&&Bu(o)?e[l]=Lf(e[l],o):Bu(o)?e[l]=Lf({},o):Ys(o)?e[l]=o.slice():e[l]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&hl(arguments[o],t);return e}const ZE=(n,e,t,{allOwnKeys:o}={})=>(hl(e,(s,l)=>{t&&tr(s)?n[l]=Cv(s,t):n[l]=s},{allOwnKeys:o}),n),eT=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),tT=(n,e,t,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},nT=(n,e,t,o)=>{let s,l,c;const f={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),l=s.length;l-- >0;)c=s[l],(!o||o(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&hd(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},rT=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const o=n.indexOf(e,t);return o!==-1&&o===t},iT=n=>{if(!n)return null;if(Ys(n))return n;let e=n.length;if(!kv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},oT=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&hd(Uint8Array)),sT=(n,e)=>{const o=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=o.next())&&!s.done;){const l=s.value;e.call(n,l[0],l[1])}},aT=(n,e)=>{let t;const o=[];for(;(t=n.exec(e))!==null;)o.push(t);return o},lT=Vr("HTMLFormElement"),uT=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,s){return o.toUpperCase()+s}),Ng=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),cT=Vr("RegExp"),Lv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),o={};hl(t,(s,l)=>{let c;(c=e(s,l,n))!==!1&&(o[l]=c||s)}),Object.defineProperties(n,o)},hT=n=>{Lv(n,(e,t)=>{if(tr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=n[t];if(tr(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},fT=(n,e)=>{const t={},o=s=>{s.forEach(l=>{t[l]=!0})};return Ys(n)?o(n):o(String(n).split(e)),t},dT=()=>{},pT=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,gf="abcdefghijklmnopqrstuvwxyz",Dg="0123456789",Vv={DIGIT:Dg,ALPHA:gf,ALPHA_DIGIT:gf+gf.toUpperCase()+Dg},mT=(n=16,e=Vv.ALPHA_DIGIT)=>{let t="";const{length:o}=e;for(;n--;)t+=e[Math.random()*o|0];return t};function gT(n){return!!(n&&tr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const yT=n=>{const e=new Array(10),t=(o,s)=>{if(_c(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const l=Ys(o)?[]:{};return hl(o,(c,f)=>{const p=t(c,s+1);!Za(p)&&(l[f]=p)}),e[s]=void 0,l}}return o};return t(n,0)},vT=Vr("AsyncFunction"),_T=n=>n&&(_c(n)||tr(n))&&tr(n.then)&&tr(n.catch),bv=((n,e)=>n?setImmediate:e?((t,o)=>(Fo.addEventListener("message",({source:s,data:l})=>{s===Fo&&l===t&&o.length&&o.shift()()},!1),s=>{o.push(s),Fo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",tr(Fo.postMessage)),wT=typeof queueMicrotask<"u"?queueMicrotask.bind(Fo):typeof process<"u"&&process.nextTick||bv,oe={isArray:Ys,isArrayBuffer:Pv,isBuffer:ME,isFormData:WE,isArrayBufferView:FE,isString:UE,isNumber:kv,isBoolean:BE,isObject:_c,isPlainObject:Bu,isReadableStream:QE,isRequest:GE,isResponse:YE,isHeaders:XE,isUndefined:Za,isDate:jE,isFile:zE,isBlob:$E,isRegExp:cT,isFunction:tr,isStream:qE,isURLSearchParams:KE,isTypedArray:oT,isFileList:HE,forEach:hl,merge:Lf,extend:ZE,trim:JE,stripBOM:eT,inherits:tT,toFlatObject:nT,kindOf:yc,kindOfTest:Vr,endsWith:rT,toArray:iT,forEachEntry:sT,matchAll:aT,isHTMLForm:lT,hasOwnProperty:Ng,hasOwnProp:Ng,reduceDescriptors:Lv,freezeMethods:hT,toObjectSet:fT,toCamelCase:uT,noop:dT,toFiniteNumber:pT,findKey:Nv,global:Fo,isContextDefined:Dv,ALPHABET:Vv,generateString:mT,isSpecCompliantForm:gT,toJSONObject:yT,isAsyncFn:vT,isThenable:_T,setImmediate:bv,asap:wT};function Ye(n,e,t,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Ov=Ye.prototype,Mv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Mv[n]={value:n}});Object.defineProperties(Ye,Mv);Object.defineProperty(Ov,"isAxiosError",{value:!0});Ye.from=(n,e,t,o,s,l)=>{const c=Object.create(Ov);return oe.toFlatObject(n,c,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),Ye.call(c,n.message,e,t,o,s),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const ET=null;function Vf(n){return oe.isPlainObject(n)||oe.isArray(n)}function Fv(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function Lg(n,e,t){return n?n.concat(e).map(function(s,l){return s=Fv(s),!t&&l?"["+s+"]":s}).join(t?".":""):e}function TT(n){return oe.isArray(n)&&!n.some(Vf)}const ST=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function wc(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,D){return!oe.isUndefined(D[O])});const o=t.metaTokens,s=t.visitor||w,l=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(oe.isDate(C))return C.toISOString();if(!p&&oe.isBlob(C))throw new Ye("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(C)||oe.isTypedArray(C)?p&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function w(C,O,D){let W=C;if(C&&!D&&typeof C=="object"){if(oe.endsWith(O,"{}"))O=o?O:O.slice(0,-2),C=JSON.stringify(C);else if(oe.isArray(C)&&TT(C)||(oe.isFileList(C)||oe.endsWith(O,"[]"))&&(W=oe.toArray(C)))return O=Fv(O),W.forEach(function(ie,pe){!(oe.isUndefined(ie)||ie===null)&&e.append(c===!0?Lg([O],pe,l):c===null?O:O+"[]",m(ie))}),!1}return Vf(C)?!0:(e.append(Lg(D,O,l),m(C)),!1)}const I=[],A=Object.assign(ST,{defaultVisitor:w,convertValue:m,isVisitable:Vf});function R(C,O){if(!oe.isUndefined(C)){if(I.indexOf(C)!==-1)throw Error("Circular reference detected in "+O.join("."));I.push(C),oe.forEach(C,function(W,Z){(!(oe.isUndefined(W)||W===null)&&s.call(e,W,oe.isString(Z)?Z.trim():Z,O,A))===!0&&R(W,O?O.concat(Z):[Z])}),I.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return R(n),e}function Vg(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function fd(n,e){this._pairs=[],n&&wc(n,this,e)}const Uv=fd.prototype;Uv.append=function(e,t){this._pairs.push([e,t])};Uv.toString=function(e){const t=e?function(o){return e.call(this,o,Vg)}:Vg;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function IT(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bv(n,e,t){if(!e)return n;const o=t&&t.encode||IT;oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let l;if(s?l=s(e,t):l=oe.isURLSearchParams(e)?e.toString():new fd(e,t).toString(o),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class bg{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(o){o!==null&&e(o)})}}const jv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RT=typeof URLSearchParams<"u"?URLSearchParams:fd,AT=typeof FormData<"u"?FormData:null,xT=typeof Blob<"u"?Blob:null,CT={isBrowser:!0,classes:{URLSearchParams:RT,FormData:AT,Blob:xT},protocols:["http","https","file","blob","url","data"]},dd=typeof window<"u"&&typeof document<"u",bf=typeof navigator=="object"&&navigator||void 0,PT=dd&&(!bf||["ReactNative","NativeScript","NS"].indexOf(bf.product)<0),kT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NT=dd&&window.location.href||"http://localhost",DT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dd,hasStandardBrowserEnv:PT,hasStandardBrowserWebWorkerEnv:kT,navigator:bf,origin:NT},Symbol.toStringTag,{value:"Module"})),kn={...DT,...CT};function LT(n,e){return wc(n,new kn.classes.URLSearchParams,Object.assign({visitor:function(t,o,s,l){return kn.isNode&&oe.isBuffer(t)?(this.append(o,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function VT(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bT(n){const e={},t=Object.keys(n);let o;const s=t.length;let l;for(o=0;o<s;o++)l=t[o],e[l]=n[l];return e}function zv(n){function e(t,o,s,l){let c=t[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),p=l>=t.length;return c=!c&&oe.isArray(s)?s.length:c,p?(oe.hasOwnProp(s,c)?s[c]=[s[c],o]:s[c]=o,!f):((!s[c]||!oe.isObject(s[c]))&&(s[c]=[]),e(t,o,s[c],l)&&oe.isArray(s[c])&&(s[c]=bT(s[c])),!f)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(o,s)=>{e(VT(o),s,t,0)}),t}return null}function OT(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(n)}const fl={transitional:jv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",s=o.indexOf("application/json")>-1,l=oe.isObject(e);if(l&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(zv(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return LT(e,this.formSerializer).toString();if((f=oe.isFileList(e))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return wc(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||s?(t.setContentType("application/json",!1),OT(e)):e}],transformResponse:[function(e){const t=this.transitional||fl.transitional,o=t&&t.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(o&&!this.responseType||s)){const c=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Ye.from(f,Ye.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{fl.headers[n]={}});const MT=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FT=n=>{const e={};let t,o,s;return n&&n.split(`
`).forEach(function(c){s=c.indexOf(":"),t=c.substring(0,s).trim().toLowerCase(),o=c.substring(s+1).trim(),!(!t||e[t]&&MT[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},Og=Symbol("internals");function Fa(n){return n&&String(n).trim().toLowerCase()}function ju(n){return n===!1||n==null?n:oe.isArray(n)?n.map(ju):String(n)}function UT(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(n);)e[o[1]]=o[2];return e}const BT=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function yf(n,e,t,o,s){if(oe.isFunction(o))return o.call(this,e,t);if(s&&(e=t),!!oe.isString(e)){if(oe.isString(o))return e.indexOf(o)!==-1;if(oe.isRegExp(o))return o.test(e)}}function jT(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function zT(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+t,{value:function(s,l,c){return this[o].call(this,e,s,l,c)},configurable:!0})})}let Wn=class{constructor(e){e&&this.set(e)}set(e,t,o){const s=this;function l(f,p,m){const w=Fa(p);if(!w)throw new Error("header name must be a non-empty string");const I=oe.findKey(s,w);(!I||s[I]===void 0||m===!0||m===void 0&&s[I]!==!1)&&(s[I||p]=ju(f))}const c=(f,p)=>oe.forEach(f,(m,w)=>l(m,w,p));if(oe.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(oe.isString(e)&&(e=e.trim())&&!BT(e))c(FT(e),t);else if(oe.isHeaders(e))for(const[f,p]of e.entries())l(p,f,o);else e!=null&&l(t,e,o);return this}get(e,t){if(e=Fa(e),e){const o=oe.findKey(this,e);if(o){const s=this[o];if(!t)return s;if(t===!0)return UT(s);if(oe.isFunction(t))return t.call(this,s,o);if(oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fa(e),e){const o=oe.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||yf(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let s=!1;function l(c){if(c=Fa(c),c){const f=oe.findKey(o,c);f&&(!t||yf(o,o[f],f,t))&&(delete o[f],s=!0)}}return oe.isArray(e)?e.forEach(l):l(e),s}clear(e){const t=Object.keys(this);let o=t.length,s=!1;for(;o--;){const l=t[o];(!e||yf(this,this[l],l,e,!0))&&(delete this[l],s=!0)}return s}normalize(e){const t=this,o={};return oe.forEach(this,(s,l)=>{const c=oe.findKey(o,l);if(c){t[c]=ju(s),delete t[l];return}const f=e?jT(l):String(l).trim();f!==l&&delete t[l],t[f]=ju(s),o[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(o,s)=>{o!=null&&o!==!1&&(t[s]=e&&oe.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(s=>o.set(s)),o}static accessor(e){const o=(this[Og]=this[Og]={accessors:{}}).accessors,s=this.prototype;function l(c){const f=Fa(c);o[f]||(zT(s,c),o[f]=!0)}return oe.isArray(e)?e.forEach(l):l(e),this}};Wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Wn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[t]=o}}});oe.freezeMethods(Wn);function vf(n,e){const t=this||fl,o=e||t,s=Wn.from(o.headers);let l=o.data;return oe.forEach(n,function(f){l=f.call(t,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function $v(n){return!!(n&&n.__CANCEL__)}function Xs(n,e,t){Ye.call(this,n??"canceled",Ye.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Xs,Ye,{__CANCEL__:!0});function Hv(n,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?n(t):e(new Ye("Request failed with status code "+t.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function $T(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function HT(n,e){n=n||10;const t=new Array(n),o=new Array(n);let s=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),w=o[l];c||(c=m),t[s]=p,o[s]=m;let I=l,A=0;for(;I!==s;)A+=t[I++],I=I%n;if(s=(s+1)%n,s===l&&(l=(l+1)%n),m-c<e)return;const R=w&&m-w;return R?Math.round(A*1e3/R):void 0}}function qT(n,e){let t=0,o=1e3/e,s,l;const c=(m,w=Date.now())=>{t=w,s=null,l&&(clearTimeout(l),l=null),n.apply(null,m)};return[(...m)=>{const w=Date.now(),I=w-t;I>=o?c(m,w):(s=m,l||(l=setTimeout(()=>{l=null,c(s)},o-I)))},()=>s&&c(s)]}const Ju=(n,e,t=3)=>{let o=0;const s=HT(50,250);return qT(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,p=c-o,m=s(p),w=c<=f;o=c;const I={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&w?(f-c)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(I)},t)},Mg=(n,e)=>{const t=n!=null;return[o=>e[0]({lengthComputable:t,total:n,loaded:o}),e[1]]},Fg=n=>(...e)=>oe.asap(()=>n(...e)),WT=kn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,kn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(kn.origin),kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent)):()=>!0,KT=kn.hasStandardBrowserEnv?{write(n,e,t,o,s,l){const c=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),oe.isString(o)&&c.push("path="+o),oe.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function GT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function qv(n,e){return n&&!QT(e)?GT(n,e):e}const Ug=n=>n instanceof Wn?{...n}:n;function zo(n,e){e=e||{};const t={};function o(m,w,I,A){return oe.isPlainObject(m)&&oe.isPlainObject(w)?oe.merge.call({caseless:A},m,w):oe.isPlainObject(w)?oe.merge({},w):oe.isArray(w)?w.slice():w}function s(m,w,I,A){if(oe.isUndefined(w)){if(!oe.isUndefined(m))return o(void 0,m,I,A)}else return o(m,w,I,A)}function l(m,w){if(!oe.isUndefined(w))return o(void 0,w)}function c(m,w){if(oe.isUndefined(w)){if(!oe.isUndefined(m))return o(void 0,m)}else return o(void 0,w)}function f(m,w,I){if(I in e)return o(m,w);if(I in n)return o(void 0,m)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(m,w,I)=>s(Ug(m),Ug(w),I,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(w){const I=p[w]||s,A=I(n[w],e[w],w);oe.isUndefined(A)&&I!==f||(t[w]=A)}),t}const Wv=n=>{const e=zo({},n);let{data:t,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:l,headers:c,auth:f}=e;e.headers=c=Wn.from(c),e.url=Bv(qv(e.baseURL,e.url),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(oe.isFormData(t)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...w]=p?p.split(";").map(I=>I.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...w].join("; "))}}if(kn.hasStandardBrowserEnv&&(o&&oe.isFunction(o)&&(o=o(e)),o||o!==!1&&WT(e.url))){const m=s&&l&&KT.read(l);m&&c.set(s,m)}return e},YT=typeof XMLHttpRequest<"u",XT=YT&&function(n){return new Promise(function(t,o){const s=Wv(n);let l=s.data;const c=Wn.from(s.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=s,w,I,A,R,C;function O(){R&&R(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(w),s.signal&&s.signal.removeEventListener("abort",w)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function W(){if(!D)return;const ie=Wn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ce={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:ie,config:n,request:D};Hv(function(b){t(b),O()},function(b){o(b),O()},ce),D=null}"onloadend"in D?D.onloadend=W:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(W)},D.onabort=function(){D&&(o(new Ye("Request aborted",Ye.ECONNABORTED,n,D)),D=null)},D.onerror=function(){o(new Ye("Network Error",Ye.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let pe=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ce=s.transitional||jv;s.timeoutErrorMessage&&(pe=s.timeoutErrorMessage),o(new Ye(pe,ce.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,n,D)),D=null},l===void 0&&c.setContentType(null),"setRequestHeader"in D&&oe.forEach(c.toJSON(),function(pe,ce){D.setRequestHeader(ce,pe)}),oe.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),f&&f!=="json"&&(D.responseType=s.responseType),m&&([A,C]=Ju(m,!0),D.addEventListener("progress",A)),p&&D.upload&&([I,R]=Ju(p),D.upload.addEventListener("progress",I),D.upload.addEventListener("loadend",R)),(s.cancelToken||s.signal)&&(w=ie=>{D&&(o(!ie||ie.type?new Xs(null,n,D):ie),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(w),s.signal&&(s.signal.aborted?w():s.signal.addEventListener("abort",w)));const Z=$T(s.url);if(Z&&kn.protocols.indexOf(Z)===-1){o(new Ye("Unsupported protocol "+Z+":",Ye.ERR_BAD_REQUEST,n));return}D.send(l||null)})},JT=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let o=new AbortController,s;const l=function(m){if(!s){s=!0,f();const w=m instanceof Error?m:this.reason;o.abort(w instanceof Ye?w:new Xs(w instanceof Error?w.message:w))}};let c=e&&setTimeout(()=>{c=null,l(new Ye(`timeout ${e} of ms exceeded`,Ye.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),n=null)};n.forEach(m=>m.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>oe.asap(f),p}},ZT=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let o=0,s;for(;o<t;)s=o+e,yield n.slice(o,s),o=s},e1=async function*(n,e){for await(const t of t1(n))yield*ZT(t,e)},t1=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:o}=await e.read();if(t)break;yield o}}finally{await e.cancel()}},Bg=(n,e,t,o)=>{const s=e1(n,e);let l=0,c,f=p=>{c||(c=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:w}=await s.next();if(m){f(),p.close();return}let I=w.byteLength;if(t){let A=l+=I;t(A)}p.enqueue(new Uint8Array(w))}catch(m){throw f(m),m}},cancel(p){return f(p),s.return()}},{highWaterMark:2})},Ec=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kv=Ec&&typeof ReadableStream=="function",n1=Ec&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Qv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},r1=Kv&&Qv(()=>{let n=!1;const e=new Request(kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),jg=64*1024,Of=Kv&&Qv(()=>oe.isReadableStream(new Response("").body)),Zu={stream:Of&&(n=>n.body)};Ec&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zu[e]&&(Zu[e]=oe.isFunction(n[e])?t=>t[e]():(t,o)=>{throw new Ye(`Response type '${e}' is not supported`,Ye.ERR_NOT_SUPPORT,o)})})})(new Response);const i1=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(kn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await n1(n)).byteLength},o1=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??i1(e)},s1=Ec&&(async n=>{let{url:e,method:t,data:o,signal:s,cancelToken:l,timeout:c,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:w,withCredentials:I="same-origin",fetchOptions:A}=Wv(n);m=m?(m+"").toLowerCase():"text";let R=JT([s,l&&l.toAbortSignal()],c),C;const O=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(p&&r1&&t!=="get"&&t!=="head"&&(D=await o1(w,o))!==0){let ce=new Request(e,{method:"POST",body:o,duplex:"half"}),$;if(oe.isFormData(o)&&($=ce.headers.get("content-type"))&&w.setContentType($),ce.body){const[b,P]=Mg(D,Ju(Fg(p)));o=Bg(ce.body,jg,b,P)}}oe.isString(I)||(I=I?"include":"omit");const W="credentials"in Request.prototype;C=new Request(e,{...A,signal:R,method:t.toUpperCase(),headers:w.normalize().toJSON(),body:o,duplex:"half",credentials:W?I:void 0});let Z=await fetch(C);const ie=Of&&(m==="stream"||m==="response");if(Of&&(f||ie&&O)){const ce={};["status","statusText","headers"].forEach(N=>{ce[N]=Z[N]});const $=oe.toFiniteNumber(Z.headers.get("content-length")),[b,P]=f&&Mg($,Ju(Fg(f),!0))||[];Z=new Response(Bg(Z.body,jg,b,()=>{P&&P(),O&&O()}),ce)}m=m||"text";let pe=await Zu[oe.findKey(Zu,m)||"text"](Z,n);return!ie&&O&&O(),await new Promise((ce,$)=>{Hv(ce,$,{data:pe,headers:Wn.from(Z.headers),status:Z.status,statusText:Z.statusText,config:n,request:C})})}catch(W){throw O&&O(),W&&W.name==="TypeError"&&/fetch/i.test(W.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,n,C),{cause:W.cause||W}):Ye.from(W,W&&W.code,n,C)}}),Mf={http:ET,xhr:XT,fetch:s1};oe.forEach(Mf,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const zg=n=>`- ${n}`,a1=n=>oe.isFunction(n)||n===null||n===!1,Gv={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,o;const s={};for(let l=0;l<e;l++){t=n[l];let c;if(o=t,!a1(t)&&(o=Mf[(c=String(t)).toLowerCase()],o===void 0))throw new Ye(`Unknown adapter '${c}'`);if(o)break;s[c||"#"+l]=o}if(!o){const l=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(zg).join(`
`):" "+zg(l[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:Mf};function _f(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Xs(null,n)}function $g(n){return _f(n),n.headers=Wn.from(n.headers),n.data=vf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Gv.getAdapter(n.adapter||fl.adapter)(n).then(function(o){return _f(n),o.data=vf.call(n,n.transformResponse,o),o.headers=Wn.from(o.headers),o},function(o){return $v(o)||(_f(n),o&&o.response&&(o.response.data=vf.call(n,n.transformResponse,o.response),o.response.headers=Wn.from(o.response.headers))),Promise.reject(o)})}const Yv="1.7.9",Tc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Tc[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const Hg={};Tc.transitional=function(e,t,o){function s(l,c){return"[Axios v"+Yv+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,f)=>{if(e===!1)throw new Ye(s(c," has been removed"+(t?" in "+t:"")),Ye.ERR_DEPRECATED);return t&&!Hg[c]&&(Hg[c]=!0,console.warn(s(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,f):!0}};Tc.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function l1(n,e,t){if(typeof n!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let s=o.length;for(;s-- >0;){const l=o[s],c=e[l];if(c){const f=n[l],p=f===void 0||c(f,l,n);if(p!==!0)throw new Ye("option "+l+" must be "+p,Ye.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ye("Unknown option "+l,Ye.ERR_BAD_OPTION)}}const zu={assertOptions:l1,validators:Tc},Yr=zu.validators;let jo=class{constructor(e){this.defaults=e,this.interceptors={request:new bg,response:new bg}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zo(this.defaults,t);const{transitional:o,paramsSerializer:s,headers:l}=t;o!==void 0&&zu.assertOptions(o,{silentJSONParsing:Yr.transitional(Yr.boolean),forcedJSONParsing:Yr.transitional(Yr.boolean),clarifyTimeoutError:Yr.transitional(Yr.boolean)},!1),s!=null&&(oe.isFunction(s)?t.paramsSerializer={serialize:s}:zu.assertOptions(s,{encode:Yr.function,serialize:Yr.function},!0)),zu.assertOptions(t,{baseUrl:Yr.spelling("baseURL"),withXsrfToken:Yr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&oe.merge(l.common,l[t.method]);l&&oe.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),t.headers=Wn.concat(c,l);const f=[];let p=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(p=p&&O.synchronous,f.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let w,I=0,A;if(!p){const C=[$g.bind(this),void 0];for(C.unshift.apply(C,f),C.push.apply(C,m),A=C.length,w=Promise.resolve(t);I<A;)w=w.then(C[I++],C[I++]);return w}A=f.length;let R=t;for(I=0;I<A;){const C=f[I++],O=f[I++];try{R=C(R)}catch(D){O.call(this,D);break}}try{w=$g.call(this,R)}catch(C){return Promise.reject(C)}for(I=0,A=m.length;I<A;)w=w.then(m[I++],m[I++]);return w}getUri(e){e=zo(this.defaults,e);const t=qv(e.baseURL,e.url);return Bv(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){jo.prototype[e]=function(t,o){return this.request(zo(o||{},{method:e,url:t,data:(o||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(o){return function(l,c,f){return this.request(zo(f||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}jo.prototype[e]=t(),jo.prototype[e+"Form"]=t(!0)});let u1=class Xv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const o=this;this.promise.then(s=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](s);o._listeners=null}),this.promise.then=s=>{let l;const c=new Promise(f=>{o.subscribe(f),l=f}).then(s);return c.cancel=function(){o.unsubscribe(l)},c},e(function(l,c,f){o.reason||(o.reason=new Xs(l,c,f),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Xv(function(s){e=s}),cancel:e}}};function c1(n){return function(t){return n.apply(null,t)}}function h1(n){return oe.isObject(n)&&n.isAxiosError===!0}const Ff={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ff).forEach(([n,e])=>{Ff[e]=n});function Jv(n){const e=new jo(n),t=Cv(jo.prototype.request,e);return oe.extend(t,jo.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Jv(zo(n,s))},t}const Pt=Jv(fl);Pt.Axios=jo;Pt.CanceledError=Xs;Pt.CancelToken=u1;Pt.isCancel=$v;Pt.VERSION=Yv;Pt.toFormData=wc;Pt.AxiosError=Ye;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=c1;Pt.isAxiosError=h1;Pt.mergeConfig=zo;Pt.AxiosHeaders=Wn;Pt.formToJSON=n=>zv(oe.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=Gv.getAdapter;Pt.HttpStatusCode=Ff;Pt.default=Pt;const{Axios:a2,AxiosError:l2,CanceledError:u2,isCancel:c2,CancelToken:h2,VERSION:f2,all:d2,Cancel:p2,isAxiosError:m2,spread:g2,toFormData:y2,AxiosHeaders:v2,HttpStatusCode:_2,formToJSON:w2,getAdapter:E2,mergeConfig:T2}=Pt;var wf={},Ua={},qg;function f1(){if(qg)return Ua;qg=1,Ua.byteLength=f,Ua.toByteArray=m,Ua.fromByteArray=A;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],e[o.charCodeAt(s)]=s;e[45]=62,e[95]=63;function c(R){var C=R.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=R.indexOf("=");O===-1&&(O=C);var D=O===C?0:4-O%4;return[O,D]}function f(R){var C=c(R),O=C[0],D=C[1];return(O+D)*3/4-D}function p(R,C,O){return(C+O)*3/4-O}function m(R){var C,O=c(R),D=O[0],W=O[1],Z=new t(p(R,D,W)),ie=0,pe=W>0?D-4:D,ce;for(ce=0;ce<pe;ce+=4)C=e[R.charCodeAt(ce)]<<18|e[R.charCodeAt(ce+1)]<<12|e[R.charCodeAt(ce+2)]<<6|e[R.charCodeAt(ce+3)],Z[ie++]=C>>16&255,Z[ie++]=C>>8&255,Z[ie++]=C&255;return W===2&&(C=e[R.charCodeAt(ce)]<<2|e[R.charCodeAt(ce+1)]>>4,Z[ie++]=C&255),W===1&&(C=e[R.charCodeAt(ce)]<<10|e[R.charCodeAt(ce+1)]<<4|e[R.charCodeAt(ce+2)]>>2,Z[ie++]=C>>8&255,Z[ie++]=C&255),Z}function w(R){return n[R>>18&63]+n[R>>12&63]+n[R>>6&63]+n[R&63]}function I(R,C,O){for(var D,W=[],Z=C;Z<O;Z+=3)D=(R[Z]<<16&16711680)+(R[Z+1]<<8&65280)+(R[Z+2]&255),W.push(w(D));return W.join("")}function A(R){for(var C,O=R.length,D=O%3,W=[],Z=16383,ie=0,pe=O-D;ie<pe;ie+=Z)W.push(I(R,ie,ie+Z>pe?pe:ie+Z));return D===1?(C=R[O-1],W.push(n[C>>2]+n[C<<4&63]+"==")):D===2&&(C=(R[O-2]<<8)+R[O-1],W.push(n[C>>10]+n[C>>4&63]+n[C<<2&63]+"=")),W.join("")}return Ua}var Du={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Wg;function d1(){return Wg||(Wg=1,Du.read=function(n,e,t,o,s){var l,c,f=s*8-o-1,p=(1<<f)-1,m=p>>1,w=-7,I=t?s-1:0,A=t?-1:1,R=n[e+I];for(I+=A,l=R&(1<<-w)-1,R>>=-w,w+=f;w>0;l=l*256+n[e+I],I+=A,w-=8);for(c=l&(1<<-w)-1,l>>=-w,w+=o;w>0;c=c*256+n[e+I],I+=A,w-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(R?-1:1)*(1/0);c=c+Math.pow(2,o),l=l-m}return(R?-1:1)*c*Math.pow(2,l-o)},Du.write=function(n,e,t,o,s,l){var c,f,p,m=l*8-s-1,w=(1<<m)-1,I=w>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=o?0:l-1,C=o?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=w):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+I>=1?e+=A/p:e+=A*Math.pow(2,1-I),e*p>=2&&(c++,p/=2),c+I>=w?(f=0,c=w):c+I>=1?(f=(e*p-1)*Math.pow(2,s),c=c+I):(f=e*Math.pow(2,I-1)*Math.pow(2,s),c=0));s>=8;n[t+R]=f&255,R+=C,f/=256,s-=8);for(c=c<<s|f,m+=s;m>0;n[t+R]=c&255,R+=C,c/=256,m-=8);n[t+R-C]|=O*128}),Du}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Kg;function p1(){return Kg||(Kg=1,function(n){const e=f1(),t=d1(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=Z,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const S=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(S,v),S.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(S){if(S>s)throw new RangeError('The value "'+S+'" is invalid for option "size"');const v=new Uint8Array(S);return Object.setPrototypeOf(v,f.prototype),v}function f(S,v,_){if(typeof S=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(S)}return p(S,v,_)}f.poolSize=8192;function p(S,v,_){if(typeof S=="string")return A(S,v);if(ArrayBuffer.isView(S))return C(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(Vt(S,ArrayBuffer)||S&&Vt(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Vt(S,SharedArrayBuffer)||S&&Vt(S.buffer,SharedArrayBuffer)))return O(S,v,_);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=S.valueOf&&S.valueOf();if(k!=null&&k!==S)return f.from(k,v,_);const B=D(S);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return f.from(S[Symbol.toPrimitive]("string"),v,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}f.from=function(S,v,_){return p(S,v,_)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function w(S,v,_){return m(S),S<=0?c(S):v!==void 0?typeof _=="string"?c(S).fill(v,_):c(S).fill(v):c(S)}f.alloc=function(S,v,_){return w(S,v,_)};function I(S){return m(S),c(S<0?0:W(S)|0)}f.allocUnsafe=function(S){return I(S)},f.allocUnsafeSlow=function(S){return I(S)};function A(S,v){if((typeof v!="string"||v==="")&&(v="utf8"),!f.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const _=ie(S,v)|0;let k=c(_);const B=k.write(S,v);return B!==_&&(k=k.slice(0,B)),k}function R(S){const v=S.length<0?0:W(S.length)|0,_=c(v);for(let k=0;k<v;k+=1)_[k]=S[k]&255;return _}function C(S){if(Vt(S,Uint8Array)){const v=new Uint8Array(S);return O(v.buffer,v.byteOffset,v.byteLength)}return R(S)}function O(S,v,_){if(v<0||S.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<v+(_||0))throw new RangeError('"length" is outside of buffer bounds');let k;return v===void 0&&_===void 0?k=new Uint8Array(S):_===void 0?k=new Uint8Array(S,v):k=new Uint8Array(S,v,_),Object.setPrototypeOf(k,f.prototype),k}function D(S){if(f.isBuffer(S)){const v=W(S.length)|0,_=c(v);return _.length===0||S.copy(_,0,0,v),_}if(S.length!==void 0)return typeof S.length!="number"||wn(S.length)?c(0):R(S);if(S.type==="Buffer"&&Array.isArray(S.data))return R(S.data)}function W(S){if(S>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return S|0}function Z(S){return+S!=S&&(S=0),f.alloc(+S)}f.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==f.prototype},f.compare=function(v,_){if(Vt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),Vt(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(v)||!f.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===_)return 0;let k=v.length,B=_.length;for(let te=0,ae=Math.min(k,B);te<ae;++te)if(v[te]!==_[te]){k=v[te],B=_[te];break}return k<B?-1:B<k?1:0},f.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(v,_){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return f.alloc(0);let k;if(_===void 0)for(_=0,k=0;k<v.length;++k)_+=v[k].length;const B=f.allocUnsafe(_);let te=0;for(k=0;k<v.length;++k){let ae=v[k];if(Vt(ae,Uint8Array))te+ae.length>B.length?(f.isBuffer(ae)||(ae=f.from(ae)),ae.copy(B,te)):Uint8Array.prototype.set.call(B,ae,te);else if(f.isBuffer(ae))ae.copy(B,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ae.length}return B};function ie(S,v){if(f.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||Vt(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const _=S.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&_===0)return 0;let B=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return rr(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return On(S).length;default:if(B)return k?-1:rr(S).length;v=(""+v).toLowerCase(),B=!0}}f.byteLength=ie;function pe(S,v,_){let k=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,v>>>=0,_<=v))return"";for(S||(S="utf8");;)switch(S){case"hex":return Ne(this,v,_);case"utf8":case"utf-8":return ut(this,v,_);case"ascii":return Je(this,v,_);case"latin1":case"binary":return ge(this,v,_);case"base64":return V(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,v,_);default:if(k)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),k=!0}}f.prototype._isBuffer=!0;function ce(S,v,_){const k=S[v];S[v]=S[_],S[_]=k}f.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<v;_+=2)ce(this,_,_+1);return this},f.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<v;_+=4)ce(this,_,_+3),ce(this,_+1,_+2);return this},f.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<v;_+=8)ce(this,_,_+7),ce(this,_+1,_+6),ce(this,_+2,_+5),ce(this,_+3,_+4);return this},f.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?ut(this,0,v):pe.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(v){if(!f.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:f.compare(this,v)===0},f.prototype.inspect=function(){let v="";const _=n.INSPECT_MAX_BYTES;return v=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(v+=" ... "),"<Buffer "+v+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(v,_,k,B,te){if(Vt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(_===void 0&&(_=0),k===void 0&&(k=v?v.length:0),B===void 0&&(B=0),te===void 0&&(te=this.length),_<0||k>v.length||B<0||te>this.length)throw new RangeError("out of range index");if(B>=te&&_>=k)return 0;if(B>=te)return-1;if(_>=k)return 1;if(_>>>=0,k>>>=0,B>>>=0,te>>>=0,this===v)return 0;let ae=te-B,$e=k-_;const Et=Math.min(ae,$e),pt=this.slice(B,te),mt=v.slice(_,k);for(let Ze=0;Ze<Et;++Ze)if(pt[Ze]!==mt[Ze]){ae=pt[Ze],$e=mt[Ze];break}return ae<$e?-1:$e<ae?1:0};function $(S,v,_,k,B){if(S.length===0)return-1;if(typeof _=="string"?(k=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,wn(_)&&(_=B?0:S.length-1),_<0&&(_=S.length+_),_>=S.length){if(B)return-1;_=S.length-1}else if(_<0)if(B)_=0;else return-1;if(typeof v=="string"&&(v=f.from(v,k)),f.isBuffer(v))return v.length===0?-1:b(S,v,_,k,B);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(S,v,_):Uint8Array.prototype.lastIndexOf.call(S,v,_):b(S,[v],_,k,B);throw new TypeError("val must be string, number or Buffer")}function b(S,v,_,k,B){let te=1,ae=S.length,$e=v.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(S.length<2||v.length<2)return-1;te=2,ae/=2,$e/=2,_/=2}function Et(mt,Ze){return te===1?mt[Ze]:mt.readUInt16BE(Ze*te)}let pt;if(B){let mt=-1;for(pt=_;pt<ae;pt++)if(Et(S,pt)===Et(v,mt===-1?0:pt-mt)){if(mt===-1&&(mt=pt),pt-mt+1===$e)return mt*te}else mt!==-1&&(pt-=pt-mt),mt=-1}else for(_+$e>ae&&(_=ae-$e),pt=_;pt>=0;pt--){let mt=!0;for(let Ze=0;Ze<$e;Ze++)if(Et(S,pt+Ze)!==Et(v,Ze)){mt=!1;break}if(mt)return pt}return-1}f.prototype.includes=function(v,_,k){return this.indexOf(v,_,k)!==-1},f.prototype.indexOf=function(v,_,k){return $(this,v,_,k,!0)},f.prototype.lastIndexOf=function(v,_,k){return $(this,v,_,k,!1)};function P(S,v,_,k){_=Number(_)||0;const B=S.length-_;k?(k=Number(k),k>B&&(k=B)):k=B;const te=v.length;k>te/2&&(k=te/2);let ae;for(ae=0;ae<k;++ae){const $e=parseInt(v.substr(ae*2,2),16);if(wn($e))return ae;S[_+ae]=$e}return ae}function N(S,v,_,k){return _n(rr(v,S.length-_),S,_,k)}function M(S,v,_,k){return _n(Pi(v),S,_,k)}function j(S,v,_,k){return _n(On(v),S,_,k)}function Q(S,v,_,k){return _n(Or(v,S.length-_),S,_,k)}f.prototype.write=function(v,_,k,B){if(_===void 0)B="utf8",k=this.length,_=0;else if(k===void 0&&typeof _=="string")B=_,k=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(k)?(k=k>>>0,B===void 0&&(B="utf8")):(B=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const te=this.length-_;if((k===void 0||k>te)&&(k=te),v.length>0&&(k<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let ae=!1;for(;;)switch(B){case"hex":return P(this,v,_,k);case"utf8":case"utf-8":return N(this,v,_,k);case"ascii":case"latin1":case"binary":return M(this,v,_,k);case"base64":return j(this,v,_,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,v,_,k);default:if(ae)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),ae=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(S,v,_){return v===0&&_===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(v,_))}function ut(S,v,_){_=Math.min(S.length,_);const k=[];let B=v;for(;B<_;){const te=S[B];let ae=null,$e=te>239?4:te>223?3:te>191?2:1;if(B+$e<=_){let Et,pt,mt,Ze;switch($e){case 1:te<128&&(ae=te);break;case 2:Et=S[B+1],(Et&192)===128&&(Ze=(te&31)<<6|Et&63,Ze>127&&(ae=Ze));break;case 3:Et=S[B+1],pt=S[B+2],(Et&192)===128&&(pt&192)===128&&(Ze=(te&15)<<12|(Et&63)<<6|pt&63,Ze>2047&&(Ze<55296||Ze>57343)&&(ae=Ze));break;case 4:Et=S[B+1],pt=S[B+2],mt=S[B+3],(Et&192)===128&&(pt&192)===128&&(mt&192)===128&&(Ze=(te&15)<<18|(Et&63)<<12|(pt&63)<<6|mt&63,Ze>65535&&Ze<1114112&&(ae=Ze))}}ae===null?(ae=65533,$e=1):ae>65535&&(ae-=65536,k.push(ae>>>10&1023|55296),ae=56320|ae&1023),k.push(ae),B+=$e}return Ke(k)}const Ge=4096;function Ke(S){const v=S.length;if(v<=Ge)return String.fromCharCode.apply(String,S);let _="",k=0;for(;k<v;)_+=String.fromCharCode.apply(String,S.slice(k,k+=Ge));return _}function Je(S,v,_){let k="";_=Math.min(S.length,_);for(let B=v;B<_;++B)k+=String.fromCharCode(S[B]&127);return k}function ge(S,v,_){let k="";_=Math.min(S.length,_);for(let B=v;B<_;++B)k+=String.fromCharCode(S[B]);return k}function Ne(S,v,_){const k=S.length;(!v||v<0)&&(v=0),(!_||_<0||_>k)&&(_=k);let B="";for(let te=v;te<_;++te)B+=vr[S[te]];return B}function _e(S,v,_){const k=S.slice(v,_);let B="";for(let te=0;te<k.length-1;te+=2)B+=String.fromCharCode(k[te]+k[te+1]*256);return B}f.prototype.slice=function(v,_){const k=this.length;v=~~v,_=_===void 0?k:~~_,v<0?(v+=k,v<0&&(v=0)):v>k&&(v=k),_<0?(_+=k,_<0&&(_=0)):_>k&&(_=k),_<v&&(_=v);const B=this.subarray(v,_);return Object.setPrototypeOf(B,f.prototype),B};function z(S,v,_){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+v>_)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(v,_,k){v=v>>>0,_=_>>>0,k||z(v,_,this.length);let B=this[v],te=1,ae=0;for(;++ae<_&&(te*=256);)B+=this[v+ae]*te;return B},f.prototype.readUintBE=f.prototype.readUIntBE=function(v,_,k){v=v>>>0,_=_>>>0,k||z(v,_,this.length);let B=this[v+--_],te=1;for(;_>0&&(te*=256);)B+=this[v+--_]*te;return B},f.prototype.readUint8=f.prototype.readUInt8=function(v,_){return v=v>>>0,_||z(v,1,this.length),this[v]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(v,_){return v=v>>>0,_||z(v,2,this.length),this[v]|this[v+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(v,_){return v=v>>>0,_||z(v,2,this.length),this[v]<<8|this[v+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(v,_){return v=v>>>0,_||z(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(v,_){return v=v>>>0,_||z(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},f.prototype.readBigUInt64LE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,te=this[++v]+this[++v]*2**8+this[++v]*2**16+k*2**24;return BigInt(B)+(BigInt(te)<<BigInt(32))}),f.prototype.readBigUInt64BE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=_*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],te=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+k;return(BigInt(B)<<BigInt(32))+BigInt(te)}),f.prototype.readIntLE=function(v,_,k){v=v>>>0,_=_>>>0,k||z(v,_,this.length);let B=this[v],te=1,ae=0;for(;++ae<_&&(te*=256);)B+=this[v+ae]*te;return te*=128,B>=te&&(B-=Math.pow(2,8*_)),B},f.prototype.readIntBE=function(v,_,k){v=v>>>0,_=_>>>0,k||z(v,_,this.length);let B=_,te=1,ae=this[v+--B];for(;B>0&&(te*=256);)ae+=this[v+--B]*te;return te*=128,ae>=te&&(ae-=Math.pow(2,8*_)),ae},f.prototype.readInt8=function(v,_){return v=v>>>0,_||z(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},f.prototype.readInt16LE=function(v,_){v=v>>>0,_||z(v,2,this.length);const k=this[v]|this[v+1]<<8;return k&32768?k|4294901760:k},f.prototype.readInt16BE=function(v,_){v=v>>>0,_||z(v,2,this.length);const k=this[v+1]|this[v]<<8;return k&32768?k|4294901760:k},f.prototype.readInt32LE=function(v,_){return v=v>>>0,_||z(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},f.prototype.readInt32BE=function(v,_){return v=v>>>0,_||z(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},f.prototype.readBigInt64LE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(k<<24);return(BigInt(B)<<BigInt(32))+BigInt(_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),f.prototype.readBigInt64BE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=(_<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(B)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+k)}),f.prototype.readFloatLE=function(v,_){return v=v>>>0,_||z(v,4,this.length),t.read(this,v,!0,23,4)},f.prototype.readFloatBE=function(v,_){return v=v>>>0,_||z(v,4,this.length),t.read(this,v,!1,23,4)},f.prototype.readDoubleLE=function(v,_){return v=v>>>0,_||z(v,8,this.length),t.read(this,v,!0,52,8)},f.prototype.readDoubleBE=function(v,_){return v=v>>>0,_||z(v,8,this.length),t.read(this,v,!1,52,8)};function se(S,v,_,k,B,te){if(!f.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>B||v<te)throw new RangeError('"value" argument is out of bounds');if(_+k>S.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(v,_,k,B){if(v=+v,_=_>>>0,k=k>>>0,!B){const $e=Math.pow(2,8*k)-1;se(this,v,_,k,$e,0)}let te=1,ae=0;for(this[_]=v&255;++ae<k&&(te*=256);)this[_+ae]=v/te&255;return _+k},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(v,_,k,B){if(v=+v,_=_>>>0,k=k>>>0,!B){const $e=Math.pow(2,8*k)-1;se(this,v,_,k,$e,0)}let te=k-1,ae=1;for(this[_+te]=v&255;--te>=0&&(ae*=256);)this[_+te]=v/ae&255;return _+k},f.prototype.writeUint8=f.prototype.writeUInt8=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,1,255,0),this[_]=v&255,_+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,65535,0),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,65535,0),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,4294967295,0),this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=v&255,_+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,4294967295,0),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4};function Te(S,v,_,k,B){nr(v,k,B,S,_,7);let te=Number(v&BigInt(4294967295));S[_++]=te,te=te>>8,S[_++]=te,te=te>>8,S[_++]=te,te=te>>8,S[_++]=te;let ae=Number(v>>BigInt(32)&BigInt(4294967295));return S[_++]=ae,ae=ae>>8,S[_++]=ae,ae=ae>>8,S[_++]=ae,ae=ae>>8,S[_++]=ae,_}function Fe(S,v,_,k,B){nr(v,k,B,S,_,7);let te=Number(v&BigInt(4294967295));S[_+7]=te,te=te>>8,S[_+6]=te,te=te>>8,S[_+5]=te,te=te>>8,S[_+4]=te;let ae=Number(v>>BigInt(32)&BigInt(4294967295));return S[_+3]=ae,ae=ae>>8,S[_+2]=ae,ae=ae>>8,S[_+1]=ae,ae=ae>>8,S[_]=ae,_+8}f.prototype.writeBigUInt64LE=nn(function(v,_=0){return Te(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=nn(function(v,_=0){return Fe(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(v,_,k,B){if(v=+v,_=_>>>0,!B){const Et=Math.pow(2,8*k-1);se(this,v,_,k,Et-1,-Et)}let te=0,ae=1,$e=0;for(this[_]=v&255;++te<k&&(ae*=256);)v<0&&$e===0&&this[_+te-1]!==0&&($e=1),this[_+te]=(v/ae>>0)-$e&255;return _+k},f.prototype.writeIntBE=function(v,_,k,B){if(v=+v,_=_>>>0,!B){const Et=Math.pow(2,8*k-1);se(this,v,_,k,Et-1,-Et)}let te=k-1,ae=1,$e=0;for(this[_+te]=v&255;--te>=0&&(ae*=256);)v<0&&$e===0&&this[_+te+1]!==0&&($e=1),this[_+te]=(v/ae>>0)-$e&255;return _+k},f.prototype.writeInt8=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,1,127,-128),v<0&&(v=255+v+1),this[_]=v&255,_+1},f.prototype.writeInt16LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,32767,-32768),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeInt16BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,32767,-32768),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeInt32LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,2147483647,-2147483648),this[_]=v&255,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24,_+4},f.prototype.writeInt32BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4},f.prototype.writeBigInt64LE=nn(function(v,_=0){return Te(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=nn(function(v,_=0){return Fe(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ze(S,v,_,k,B,te){if(_+k>S.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function He(S,v,_,k,B){return v=+v,_=_>>>0,B||ze(S,v,_,4),t.write(S,v,_,k,23,4),_+4}f.prototype.writeFloatLE=function(v,_,k){return He(this,v,_,!0,k)},f.prototype.writeFloatBE=function(v,_,k){return He(this,v,_,!1,k)};function rt(S,v,_,k,B){return v=+v,_=_>>>0,B||ze(S,v,_,8),t.write(S,v,_,k,52,8),_+8}f.prototype.writeDoubleLE=function(v,_,k){return rt(this,v,_,!0,k)},f.prototype.writeDoubleBE=function(v,_,k){return rt(this,v,_,!1,k)},f.prototype.copy=function(v,_,k,B){if(!f.isBuffer(v))throw new TypeError("argument should be a Buffer");if(k||(k=0),!B&&B!==0&&(B=this.length),_>=v.length&&(_=v.length),_||(_=0),B>0&&B<k&&(B=k),B===k||v.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),v.length-_<B-k&&(B=v.length-_+k);const te=B-k;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,k,B):Uint8Array.prototype.set.call(v,this.subarray(k,B),_),te},f.prototype.fill=function(v,_,k,B){if(typeof v=="string"){if(typeof _=="string"?(B=_,_=0,k=this.length):typeof k=="string"&&(B=k,k=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!f.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(v.length===1){const ae=v.charCodeAt(0);(B==="utf8"&&ae<128||B==="latin1")&&(v=ae)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(_<0||this.length<_||this.length<k)throw new RangeError("Out of range index");if(k<=_)return this;_=_>>>0,k=k===void 0?this.length:k>>>0,v||(v=0);let te;if(typeof v=="number")for(te=_;te<k;++te)this[te]=v;else{const ae=f.isBuffer(v)?v:f.from(v,B),$e=ae.length;if($e===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(te=0;te<k-_;++te)this[te+_]=ae[te%$e]}return this};const Xe={};function yt(S,v,_){Xe[S]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}yt("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yt("ERR_INVALID_ARG_TYPE",function(S,v){return`The "${S}" argument must be of type number. Received type ${typeof v}`},TypeError),yt("ERR_OUT_OF_RANGE",function(S,v,_){let k=`The value of "${S}" is out of range.`,B=_;return Number.isInteger(_)&&Math.abs(_)>2**32?B=tt(String(_)):typeof _=="bigint"&&(B=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(B=tt(B)),B+="n"),k+=` It must be ${v}. Received ${B}`,k},RangeError);function tt(S){let v="",_=S.length;const k=S[0]==="-"?1:0;for(;_>=k+4;_-=3)v=`_${S.slice(_-3,_)}${v}`;return`${S.slice(0,_)}${v}`}function tn(S,v,_){cn(v,"offset"),(S[v]===void 0||S[v+_]===void 0)&&zt(v,S.length-(_+1))}function nr(S,v,_,k,B,te){if(S>_||S<v){const ae=typeof v=="bigint"?"n":"";let $e;throw v===0||v===BigInt(0)?$e=`>= 0${ae} and < 2${ae} ** ${(te+1)*8}${ae}`:$e=`>= -(2${ae} ** ${(te+1)*8-1}${ae}) and < 2 ** ${(te+1)*8-1}${ae}`,new Xe.ERR_OUT_OF_RANGE("value",$e,S)}tn(k,B,te)}function cn(S,v){if(typeof S!="number")throw new Xe.ERR_INVALID_ARG_TYPE(v,"number",S)}function zt(S,v,_){throw Math.floor(S)!==S?(cn(S,_),new Xe.ERR_OUT_OF_RANGE("offset","an integer",S)):v<0?new Xe.ERR_BUFFER_OUT_OF_BOUNDS:new Xe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,S)}const br=/[^+/0-9A-Za-z-_]/g;function si(S){if(S=S.split("=")[0],S=S.trim().replace(br,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function rr(S,v){v=v||1/0;let _;const k=S.length;let B=null;const te=[];for(let ae=0;ae<k;++ae){if(_=S.charCodeAt(ae),_>55295&&_<57344){if(!B){if(_>56319){(v-=3)>-1&&te.push(239,191,189);continue}else if(ae+1===k){(v-=3)>-1&&te.push(239,191,189);continue}B=_;continue}if(_<56320){(v-=3)>-1&&te.push(239,191,189),B=_;continue}_=(B-55296<<10|_-56320)+65536}else B&&(v-=3)>-1&&te.push(239,191,189);if(B=null,_<128){if((v-=1)<0)break;te.push(_)}else if(_<2048){if((v-=2)<0)break;te.push(_>>6|192,_&63|128)}else if(_<65536){if((v-=3)<0)break;te.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((v-=4)<0)break;te.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return te}function Pi(S){const v=[];for(let _=0;_<S.length;++_)v.push(S.charCodeAt(_)&255);return v}function Or(S,v){let _,k,B;const te=[];for(let ae=0;ae<S.length&&!((v-=2)<0);++ae)_=S.charCodeAt(ae),k=_>>8,B=_%256,te.push(B),te.push(k);return te}function On(S){return e.toByteArray(si(S))}function _n(S,v,_,k){let B;for(B=0;B<k&&!(B+_>=v.length||B>=S.length);++B)v[B+_]=S[B];return B}function Vt(S,v){return S instanceof v||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===v.name}function wn(S){return S!==S}const vr=function(){const S="0123456789abcdef",v=new Array(256);for(let _=0;_<16;++_){const k=_*16;for(let B=0;B<16;++B)v[k+B]=S[_]+S[B]}return v}();function nn(S){return typeof BigInt>"u"?wt:S}function wt(){throw new Error("BigInt not supported")}}(wf)),wf}var m1=p1();const pd="https://photospicker.googleapis.com/v1/sessions/",g1="https://photospicker.googleapis.com/v1/mediaItems",y1="https://api.cloudinary.com/v1_1/drtml4wg7/",Sc=n=>({headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});function v1(n,e){Pt.delete(pd+e,Sc(n.accessToken)).then(t=>{console.log("deleted session id "+e),console.log(t)})}function _1(n){return Pt.post(pd,{},Sc(n.accessToken)).then(e=>(console.log("Created new session %s",e.data.toString()),e.data))}function w1(n,e){return Pt.get(pd+e,Sc(n.accessToken)).then(t=>(console.log("Pinging session %s",t.data.toString()),t.data))}function E1(n,e){const t={params:{sessionId:e,pageSize:1},...Sc(n.accessToken)};return Pt.get(g1,t).then(o=>(console.log("Retrieving media items"),o.data))}function T1(n,e){return Pt.get(n+"=w1920-h1920-d",{headers:{Authorization:`Bearer ${e.accessToken}`},responseType:"arraybuffer"}).then(t=>m1.Buffer.from(t.data,"binary").toString("base64"))}function Qg(n){return Pt.post(y1+"auto/upload",{file:n,upload_preset:"cooking-unsigned"}).then(e=>e.data.secure_url)}function Zv({style:n}){return K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}function S1({onSelectImage:n,selectedImage:e}){const[t,o]=q.useState(e||""),[s,l]=q.useState(null),[c,f]=q.useState(!1),p=q.useContext(Gs),m=()=>{p.user&&(s?window.open(s.pickerUri):(f(!0),_1(p.user).then(A=>{l(A),window.open(A.pickerUri);const R=parseInt(A.pollingConfig.timeoutIn.slice(0,-1))*1e3,C=parseInt(A.pollingConfig.pollInterval.slice(0,-1))*1e3,O=Math.floor(R/C);I(A.id,C,O)}).finally(()=>f(!1))))},w=A=>{p.user&&v1(p.user,A),l(null)},I=(A,R,C)=>{setTimeout(()=>{console.log("Polling sesssion. Attempts left: %s",C),p.user&&w1(p.user,A).then(O=>{O.mediaItemsSet&&p.user?(console.log("Media items chosen"),f(!0),E1(p.user,A).then(D=>{if(p.user){const W=D.mediaItems[0].mediaFile.baseUrl;T1(W,p.user).then(Z=>{const ie="data:image/jpeg;base64,"+Z;n(ie),o(ie)})}w(A)}).finally(()=>f(!1))):C>0?I(A,R,C-1):(console.log("Session expired. Try again."),w(A))})},R)};return K.jsxs("button",{className:"flex flex-col p-4 justify-center items-center rounded-lg bg-light-gray cursor-pointer text-tan-dark/50 enabled:hover:opacity-70 enabled:active:bg-tan-1 enabled:active:text-tan-dark disabled:opacity-70 disabled:cursor-wait",onClick:m,disabled:c,children:[t&&K.jsx("img",{src:t,className:"w-auto h-full outline-dashed outline-tan-dark/50 outline-2"}),!t&&K.jsx(Zv,{style:"size-16"}),K.jsx("p",{className:"pt-4",children:t&&"Update Image"||"Pick Image"})]})}function dl({tags:n,setTags:e}){const t=q.useContext(qo).tags;return[...n].map(o=>{let s;return e&&(s=()=>{const l=new Set(n);l.delete(o),e(l)}),K.jsx(fp,{text:o,color:t.get(o),onCancel:s},o)})}function I1(){const{pantry:n}=q.useContext(qo);return K.jsxs("div",{className:"flex flex-col",children:[K.jsx("h2",{children:"Ingredients"}),K.jsx("div",{className:"flex flex-row flex-wrap",children:K.jsx(dl,{tags:n})})]})}function R1({name:n,index:e,onEditIngredientName:t}){const[o,s]=q.useState(new Set),[l,c]=q.useState(!1),{pantry:f}=q.useContext(qo);return q.useEffect(()=>{const p=new Set,m=n.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");n.length>1&&f.forEach(w=>{w.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").match(new RegExp(`^${m}`,"i"))&&w!=m&&p.add(w)}),s(p)},[n,f]),K.jsxs("div",{className:"relative w-full",onFocus:()=>c(!0),onBlur:p=>p.relatedTarget==null&&c(!1),children:[K.jsx("input",{className:"input-txt",type:"text",value:n.toLowerCase(),placeholder:"sugar",onChange:p=>t(e,p.target.value)},`${e}-name`),o.size>0&&l&&K.jsx("div",{className:"absolute flex flex-col max-h-30 overflow-y-scroll z-40 w-full bg-white border-2 border-t-0 border-light-gray shadow-lg",children:[...o].map(p=>K.jsx("button",{className:"cursor-pointer ps-2 py-1 text-start w-full border-b-2 border-light-gray hover:bg-light-gray",onClick:()=>t(e,p),children:p},p))})]})}const A1=["","clove","slice","stalk"],x1=["cup","pinch","tb","ts"],C1=["g","lb"];function P1(n){return n.name!=null&&n.measurement!=null}function k1({ingredients:n,setIngredients:e}){const t=(p,m)=>{const w=structuredClone(n);w[p].name=m.toLowerCase(),e(w)},o=(p,m)=>{const w=structuredClone(n);w[p].measurement.unit=m,e(w)},s=(p,m)=>{const w=structuredClone(n);w[p].measurement.quantity=m,e(w)},l=p=>{const m=structuredClone(n);m.splice(p,1),e(m)},c=()=>{e([...structuredClone(n),{name:"",measurement:{quantity:0,unit:""}}])},f=p=>{const m=w=>n[p].measurement.unit==w;return K.jsxs("select",{onChange:w=>o(p,w.target.value),className:"picker",children:[K.jsx("option",{disabled:!0,children:"- unit -"}),A1.map(w=>K.jsx("option",{selected:m(w),children:w},`${p}-${w}`)),K.jsx("option",{disabled:!0,children:"- volume -"}),x1.map(w=>K.jsx("option",{selected:m(w),children:w},`${p}-${w}`)),K.jsx("option",{disabled:!0,children:"- weight -"}),C1.map(w=>K.jsx("option",{selected:m(w),children:w},`${p}-${w}`))]},`${p}-unit`)};return K.jsxs("div",{className:"flex flex-col",children:[K.jsxs("h2",{children:["Ingredients ",K.jsx(Bs,{type:"ingredients"})]}),n.map((p,m)=>{var w;return K.jsxs("div",{className:"flex flex-row",children:[K.jsx("input",{className:"number-picker",type:"number",min:0,max:1e3,value:(w=p.measurement)==null?void 0:w.quantity,onChange:I=>s(m,I.target.valueAsNumber)},`${m}-quantity`),f(m),K.jsx(R1,{name:p.name,onEditIngredientName:t,index:m}),K.jsx("div",{onClick:()=>l(m),children:K.jsx(dp,{styles:"input-trash"})},`${m}-x`)]})}),K.jsx("button",{className:"placeholder-btn-tan mt-2",onClick:c,children:"Add +"})]})}var Ba={},Gg;function N1(){if(Gg)return Ba;Gg=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=c,Ba.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,R){const C=new l,O=A.length;if(O<2)return C;const D=(R==null?void 0:R.decode)||w;let W=0;do{const Z=A.indexOf("=",W);if(Z===-1)break;const ie=A.indexOf(";",W),pe=ie===-1?O:ie;if(Z>pe){W=A.lastIndexOf(";",Z-1)+1;continue}const ce=f(A,W,Z),$=p(A,Z,ce),b=A.slice(ce,$);if(C[b]===void 0){let P=f(A,Z+1,pe),N=p(A,pe,P);const M=D(A.slice(P,N));C[b]=M}W=pe+1}while(W<O);return C}function f(A,R,C){do{const O=A.charCodeAt(R);if(O!==32&&O!==9)return R}while(++R<C);return C}function p(A,R,C){for(;R>C;){const O=A.charCodeAt(--R);if(O!==32&&O!==9)return R+1}return C}function m(A,R,C){const O=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const D=O(R);if(!e.test(D))throw new TypeError(`argument val is invalid: ${R}`);let W=A+"="+D;if(!C)return W;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);W+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);W+="; Domain="+C.domain}if(C.path){if(!o.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);W+="; Path="+C.path}if(C.expires){if(!I(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);W+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(W+="; HttpOnly"),C.secure&&(W+="; Secure"),C.partitioned&&(W+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return W}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function I(A){return s.call(A)==="[object Date]"}return Ba}N1();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yg="popstate";function D1(n={}){function e(s,l){let{pathname:c="/",search:f="",hash:p=""}=Ci(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),el("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=s.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:ao(l))}function o(s,l){un(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return V1(e,t,o,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substring(2,10)}function Xg(n,e){return{usr:n.state,key:n.key,idx:e}}function el(n,e,t=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ci(e):e,state:t,key:e&&e.key||o||L1()}}function ao({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ci(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function V1(n,e,t,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,c=s.history,f="POP",p=null,m=w();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function w(){return(c.state||{idx:null}).idx}function I(){f="POP";let D=w(),W=D==null?null:D-m;m=D,p&&p({action:f,location:O.location,delta:W})}function A(D,W){f="PUSH";let Z=el(O.location,D,W);t&&t(Z,D),m=w()+1;let ie=Xg(Z,m),pe=O.createHref(Z);try{c.pushState(ie,"",pe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;s.location.assign(pe)}l&&p&&p({action:f,location:O.location,delta:1})}function R(D,W){f="REPLACE";let Z=el(O.location,D,W);t&&t(Z,D),m=w();let ie=Xg(Z,m),pe=O.createHref(Z);c.replaceState(ie,"",pe),l&&p&&p({action:f,location:O.location,delta:0})}function C(D){let W=s.location.origin!=="null"?s.location.origin:s.location.href,Z=typeof D=="string"?D:ao(D);return Z=Z.replace(/ $/,"%20"),lt(W,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,W)}let O={get action(){return f},get location(){return n(s,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Yg,I),p=D,()=>{s.removeEventListener(Yg,I),p=null}},createHref(D){return e(s,D)},createURL:C,encodeLocation(D){let W=C(D);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:R,go(D){return c.go(D)}};return O}var b1=new Set(["lazy","caseSensitive","path","id","index","children"]);function O1(n){return n.index===!0}function ec(n,e,t=[],o={}){return n.map((s,l)=>{let c=[...t,String(l)],f=typeof s.id=="string"?s.id:c.join("-");if(lt(s.index!==!0||!s.children,"Cannot specify children on an index route"),lt(!o[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),O1(s)){let p={...s,...e(s),id:f};return o[f]=p,p}else{let p={...s,...e(s),id:f,children:void 0};return o[f]=p,s.children&&(p.children=ec(s.children,e,c,o)),p}})}function to(n,e,t="/"){return $u(n,e,t,!1)}function $u(n,e,t,o){let s=typeof e=="string"?Ci(e):e,l=Dr(s.pathname||"/",t);if(l==null)return null;let c=e0(n);F1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=G1(l);f=K1(c[p],m,o)}return f}function M1(n,e){let{route:t,pathname:o,params:s}=n;return{id:t.id,pathname:o,params:s,data:e[t.id],handle:t.handle}}function e0(n,e=[],t=[],o=""){let s=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let m=Jr([o,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),e0(l.children,e,w,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:q1(m,l.index),routesMeta:w})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,c);else for(let p of t0(l.path))s(l,c,p)}),e}function t0(n){let e=n.split("/");if(e.length===0)return[];let[t,...o]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let c=t0(o.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function F1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:W1(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}var U1=/^:[\w-]+$/,B1=3,j1=2,z1=1,$1=10,H1=-2,Jg=n=>n==="*";function q1(n,e){let t=n.split("/"),o=t.length;return t.some(Jg)&&(o+=H1),e&&(o+=j1),t.filter(s=>!Jg(s)).reduce((s,l)=>s+(U1.test(l)?B1:l===""?z1:$1),o)}function W1(n,e){return n.length===e.length&&n.slice(0,-1).every((o,s)=>o===e[s])?n[n.length-1]-e[e.length-1]:0}function K1(n,e,t=!1){let{routesMeta:o}=n,s={},l="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],m=f===o.length-1,w=l==="/"?e:e.slice(l.length)||"/",I=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},w),A=p.route;if(!I&&m&&t&&!o[o.length-1].route.index&&(I=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!I)return null;Object.assign(s,I.params),c.push({params:s,pathname:Jr([l,I.pathname]),pathnameBase:J1(Jr([l,I.pathnameBase])),route:A}),I.pathnameBase!=="/"&&(l=Jr([l,I.pathnameBase]))}return c}function tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,o]=Q1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((m,{paramName:w,isOptional:I},A)=>{if(w==="*"){let C=f[A]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=f[A];return I&&!R?m[w]=void 0:m[w]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function Q1(n,e=!1,t=!0){un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function G1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=n.charAt(t);return o&&o!=="/"?null:n.slice(t)||"/"}function Y1(n,e="/"){let{pathname:t,search:o="",hash:s=""}=typeof n=="string"?Ci(n):n;return{pathname:t?t.startsWith("/")?t:X1(t,e):e,search:Z1(o),hash:eS(s)}}function X1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function md(n){let e=n0(n);return e.map((t,o)=>o===e.length-1?t.pathname:t.pathnameBase)}function gd(n,e,t,o=!1){let s;typeof n=="string"?s=Ci(n):(s={...n},lt(!s.pathname||!s.pathname.includes("?"),Ef("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Ef("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Ef("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=t;else{let I=e.length-1;if(!o&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),I-=1;s.pathname=A.join("/")}f=I>=0?e[I]:"/"}let p=Y1(s,f),m=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||w)&&(p.pathname+="/"),p}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),J1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,nc=class{constructor(n,e,t,o=!1){this.status=n,this.statusText=e||"",this.internal=o,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var r0=["POST","PUT","PATCH","DELETE"],tS=new Set(r0),nS=["GET",...r0],rS=new Set(nS),iS=new Set([301,302,303,307,308]),oS=new Set([307,308]),Tf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),i0="remix-router-transitions",o0=Symbol("ResetLoaderData");function lS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";lt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=n.mapRouteProperties||aS,s={},l=ec(n.routes,o,void 0,s),c,f=n.basename||"/",p=n.dataStrategy||dS,m=n.patchRoutesOnNavigation,w={...n.future},I=null,A=new Set,R=null,C=null,O=null,D=n.hydrationData!=null,W=to(l,n.history.location,f),Z=!1,ie=null;if(W==null&&!m){let F=gr(404,{pathname:n.history.location.pathname}),{matches:G,route:J}=uy(l);W=G,ie={[J.id]:F}}W&&!n.hydrationData&&Dn(W,l,n.history.location.pathname).active&&(W=null);let pe;if(W)if(W.some(F=>F.route.lazy))pe=!1;else if(!W.some(F=>F.route.loader))pe=!0;else{let F=n.hydrationData?n.hydrationData.loaderData:null,G=n.hydrationData?n.hydrationData.errors:null;if(G){let J=W.findIndex(he=>G[he.route.id]!==void 0);pe=W.slice(0,J+1).every(he=>!Bf(he.route,F,G))}else pe=W.every(J=>!Bf(J.route,F,G))}else{pe=!1,W=[];let F=Dn(null,l,n.history.location.pathname);F.active&&F.matches&&(Z=!0,W=F.matches)}let ce,$={historyAction:n.history.action,location:n.history.location,matches:W,initialized:pe,navigation:Tf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ie,fetchers:new Map,blockers:new Map},b="POP",P=!1,N,M=!1,j=new Map,Q=null,V=!1,ut=!1,Ge=new Set,Ke=new Map,Je=0,ge=-1,Ne=new Map,_e=new Set,z=new Map,se=new Map,Te=new Set,Fe=new Map,ze,He=null;function rt(){if(I=n.history.listen(({action:F,location:G,delta:J})=>{if(ze){ze(),ze=void 0;return}un(Fe.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=Ze({currentLocation:$.location,nextLocation:G,historyAction:F});if(he&&J!=null){let we=new Promise(ke=>{ze=ke});n.history.go(J*-1),mt(he,{state:"blocked",location:G,proceed(){mt(he,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),we.then(()=>n.history.go(J))},reset(){let ke=new Map($.blockers);ke.set(he,ja),tt({blockers:ke})}});return}return zt(F,G)}),t){IS(e,j);let F=()=>RS(e,j);e.addEventListener("pagehide",F),Q=()=>e.removeEventListener("pagehide",F)}return $.initialized||zt("POP",$.location,{initialHydration:!0}),ce}function Xe(){I&&I(),Q&&Q(),A.clear(),N&&N.abort(),$.fetchers.forEach((F,G)=>_(G)),$.blockers.forEach((F,G)=>pt(G))}function yt(F){return A.add(F),()=>A.delete(F)}function tt(F,G={}){$={...$,...F};let J=[],he=[];$.fetchers.forEach((we,ke)=>{we.state==="idle"&&(Te.has(ke)?J.push(ke):he.push(ke))}),Te.forEach(we=>{!$.fetchers.has(we)&&!Ke.has(we)&&J.push(we)}),[...A].forEach(we=>we($,{deletedFetchers:J,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),J.forEach(we=>_(we)),he.forEach(we=>$.fetchers.delete(we))}function tn(F,G,{flushSync:J}={}){var Ee,Be;let he=$.actionData!=null&&$.navigation.formMethod!=null&&kr($.navigation.formMethod)&&$.navigation.state==="loading"&&((Ee=F.state)==null?void 0:Ee._isRedirect)!==!0,we;G.actionData?Object.keys(G.actionData).length>0?we=G.actionData:we=null:he?we=$.actionData:we=null;let ke=G.loaderData?ay($.loaderData,G.loaderData,G.matches||[],G.errors):$.loaderData,be=$.blockers;be.size>0&&(be=new Map(be),be.forEach((qe,St)=>be.set(St,ja)));let Re=P===!0||$.navigation.formMethod!=null&&kr($.navigation.formMethod)&&((Be=F.state)==null?void 0:Be._isRedirect)!==!0;c&&(l=c,c=void 0),V||b==="POP"||(b==="PUSH"?n.history.push(F,F.state):b==="REPLACE"&&n.history.replace(F,F.state));let Se;if(b==="POP"){let qe=j.get($.location.pathname);qe&&qe.has(F.pathname)?Se={currentLocation:$.location,nextLocation:F}:j.has(F.pathname)&&(Se={currentLocation:F,nextLocation:$.location})}else if(M){let qe=j.get($.location.pathname);qe?qe.add(F.pathname):(qe=new Set([F.pathname]),j.set($.location.pathname,qe)),Se={currentLocation:$.location,nextLocation:F}}tt({...G,actionData:we,loaderData:ke,historyAction:b,location:F,initialized:!0,navigation:Tf,revalidation:"idle",restoreScrollPosition:ai(F,G.matches||$.matches),preventScrollReset:Re,blockers:be},{viewTransitionOpts:Se,flushSync:J===!0}),b="POP",P=!1,M=!1,V=!1,ut=!1,He==null||He.resolve(),He=null}async function nr(F,G){if(typeof F=="number"){n.history.go(F);return}let J=Uf($.location,$.matches,f,F,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:he,submission:we,error:ke}=Zg(!1,J,G),be=$.location,Re=el($.location,he,G&&G.state);Re={...Re,...n.history.encodeLocation(Re)};let Se=G&&G.replace!=null?G.replace:void 0,Ee="PUSH";Se===!0?Ee="REPLACE":Se===!1||we!=null&&kr(we.formMethod)&&we.formAction===$.location.pathname+$.location.search&&(Ee="REPLACE");let Be=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,qe=(G&&G.flushSync)===!0,St=Ze({currentLocation:be,nextLocation:Re,historyAction:Ee});if(St){mt(St,{state:"blocked",location:Re,proceed(){mt(St,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),nr(F,G)},reset(){let It=new Map($.blockers);It.set(St,ja),tt({blockers:It})}});return}await zt(Ee,Re,{submission:we,pendingError:ke,preventScrollReset:Be,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:qe})}function cn(){He||(He=AS()),nn(),tt({revalidation:"loading"});let F=He.promise;return $.navigation.state==="submitting"?F:$.navigation.state==="idle"?(zt($.historyAction,$.location,{startUninterruptedRevalidation:!0}),F):(zt(b||$.historyAction,$.navigation.location,{overrideNavigation:$.navigation,enableViewTransition:M===!0}),F)}async function zt(F,G,J){N&&N.abort(),N=null,b=F,V=(J&&J.startUninterruptedRevalidation)===!0,ir($.location,$.matches),P=(J&&J.preventScrollReset)===!0,M=(J&&J.enableViewTransition)===!0;let he=c||l,we=J&&J.overrideNavigation,ke=J!=null&&J.initialHydration&&$.matches&&$.matches.length>0&&!Z?$.matches:to(he,G,f),be=(J&&J.flushSync)===!0;if(ke&&$.initialized&&!ut&&_S($.location,G)&&!(J&&J.submission&&kr(J.submission.formMethod))){tn(G,{matches:ke},{flushSync:be});return}let Re=Dn(ke,he,G.pathname);if(Re.active&&Re.matches&&(ke=Re.matches),!ke){let{error:_t,notFoundMatches:nt,route:bt}=Mr(G.pathname);tn(G,{matches:nt,loaderData:{},errors:{[bt.id]:_t}},{flushSync:be});return}N=new AbortController;let Se=Ls(n.history,G,N.signal,J&&J.submission),Ee;if(J&&J.pendingError)Ee=[Mo(ke).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&kr(J.submission.formMethod)){let _t=await br(Se,G,J.submission,ke,Re.active,{replace:J.replace,flushSync:be});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[nt,bt]=_t.pendingActionResult;if(er(bt)&&tl(bt.error)&&bt.error.status===404){N=null,tn(G,{matches:_t.matches,loaderData:{},errors:{[nt]:bt.error}});return}}ke=_t.matches||ke,Ee=_t.pendingActionResult,we=Sf(G,J.submission),be=!1,Re.active=!1,Se=Ls(n.history,Se.url,Se.signal)}let{shortCircuited:Be,matches:qe,loaderData:St,errors:It}=await si(Se,G,ke,Re.active,we,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,Ee);Be||(N=null,tn(G,{matches:qe||ke,...ly(Ee),loaderData:St,errors:It}))}async function br(F,G,J,he,we,ke={}){nn();let be=TS(G,J);if(tt({navigation:be},{flushSync:ke.flushSync===!0}),we){let Ee=await Fr(he,G.pathname,F.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let Be=Mo(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[Be,{type:"error",error:Ee.error}]}}else if(Ee.matches)he=Ee.matches;else{let{notFoundMatches:Be,error:qe,route:St}=Mr(G.pathname);return{matches:Be,pendingActionResult:[St.id,{type:"error",error:qe}]}}}let Re,Se=Ha(he,G);if(!Se.route.action&&!Se.route.lazy)Re={type:"error",error:gr(405,{method:F.method,pathname:G.pathname,routeId:Se.route.id})};else if(Re=(await wn("action",$,F,[Se],he,null))[Se.route.id],F.signal.aborted)return{shortCircuited:!0};if(Uo(Re)){let Ee;return ke&&ke.replace!=null?Ee=ke.replace:Ee=iy(Re.response.headers.get("Location"),new URL(F.url),f)===$.location.pathname+$.location.search,await Vt(F,Re,!0,{submission:J,replace:Ee}),{shortCircuited:!0}}if(er(Re)){let Ee=Mo(he,Se.route.id);return(ke&&ke.replace)!==!0&&(b="PUSH"),{matches:he,pendingActionResult:[Ee.route.id,Re]}}return{matches:he,pendingActionResult:[Se.route.id,Re]}}async function si(F,G,J,he,we,ke,be,Re,Se,Ee,Be){let qe=we||Sf(G,ke),St=ke||be||hy(qe),It=!V&&!Se;if(he){if(It){let Rt=rr(Be);tt({navigation:qe,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:Ee})}let ot=await Fr(J,G.pathname,F.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let Rt=Mo(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[Rt]:ot.error}}}else if(ot.matches)J=ot.matches;else{let{error:Rt,notFoundMatches:Ur,route:Br}=Mr(G.pathname);return{matches:Ur,loaderData:{},errors:{[Br.id]:Rt}}}}let _t=c||l,[nt,bt]=ty(n.history,$,J,St,G,Se===!0,ut,Ge,Te,z,_e,_t,f,Be);if(ge=++Je,nt.length===0&&bt.length===0){let ot=ae();return tn(G,{matches:J,loaderData:{},errors:Be&&er(Be[1])?{[Be[0]]:Be[1].error}:null,...ly(Be),...ot?{fetchers:new Map($.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(It){let ot={};if(!he){ot.navigation=qe;let Rt=rr(Be);Rt!==void 0&&(ot.actionData=Rt)}bt.length>0&&(ot.fetchers=Pi(bt)),tt(ot,{flushSync:Ee})}bt.forEach(ot=>{B(ot.key),ot.controller&&Ke.set(ot.key,ot.controller)});let or=()=>bt.forEach(ot=>B(ot.key));N&&N.signal.addEventListener("abort",or);let{loaderResults:sr,fetcherResults:En}=await vr($,J,nt,bt,F);if(F.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",or),bt.forEach(ot=>Ke.delete(ot.key));let Tn=Lu(sr);if(Tn)return await Vt(F,Tn.result,!0,{replace:Re}),{shortCircuited:!0};if(Tn=Lu(En),Tn)return _e.add(Tn.key),await Vt(F,Tn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:Ni,errors:ui}=sy($,J,sr,Be,bt,En);Se&&$.errors&&(ui={...$.errors,...ui});let ct=ae(),ci=$e(ge),ar=ct||ci||bt.length>0;return{matches:J,loaderData:Ni,errors:ui,...ar?{fetchers:new Map($.fetchers)}:{}}}function rr(F){if(F&&!er(F[1]))return{[F[0]]:F[1].data};if($.actionData)return Object.keys($.actionData).length===0?null:$.actionData}function Pi(F){return F.forEach(G=>{let J=$.fetchers.get(G.key),he=za(void 0,J?J.data:void 0);$.fetchers.set(G.key,he)}),new Map($.fetchers)}async function Or(F,G,J,he){B(F);let we=(he&&he.flushSync)===!0,ke=c||l,be=Uf($.location,$.matches,f,J,G,he==null?void 0:he.relative),Re=to(ke,be,f),Se=Dn(Re,ke,be);if(Se.active&&Se.matches&&(Re=Se.matches),!Re){S(F,G,gr(404,{pathname:be}),{flushSync:we});return}let{path:Ee,submission:Be,error:qe}=Zg(!0,be,he);if(qe){S(F,G,qe,{flushSync:we});return}let St=Ha(Re,Ee),It=(he&&he.preventScrollReset)===!0;if(Be&&kr(Be.formMethod)){await On(F,G,Ee,St,Re,Se.active,we,It,Be);return}z.set(F,{routeId:G,path:Ee}),await _n(F,G,Ee,St,Re,Se.active,we,It,Be)}async function On(F,G,J,he,we,ke,be,Re,Se){nn(),z.delete(F);function Ee(xt){if(!xt.route.action&&!xt.route.lazy){let qt=gr(405,{method:Se.formMethod,pathname:J,routeId:G});return S(F,G,qt,{flushSync:be}),!0}return!1}if(!ke&&Ee(he))return;let Be=$.fetchers.get(F);wt(F,SS(Se,Be),{flushSync:be});let qe=new AbortController,St=Ls(n.history,J,qe.signal,Se);if(ke){let xt=await Fr(we,J,St.signal);if(xt.type==="aborted")return;if(xt.type==="error"){S(F,G,xt.error,{flushSync:be});return}else if(xt.matches){if(we=xt.matches,he=Ha(we,J),Ee(he))return}else{S(F,G,gr(404,{pathname:J}),{flushSync:be});return}}Ke.set(F,qe);let It=Je,nt=(await wn("action",$,St,[he],we,F))[he.route.id];if(St.signal.aborted){Ke.get(F)===qe&&Ke.delete(F);return}if(Te.has(F)){if(Uo(nt)||er(nt)){wt(F,eo(void 0));return}}else{if(Uo(nt))if(Ke.delete(F),ge>It){wt(F,eo(void 0));return}else return _e.add(F),wt(F,za(Se)),Vt(St,nt,!1,{fetcherSubmission:Se,preventScrollReset:Re});if(er(nt)){S(F,G,nt.error);return}}let bt=$.navigation.location||$.location,or=Ls(n.history,bt,qe.signal),sr=c||l,En=$.navigation.state!=="idle"?to(sr,$.navigation.location,f):$.matches;lt(En,"Didn't find any matches after fetcher action");let Tn=++Je;Ne.set(F,Tn);let Ni=za(Se,nt.data);$.fetchers.set(F,Ni);let[ui,ct]=ty(n.history,$,En,Se,bt,!1,ut,Ge,Te,z,_e,sr,f,[he.route.id,nt]);ct.filter(xt=>xt.key!==F).forEach(xt=>{let qt=xt.key,yo=$.fetchers.get(qt),hn=za(void 0,yo?yo.data:void 0);$.fetchers.set(qt,hn),B(qt),xt.controller&&Ke.set(qt,xt.controller)}),tt({fetchers:new Map($.fetchers)});let ci=()=>ct.forEach(xt=>B(xt.key));qe.signal.addEventListener("abort",ci);let{loaderResults:ar,fetcherResults:ot}=await vr($,En,ui,ct,or);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",ci),Ne.delete(F),Ke.delete(F),ct.forEach(xt=>Ke.delete(xt.key));let Rt=Lu(ar);if(Rt)return Vt(or,Rt.result,!1,{preventScrollReset:Re});if(Rt=Lu(ot),Rt)return _e.add(Rt.key),Vt(or,Rt.result,!1,{preventScrollReset:Re});let{loaderData:Ur,errors:Br}=sy($,En,ar,void 0,ct,ot);if($.fetchers.has(F)){let xt=eo(nt.data);$.fetchers.set(F,xt)}$e(Tn),$.navigation.state==="loading"&&Tn>ge?(lt(b,"Expected pending action"),N&&N.abort(),tn($.navigation.location,{matches:En,loaderData:Ur,errors:Br,fetchers:new Map($.fetchers)})):(tt({errors:Br,loaderData:ay($.loaderData,Ur,En,Br),fetchers:new Map($.fetchers)}),ut=!1)}async function _n(F,G,J,he,we,ke,be,Re,Se){let Ee=$.fetchers.get(F);wt(F,za(Se,Ee?Ee.data:void 0),{flushSync:be});let Be=new AbortController,qe=Ls(n.history,J,Be.signal);if(ke){let nt=await Fr(we,J,qe.signal);if(nt.type==="aborted")return;if(nt.type==="error"){S(F,G,nt.error,{flushSync:be});return}else if(nt.matches)we=nt.matches,he=Ha(we,J);else{S(F,G,gr(404,{pathname:J}),{flushSync:be});return}}Ke.set(F,Be);let St=Je,_t=(await wn("loader",$,qe,[he],we,F))[he.route.id];if(Ke.get(F)===Be&&Ke.delete(F),!qe.signal.aborted){if(Te.has(F)){wt(F,eo(void 0));return}if(Uo(_t))if(ge>St){wt(F,eo(void 0));return}else{_e.add(F),await Vt(qe,_t,!1,{preventScrollReset:Re});return}if(er(_t)){S(F,G,_t.error);return}wt(F,eo(_t.data))}}async function Vt(F,G,J,{submission:he,fetcherSubmission:we,preventScrollReset:ke,replace:be}={}){G.response.headers.has("X-Remix-Revalidate")&&(ut=!0);let Re=G.response.headers.get("Location");lt(Re,"Expected a Location header on the redirect Response"),Re=iy(Re,new URL(F.url),f);let Se=el($.location,Re,{_isRedirect:!0});if(t){let _t=!1;if(G.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(yd.test(Re)){const nt=n.history.createURL(Re);_t=nt.origin!==e.location.origin||Dr(nt.pathname,f)==null}if(_t){be?e.location.replace(Re):e.location.assign(Re);return}}N=null;let Ee=be===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Be,formAction:qe,formEncType:St}=$.navigation;!he&&!we&&Be&&qe&&St&&(he=hy($.navigation));let It=he||we;if(oS.has(G.response.status)&&It&&kr(It.formMethod))await zt(Ee,Se,{submission:{...It,formAction:Re},preventScrollReset:ke||P,enableViewTransition:J?M:void 0});else{let _t=Sf(Se,he);await zt(Ee,Se,{overrideNavigation:_t,fetcherSubmission:we,preventScrollReset:ke||P,enableViewTransition:J?M:void 0})}}async function wn(F,G,J,he,we,ke){let be,Re={};try{be=await pS(p,F,G,J,he,we,ke,s,o)}catch(Se){return he.forEach(Ee=>{Re[Ee.route.id]={type:"error",error:Se}}),Re}for(let[Se,Ee]of Object.entries(be))if(wS(Ee)){let Be=Ee.result;Re[Se]={type:"redirect",response:yS(Be,J,Se,we,f)}}else Re[Se]=await gS(Ee);return Re}async function vr(F,G,J,he,we){let ke=wn("loader",F,we,J,G,null),be=Promise.all(he.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.controller){let qe=(await wn("loader",F,Ls(n.history,Ee.path,Ee.controller.signal),[Ee.match],Ee.matches,Ee.key))[Ee.match.route.id];return{[Ee.key]:qe}}else return Promise.resolve({[Ee.key]:{type:"error",error:gr(404,{pathname:Ee.path})}})})),Re=await ke,Se=(await be).reduce((Ee,Be)=>Object.assign(Ee,Be),{});return{loaderResults:Re,fetcherResults:Se}}function nn(){ut=!0,z.forEach((F,G)=>{Ke.has(G)&&Ge.add(G),B(G)})}function wt(F,G,J={}){$.fetchers.set(F,G),tt({fetchers:new Map($.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function S(F,G,J,he={}){let we=Mo($.matches,G);_(F),tt({errors:{[we.route.id]:J},fetchers:new Map($.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function v(F){return se.set(F,(se.get(F)||0)+1),Te.has(F)&&Te.delete(F),$.fetchers.get(F)||sS}function _(F){let G=$.fetchers.get(F);Ke.has(F)&&!(G&&G.state==="loading"&&Ne.has(F))&&B(F),z.delete(F),Ne.delete(F),_e.delete(F),Te.delete(F),Ge.delete(F),$.fetchers.delete(F)}function k(F){let G=(se.get(F)||0)-1;G<=0?(se.delete(F),Te.add(F)):se.set(F,G),tt({fetchers:new Map($.fetchers)})}function B(F){let G=Ke.get(F);G&&(G.abort(),Ke.delete(F))}function te(F){for(let G of F){let J=v(G),he=eo(J.data);$.fetchers.set(G,he)}}function ae(){let F=[],G=!1;for(let J of _e){let he=$.fetchers.get(J);lt(he,`Expected fetcher: ${J}`),he.state==="loading"&&(_e.delete(J),F.push(J),G=!0)}return te(F),G}function $e(F){let G=[];for(let[J,he]of Ne)if(he<F){let we=$.fetchers.get(J);lt(we,`Expected fetcher: ${J}`),we.state==="loading"&&(B(J),Ne.delete(J),G.push(J))}return te(G),G.length>0}function Et(F,G){let J=$.blockers.get(F)||ja;return Fe.get(F)!==G&&Fe.set(F,G),J}function pt(F){$.blockers.delete(F),Fe.delete(F)}function mt(F,G){let J=$.blockers.get(F)||ja;lt(J.state==="unblocked"&&G.state==="blocked"||J.state==="blocked"&&G.state==="blocked"||J.state==="blocked"&&G.state==="proceeding"||J.state==="blocked"&&G.state==="unblocked"||J.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${G.state}`);let he=new Map($.blockers);he.set(F,G),tt({blockers:he})}function Ze({currentLocation:F,nextLocation:G,historyAction:J}){if(Fe.size===0)return;Fe.size>1&&un(!1,"A router only supports one blocker at a time");let he=Array.from(Fe.entries()),[we,ke]=he[he.length-1],be=$.blockers.get(we);if(!(be&&be.state==="proceeding")&&ke({currentLocation:F,nextLocation:G,historyAction:J}))return we}function Mr(F){let G=gr(404,{pathname:F}),J=c||l,{matches:he,route:we}=uy(J);return{notFoundMatches:he,route:we,error:G}}function ki(F,G,J){if(R=F,O=G,C=J||null,!D&&$.navigation===Tf){D=!0;let he=ai($.location,$.matches);he!=null&&tt({restoreScrollPosition:he})}return()=>{R=null,O=null,C=null}}function Nn(F,G){return C&&C(F,G.map(he=>M1(he,$.loaderData)))||F.key}function ir(F,G){if(R&&O){let J=Nn(F,G);R[J]=O()}}function ai(F,G){if(R){let J=Nn(F,G),he=R[J];if(typeof he=="number")return he}return null}function Dn(F,G,J){if(m)if(F){if(Object.keys(F[0].params).length>0)return{active:!0,matches:$u(G,J,f,!0)}}else return{active:!0,matches:$u(G,J,f,!0)||[]};return{active:!1,matches:null}}async function Fr(F,G,J){if(!m)return{type:"success",matches:F};let he=F;for(;;){let we=c==null,ke=c||l,be=s;try{await m({path:G,matches:he,patch:(Ee,Be)=>{J.aborted||ry(Ee,Be,ke,be,o)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:he}}finally{we&&!J.aborted&&(l=[...l])}if(J.aborted)return{type:"aborted"};let Re=to(ke,G,f);if(Re)return{type:"success",matches:Re};let Se=$u(ke,G,f,!0);if(!Se||he.length===Se.length&&he.every((Ee,Be)=>Ee.route.id===Se[Be].route.id))return{type:"success",matches:null};he=Se}}function li(F){s={},c=ec(F,o,void 0,s)}function go(F,G){let J=c==null;ry(F,G,c||l,s,o),J&&(l=[...l],tt({}))}return ce={get basename(){return f},get future(){return w},get state(){return $},get routes(){return l},get window(){return e},initialize:rt,subscribe:yt,enableScrollRestoration:ki,navigate:nr,fetch:Or,revalidate:cn,createHref:F=>n.history.createHref(F),encodeLocation:F=>n.history.encodeLocation(F),getFetcher:v,deleteFetcher:k,dispose:Xe,getBlocker:Et,deleteBlocker:pt,patchRoutes:go,_internalFetchControllers:Ke,_internalSetRoutes:li},ce}function uS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Uf(n,e,t,o,s,l){let c,f;if(s){c=[];for(let m of e)if(c.push(m),m.route.id===s){f=m;break}}else c=e,f=e[e.length-1];let p=gd(o||".",md(c),Dr(n.pathname,t)||n.pathname,l==="path");if(o==null&&(p.search=n.search,p.hash=n.hash),(o==null||o===""||o===".")&&f){let m=vd(p.search);if(f.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let w=new URLSearchParams(p.search),I=w.getAll("index");w.delete("index"),I.filter(R=>R).forEach(R=>w.append("index",R));let A=w.toString();p.search=A?`?${A}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Jr([t,p.pathname])),ao(p)}function Zg(n,e,t){if(!t||!uS(t))return{path:e};if(t.formMethod&&!ES(t.formMethod))return{path:e,error:gr(405,{method:t.formMethod})};let o=()=>({path:e,error:gr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=a0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!kr(l))return o();let I=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[R,C])=>`${A}${R}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:I}}}else if(t.formEncType==="application/json"){if(!kr(l))return o();try{let I=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:I,text:void 0}}}catch{return o()}}}lt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=jf(t.formData),p=t.formData;else if(t.body instanceof FormData)f=jf(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=oy(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=oy(f)}catch{return o()}let m={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(kr(m.formMethod))return{path:e,submission:m};let w=Ci(e);return n&&w.search&&vd(w.search)&&f.append("index",""),w.search=`?${f}`,{path:ao(w),submission:m}}function ey(n,e,t=!1){let o=n.findIndex(s=>s.route.id===e);return o>=0?n.slice(0,t?o+1:o):n}function ty(n,e,t,o,s,l,c,f,p,m,w,I,A,R){let C=R?er(R[1])?R[1].error:R[1].data:void 0,O=n.createURL(e.location),D=n.createURL(s),W=t;l&&e.errors?W=ey(t,Object.keys(e.errors)[0],!0):R&&er(R[1])&&(W=ey(t,R[0]));let Z=R?R[1].statusCode:void 0,ie=Z&&Z>=400,pe=W.filter(($,b)=>{let{route:P}=$;if(P.lazy)return!0;if(P.loader==null)return!1;if(l)return Bf(P,e.loaderData,e.errors);if(cS(e.loaderData,e.matches[b],$))return!0;let N=e.matches[b],M=$;return ny($,{currentUrl:O,currentParams:N.params,nextUrl:D,nextParams:M.params,...o,actionResult:C,actionStatus:Z,defaultShouldRevalidate:ie?!1:c||O.pathname+O.search===D.pathname+D.search||O.search!==D.search||hS(N,M)})}),ce=[];return m.forEach(($,b)=>{if(l||!t.some(Q=>Q.route.id===$.routeId)||p.has(b))return;let P=to(I,$.path,A);if(!P){ce.push({key:b,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(b),M=Ha(P,$.path),j=!1;w.has(b)?j=!1:f.has(b)?(f.delete(b),j=!0):N&&N.state!=="idle"&&N.data===void 0?j=c:j=ny(M,{currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...o,actionResult:C,actionStatus:Z,defaultShouldRevalidate:ie?!1:c}),j&&ce.push({key:b,routeId:$.routeId,path:$.path,matches:P,match:M,controller:new AbortController})}),[pe,ce]}function Bf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let o=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!o&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!o&&!s}function cS(n,e,t){let o=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return o||s}function hS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ny(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function ry(n,e,t,o,s){let l;if(n){let p=o[n];lt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(m=>s0(p,m))),f=ec(c,s,[n||"_","patch",String((l==null?void 0:l.length)||"0")],o);l.push(...f)}function s0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,o)=>{var s;return(s=e.children)==null?void 0:s.some(l=>s0(t,l))}):!1}async function fS(n,e,t){if(!n.lazy)return;let o=await n.lazy();if(!n.lazy)return;let s=t[n.id];lt(s,"No route found in manifest");let l={};for(let c in o){let p=s[c]!==void 0&&c!=="hasErrorBoundary";un(!p,`Route "${s.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!b1.has(c)&&(l[c]=o[c])}Object.assign(s,l),Object.assign(s,{...e(s),lazy:void 0})}async function dS({matches:n}){let e=n.filter(o=>o.shouldLoad);return(await Promise.all(e.map(o=>o.resolve()))).reduce((o,s,l)=>Object.assign(o,{[e[l].route.id]:s}),{})}async function pS(n,e,t,o,s,l,c,f,p,m){let w=l.map(R=>R.route.lazy?fS(R.route,p,f):void 0),I=l.map((R,C)=>{let O=w[C],D=s.some(Z=>Z.route.id===R.route.id);return{...R,shouldLoad:D,resolve:async Z=>(Z&&o.method==="GET"&&(R.route.lazy||R.route.loader)&&(D=!0),D?mS(e,o,R,O,Z,m):Promise.resolve({type:"data",result:void 0}))}}),A=await n({matches:I,request:o,params:l[0].params,fetcherKey:c,context:m});try{await Promise.all(w)}catch{}return A}async function mS(n,e,t,o,s,l){let c,f,p=m=>{let w,I=new Promise((C,O)=>w=O);f=()=>w(),e.signal.addEventListener("abort",f);let A=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:l},...C!==void 0?[C]:[]),R=(async()=>{try{return{type:"data",result:await(s?s(O=>A(O)):A())}}catch(C){return{type:"error",result:C}}})();return Promise.race([R,I])};try{let m=t.route[n];if(o)if(m){let w,[I]=await Promise.all([p(m).catch(A=>{w=A}),o]);if(w!==void 0)throw w;c=I}else if(await o,m=t.route[n],m)c=await p(m);else if(n==="action"){let w=new URL(e.url),I=w.pathname+w.search;throw gr(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0};else if(m)c=await p(m);else{let w=new URL(e.url),I=w.pathname+w.search;throw gr(404,{pathname:I})}}catch(m){return{type:"error",result:m}}finally{f&&e.signal.removeEventListener("abort",f)}return c}async function gS(n){var o,s,l,c,f,p;let{result:e,type:t}=n;if(l0(e)){let m;try{let w=e.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(w){return{type:"error",error:w}}return t==="error"?{type:"error",error:new nc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?cy(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new nc(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:tl(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:tl(e)?e.status:void 0}:cy(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function yS(n,e,t,o,s){let l=n.headers.get("Location");if(lt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!yd.test(l)){let c=o.slice(0,o.findIndex(f=>f.route.id===t)+1);l=Uf(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function iy(n,e,t){if(yd.test(n)){let o=n,s=o.startsWith("//")?new URL(e.protocol+o):new URL(o),l=Dr(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Ls(n,e,t,o){let s=n.createURL(a0(e)).toString(),l={signal:t};if(o&&kr(o.formMethod)){let{formMethod:c,formEncType:f}=o;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(o.json)):f==="text/plain"?l.body=o.text:f==="application/x-www-form-urlencoded"&&o.formData?l.body=jf(o.formData):l.body=o.formData}return new Request(s,l)}function jf(n){let e=new URLSearchParams;for(let[t,o]of n.entries())e.append(t,typeof o=="string"?o:o.name);return e}function oy(n){let e=new FormData;for(let[t,o]of n.entries())e.append(t,o);return e}function vS(n,e,t,o=!1,s=!1){let l={},c=null,f,p=!1,m={},w=t&&er(t[1])?t[1].error:void 0;return n.forEach(I=>{if(!(I.route.id in e))return;let A=I.route.id,R=e[A];if(lt(!Uo(R),"Cannot handle redirect results in processLoaderData"),er(R)){let C=R.error;if(w!==void 0&&(C=w,w=void 0),c=c||{},s)c[A]=C;else{let O=Mo(n,A);c[O.route.id]==null&&(c[O.route.id]=C)}o||(l[A]=o0),p||(p=!0,f=tl(R.error)?R.error.status:500),R.headers&&(m[A]=R.headers)}else l[A]=R.data,R.statusCode&&R.statusCode!==200&&!p&&(f=R.statusCode),R.headers&&(m[A]=R.headers)}),w!==void 0&&t&&(c={[t[0]]:w},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:m}}function sy(n,e,t,o,s,l){let{loaderData:c,errors:f}=vS(e,t,o);return s.forEach(p=>{let{key:m,match:w,controller:I}=p,A=l[m];if(lt(A,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(er(A)){let R=Mo(n.matches,w==null?void 0:w.route.id);f&&f[R.route.id]||(f={...f,[R.route.id]:A.error}),n.fetchers.delete(m)}else if(Uo(A))lt(!1,"Unhandled fetcher revalidation redirect");else{let R=eo(A.data);n.fetchers.set(m,R)}}),{loaderData:c,errors:f}}function ay(n,e,t,o){let s=Object.entries(e).filter(([,l])=>l!==o0).reduce((l,[c,f])=>(l[c]=f,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),o&&o.hasOwnProperty(c))break}return s}function ly(n){return n?er(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Mo(n,e){return(e?n.slice(0,n.findIndex(o=>o.route.id===e)+1):[...n]).reverse().find(o=>o.route.hasErrorBoundary===!0)||n[0]}function uy(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(n,{pathname:e,routeId:t,method:o,type:s,message:l}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",o&&e&&t?f=`You made a ${o} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",f=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",o&&e&&t?f=`You made a ${o.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:o&&(f=`Invalid request method "${o.toUpperCase()}"`)),new nc(n||500,c,new Error(f),!0)}function Lu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[o,s]=e[t];if(Uo(s))return{key:o,result:s}}}function a0(n){let e=typeof n=="string"?Ci(n):n;return ao({...e,hash:""})}function _S(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function wS(n){return l0(n.result)&&iS.has(n.result.status)}function er(n){return n.type==="error"}function Uo(n){return(n&&n.type)==="redirect"}function cy(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function l0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function ES(n){return rS.has(n.toUpperCase())}function kr(n){return tS.has(n.toUpperCase())}function vd(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ha(n,e){let t=typeof e=="string"?Ci(e).search:e.search;if(n[n.length-1].route.index&&vd(t||""))return n[n.length-1];let o=n0(n);return o[o.length-1]}function hy(n){let{formMethod:e,formAction:t,formEncType:o,text:s,formData:l,json:c}=n;if(!(!e||!t||!o)){if(s!=null)return{formMethod:e,formAction:t,formEncType:o,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:o,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:o,formData:void 0,json:c,text:void 0}}}function Sf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TS(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function za(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function eo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function IS(n,e){try{let t=n.sessionStorage.getItem(i0);if(t){let o=JSON.parse(t);for(let[s,l]of Object.entries(o||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function RS(n,e){if(e.size>0){let t={};for(let[o,s]of e)t[o]=[...s];try{n.sessionStorage.setItem(i0,JSON.stringify(t))}catch(o){un(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function AS(){let n,e,t=new Promise((o,s)=>{n=async l=>{o(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Wo=q.createContext(null);Wo.displayName="DataRouter";var pl=q.createContext(null);pl.displayName="DataRouterState";var _d=q.createContext({isTransitioning:!1});_d.displayName="ViewTransition";var u0=q.createContext(new Map);u0.displayName="Fetchers";var xS=q.createContext(null);xS.displayName="Await";var ii=q.createContext(null);ii.displayName="Navigation";var Ic=q.createContext(null);Ic.displayName="Location";var oi=q.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var wd=q.createContext(null);wd.displayName="RouteError";function CS(n,{relative:e}={}){lt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:o}=q.useContext(ii),{hash:s,pathname:l,search:c}=gl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Jr([t,l])),o.createHref({pathname:f,search:c,hash:s})}function ml(){return q.useContext(Ic)!=null}function Ko(){return lt(ml(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ic).location}var c0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h0(n){q.useContext(ii).static||q.useLayoutEffect(n)}function Js(){let{isDataRoute:n}=q.useContext(oi);return n?jS():PS()}function PS(){lt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Wo),{basename:e,navigator:t}=q.useContext(ii),{matches:o}=q.useContext(oi),{pathname:s}=Ko(),l=JSON.stringify(md(o)),c=q.useRef(!1);return h0(()=>{c.current=!0}),q.useCallback((p,m={})=>{if(un(c.current,c0),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=gd(p,JSON.parse(l),s,m.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Jr([e,w.pathname])),(m.replace?t.replace:t.push)(w,m.state,m)},[e,t,l,s,n])}var kS=q.createContext(null);function NS(n){let e=q.useContext(oi).outlet;return e&&q.createElement(kS.Provider,{value:n},e)}function gl(n,{relative:e}={}){let{matches:t}=q.useContext(oi),{pathname:o}=Ko(),s=JSON.stringify(md(t));return q.useMemo(()=>gd(n,JSON.parse(s),o,e==="path"),[n,s,o,e])}function DS(n,e,t,o){lt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=q.useContext(ii),{matches:c}=q.useContext(oi),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",w=f?f.pathnameBase:"/",I=f&&f.route;{let Z=I&&I.path||"";p0(m,!I||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=Ko(),R;R=A;let C=R.pathname||"/",O=C;if(w!=="/"){let Z=w.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(Z.length).join("/")}let D=!l&&t&&t.matches&&t.matches.length>0?t.matches:to(n,{pathname:O});return un(I||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),un(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MS(D&&D.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Jr([w,s.encodeLocation?s.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?w:Jr([w,s.encodeLocation?s.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,t,o)}function LS(){let n=d0(),e=tl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,c)}var VS=q.createElement(LS,null),bS=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(oi.Provider,{value:this.props.routeContext},q.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OS({routeContext:n,match:e,children:t}){let o=q.useContext(Wo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(oi.Provider,{value:n},t)}function MS(n,e=[],t=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:w,errors:I}=t,A=m.route.loader&&!w.hasOwnProperty(m.route.id)&&(!I||I[m.route.id]===void 0);if(m.route.lazy||A){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,w)=>{let I,A=!1,R=null,C=null;t&&(I=l&&m.route.id?l[m.route.id]:void 0,R=m.route.errorElement||VS,c&&(f<0&&w===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):f===w&&(A=!0,C=m.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,w+1)),D=()=>{let W;return I?W=R:A?W=C:m.route.Component?W=q.createElement(m.route.Component,null):m.route.element?W=m.route.element:W=p,q.createElement(OS,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:W})};return t&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?q.createElement(bS,{location:t.location,revalidation:t.revalidation,component:R,error:I,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function Ed(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(n){let e=q.useContext(Wo);return lt(e,Ed(n)),e}function f0(n){let e=q.useContext(pl);return lt(e,Ed(n)),e}function US(n){let e=q.useContext(oi);return lt(e,Ed(n)),e}function Rc(n){let e=US(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BS(){return Rc("useRouteId")}function Td(){let n=f0("useLoaderData"),e=Rc("useLoaderData");return n.loaderData[e]}function d0(){var o;let n=q.useContext(wd),e=f0("useRouteError"),t=Rc("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[t]}function jS(){let{router:n}=FS("useNavigate"),e=Rc("useNavigate"),t=q.useRef(!1);return h0(()=>{t.current=!0}),q.useCallback(async(s,l={})=>{un(t.current,c0),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var fy={};function p0(n,e,t){!e&&!fy[n]&&(fy[n]=!0,un(!1,t))}var dy={};function py(n,e){!n&&!dy[e]&&(dy[e]=!0,console.warn(e))}function zS(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var $S=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",t(o))}})}};function HS({router:n,flushSync:e}){let[t,o]=q.useState(n.state),[s,l]=q.useState(),[c,f]=q.useState({isTransitioning:!1}),[p,m]=q.useState(),[w,I]=q.useState(),[A,R]=q.useState(),C=q.useRef(new Map),O=q.useCallback((ie,{deletedFetchers:pe,flushSync:ce,viewTransitionOpts:$})=>{ie.fetchers.forEach((P,N)=>{P.data!==void 0&&C.current.set(N,P.data)}),pe.forEach(P=>C.current.delete(P)),py(ce===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let b=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(py($==null||b,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!b){e&&ce?e(()=>o(ie)):q.startTransition(()=>o(ie));return}if(e&&ce){e(()=>{w&&(p&&p.resolve(),w.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let P=n.window.document.startViewTransition(()=>{e(()=>o(ie))});P.finished.finally(()=>{e(()=>{m(void 0),I(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>I(P));return}w?(p&&p.resolve(),w.skipTransition(),R({state:ie,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(l(ie),f({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,e,w,p]);q.useLayoutEffect(()=>n.subscribe(O),[n,O]),q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new $S)},[c]),q.useEffect(()=>{if(p&&s&&n.window){let ie=s,pe=p.promise,ce=n.window.document.startViewTransition(async()=>{q.startTransition(()=>o(ie)),await pe});ce.finished.finally(()=>{m(void 0),I(void 0),l(void 0),f({isTransitioning:!1})}),I(ce)}},[s,p,n.window]),q.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,w,t.location,s]),q.useEffect(()=>{!c.isTransitioning&&A&&(l(A.state),f({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),R(void 0))},[c.isTransitioning,A]);let D=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ie=>n.navigate(ie),push:(ie,pe,ce)=>n.navigate(ie,{state:pe,preventScrollReset:ce==null?void 0:ce.preventScrollReset}),replace:(ie,pe,ce)=>n.navigate(ie,{replace:!0,state:pe,preventScrollReset:ce==null?void 0:ce.preventScrollReset})}),[n]),W=n.basename||"/",Z=q.useMemo(()=>({router:n,navigator:D,static:!1,basename:W}),[n,D,W]);return q.createElement(q.Fragment,null,q.createElement(Wo.Provider,{value:Z},q.createElement(pl.Provider,{value:t},q.createElement(u0.Provider,{value:C.current},q.createElement(_d.Provider,{value:c},q.createElement(QS,{basename:W,location:t.location,navigationType:t.historyAction,navigator:D},q.createElement(qS,{routes:n.routes,future:n.future,state:t})))))),null)}var qS=q.memo(WS);function WS({routes:n,future:e,state:t}){return DS(n,void 0,t,e)}function KS(n){return NS(n.context)}function QS({basename:n="/",children:e=null,location:t,navigationType:o="POP",navigator:s,static:l=!1}){lt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Ci(t));let{pathname:p="/",search:m="",hash:w="",state:I=null,key:A="default"}=t,R=q.useMemo(()=>{let C=Dr(p,c);return C==null?null:{location:{pathname:C,search:m,hash:w,state:I,key:A},navigationType:o}},[c,p,m,w,I,A,o]);return un(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${w}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:q.createElement(ii.Provider,{value:f},q.createElement(Ic.Provider,{children:e,value:R}))}var Hu="get",qu="application/x-www-form-urlencoded";function Ac(n){return n!=null&&typeof n.tagName=="string"}function GS(n){return Ac(n)&&n.tagName.toLowerCase()==="button"}function YS(n){return Ac(n)&&n.tagName.toLowerCase()==="form"}function XS(n){return Ac(n)&&n.tagName.toLowerCase()==="input"}function JS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZS(n,e){return n.button===0&&(!e||e==="_self")&&!JS(n)}var Vu=null;function eI(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(n){return n!=null&&!tI.has(n)?(un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):n}function nI(n,e){let t,o,s,l,c;if(YS(n)){let f=n.getAttribute("action");o=f?Dr(f,e):null,t=n.getAttribute("method")||Hu,s=If(n.getAttribute("enctype"))||qu,l=new FormData(n)}else if(GS(n)||XS(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(o=p?Dr(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Hu,s=If(n.getAttribute("formenctype"))||If(f.getAttribute("enctype"))||qu,l=new FormData(f,n),!eI()){let{name:m,type:w,value:I}=n;if(w==="image"){let A=m?`${m}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else m&&l.append(m,I)}}else{if(Ac(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hu,o=null,s=qu,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:o,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Sd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oI(n,e,t){let o=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await rI(l,t);return c.links?c.links():[]}return[]}));return uI(o.flat(1).filter(iI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function my(n,e,t,o,s,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>{var w;return t[m].pathname!==p.pathname||((w=t[m].route.path)==null?void 0:w.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var I;let w=o.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function sI(n,e){return aI(n.map(t=>{let o=e.routes[t.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function aI(n){return[...new Set(n)]}function lI(n){let e={},t=Object.keys(n).sort();for(let o of t)e[o]=n[o];return e}function uI(n,e){let t=new Set;return new Set(e),n.reduce((o,s)=>{let l=JSON.stringify(lI(s));return t.has(l)||(t.add(l),o.push({key:l,link:s})),o},[])}function cI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hI(){let n=q.useContext(Wo);return Sd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fI(){let n=q.useContext(pl);return Sd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Id=q.createContext(void 0);Id.displayName="FrameworkContext";function m0(){let n=q.useContext(Id);return Sd(n,"You must render this element inside a <HydratedRouter> element"),n}function dI(n,e){let t=q.useContext(Id),[o,s]=q.useState(!1),[l,c]=q.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:w,onTouchStart:I}=e,A=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=W=>{W.forEach(Z=>{c(Z.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return A.current&&D.observe(A.current),()=>{D.disconnect()}}},[n]),q.useEffect(()=>{if(o){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[o]);let R=()=>{s(!0)},C=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:$a(f,R),onBlur:$a(p,C),onMouseEnter:$a(m,R),onMouseLeave:$a(w,C),onTouchStart:$a(I,R)}]:[!1,A,{}]}function $a(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pI({page:n,...e}){let{router:t}=hI(),o=q.useMemo(()=>to(t.routes,n,t.basename),[t.routes,n,t.basename]);return o?q.createElement(gI,{page:n,matches:o,...e}):null}function mI(n){let{manifest:e,routeModules:t}=m0(),[o,s]=q.useState([]);return q.useEffect(()=>{let l=!1;return oI(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),o}function gI({page:n,matches:e,...t}){let o=Ko(),{manifest:s,routeModules:l}=m0(),{loaderData:c,matches:f}=fI(),p=q.useMemo(()=>my(n,e,f,s,o,"data"),[n,e,f,s,o]),m=q.useMemo(()=>my(n,e,f,s,o,"assets"),[n,e,f,s,o]),w=q.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let R=new Set,C=!1;if(e.forEach(D=>{var Z;let W=s.routes[D.route.id];!W||!W.hasLoader||(!p.some(ie=>ie.route.id===D.route.id)&&D.route.id in c&&((Z=l[D.route.id])!=null&&Z.shouldRevalidate)||W.hasClientLoader?C=!0:R.add(D.route.id))}),R.size===0)return[];let O=cI(n);return C&&R.size>0&&O.searchParams.set("_routes",e.filter(D=>R.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[c,o,s,p,e,n,l]),I=q.useMemo(()=>sI(m,s),[m,s]),A=mI(m);return q.createElement(q.Fragment,null,w.map(R=>q.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),I.map(R=>q.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),A.map(({key:R,link:C})=>q.createElement("link",{key:R,...C})))}function yI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var g0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g0&&(window.__reactRouterVersion="7.1.5")}catch{}function vI(n,e){return lS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:D1({window:e==null?void 0:e.window}),hydrationData:_I(),routes:n,mapRouteProperties:zS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _I(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:wI(n.errors)}),n}function wI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[o,s]of e)if(s&&s.__type==="RouteErrorResponse")t[o]=new nc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[o]=c}catch{}}if(t[o]==null){let l=new Error(s.message);l.stack="",t[o]=l}}else t[o]=s;return t}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v0=q.forwardRef(function({onClick:e,discover:t="render",prefetch:o="none",relative:s,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:w,viewTransition:I,...A},R){let{basename:C}=q.useContext(ii),O=typeof m=="string"&&y0.test(m),D,W=!1;if(typeof m=="string"&&O&&(D=m,g0))try{let N=new URL(window.location.href),M=m.startsWith("//")?new URL(N.protocol+m):new URL(m),j=Dr(M.pathname,C);M.origin===N.origin&&j!=null?m=j+M.search+M.hash:W=!0}catch{un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=CS(m,{relative:s}),[ie,pe,ce]=dI(o,A),$=II(m,{replace:c,state:f,target:p,preventScrollReset:w,relative:s,viewTransition:I});function b(N){e&&e(N),N.defaultPrevented||$(N)}let P=q.createElement("a",{...A,...ce,href:D||Z,onClick:W||l?e:b,ref:yI(R,pe),target:p,"data-discover":!O&&t==="render"?"true":void 0});return ie&&!O?q.createElement(q.Fragment,null,P,q.createElement(pI,{page:Z})):P});v0.displayName="Link";var EI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:f,children:p,...m},w){let I=gl(c,{relative:m.relative}),A=Ko(),R=q.useContext(pl),{navigator:C,basename:O}=q.useContext(ii),D=R!=null&&PI(I)&&f===!0,W=C.encodeLocation?C.encodeLocation(I).pathname:I.pathname,Z=A.pathname,ie=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),ie=ie?ie.toLowerCase():null,W=W.toLowerCase()),ie&&O&&(ie=Dr(ie,O)||ie);const pe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ce=Z===W||!s&&Z.startsWith(W)&&Z.charAt(pe)==="/",$=ie!=null&&(ie===W||!s&&ie.startsWith(W)&&ie.charAt(W.length)==="/"),b={isActive:ce,isPending:$,isTransitioning:D},P=ce?e:void 0,N;typeof o=="function"?N=o(b):N=[o,ce?"active":null,$?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(b):l;return q.createElement(v0,{...m,"aria-current":P,className:N,ref:w,style:M,to:c,viewTransition:f},typeof p=="function"?p(b):p)});EI.displayName="NavLink";var TI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:o,replace:s,state:l,method:c=Hu,action:f,onSubmit:p,relative:m,preventScrollReset:w,viewTransition:I,...A},R)=>{let C=xI(),O=CI(f,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&y0.test(f),Z=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,ce=(pe==null?void 0:pe.getAttribute("formmethod"))||c;C(pe||ie.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:s,state:l,relative:m,preventScrollReset:w,viewTransition:I})};return q.createElement("form",{ref:R,method:D,action:O,onSubmit:o?p:Z,...A,"data-discover":!W&&n==="render"?"true":void 0})});TI.displayName="Form";function SI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _0(n){let e=q.useContext(Wo);return lt(e,SI(n)),e}function II(n,{target:e,replace:t,state:o,preventScrollReset:s,relative:l,viewTransition:c}={}){let f=Js(),p=Ko(),m=gl(n,{relative:l});return q.useCallback(w=>{if(ZS(w,e)){w.preventDefault();let I=t!==void 0?t:ao(p)===ao(m);f(n,{replace:I,state:o,preventScrollReset:s,relative:l,viewTransition:c})}},[p,f,m,t,o,e,n,s,l,c])}var RI=0,AI=()=>`__${String(++RI)}__`;function xI(){let{router:n}=_0("useSubmit"),{basename:e}=q.useContext(ii),t=BS();return q.useCallback(async(o,s={})=>{let{action:l,method:c,encType:f,formData:p,body:m}=nI(o,e);if(s.navigate===!1){let w=s.fetcherKey||AI();await n.fetch(w,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function CI(n,{relative:e}={}){let{basename:t}=q.useContext(ii),o=q.useContext(oi);lt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...gl(n||".",{relative:e})},c=Ko();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let w=f.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Jr([t,l.pathname])),ao(l)}function PI(n,e={}){let t=q.useContext(_d);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=_0("useViewTransitionState"),s=gl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Dr(t.currentLocation.pathname,o)||t.currentLocation.pathname,c=Dr(t.nextLocation.pathname,o)||t.nextLocation.pathname;return tc(s.pathname,c)!=null||tc(s.pathname,l)!=null}new TextEncoder;var Rd=Rv();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kI(n){return q.createElement(HS,{flushSync:Rd.flushSync,...n})}function NI(){const n=Js();return K.jsxs("div",{className:"flex flex-row justify-between gap-8 p-4 mb-8 bg-white items-center",children:[K.jsx("button",{className:"full-btn-tan",onClick:()=>n("/recipes"),children:"Recipes"}),K.jsx(QP,{}),K.jsx(LE,{})]})}function w0(n){var l,c;const{recipe:e}=n,t=Js(),o=(e==null?void 0:e.image)!=""&&((l=e.image)==null?void 0:l.split("upload/")),s=()=>{var f;t(`/recipes/${(f=e.metadata)==null?void 0:f.id}`)};return K.jsxs("div",{className:"flex flex-col shadow rounded-md p-3 bg-white hover:animate-wiggle hover:shadow-tan-1 hover:shadow-md hover:cursor-pointer",onClick:s,children:[K.jsx("h2",{className:"text-center line-clamp-1",children:(e==null?void 0:e.name)||""}),o&&K.jsx("img",{className:"",src:`${o[0]}upload/ar_1.0,c_fill/${o[1]}`}),!o&&K.jsx("div",{children:K.jsx(Zv,{style:"text-dark-gray/50"})}),K.jsx("div",{className:"flex flex-row flex-wrap",children:K.jsx(dl,{tags:e.tags})})]},`card-${(c=e==null?void 0:e.metadata)==null?void 0:c.id}`)}var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(n){const e=[];let t=0;for(let o=0;o<n.length;o++){let s=n.charCodeAt(o);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++o)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},DI=function(n){const e=[];let t=0,o=0;for(;t<n.length;){const s=n[t++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],f=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(p>>10)),e[o++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,f=c?n[s+1]:0,p=s+2<n.length,m=p?n[s+2]:0,w=l>>2,I=(l&3)<<4|f>>4;let A=(f&15)<<2|m>>6,R=m&63;p||(R=64,c||(A=64)),o.push(t[w],t[I],t[A],t[R])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(E0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const I=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||f==null||m==null||I==null)throw new LI;const A=l<<2|f>>4;if(o.push(A),m!==64){const R=f<<4&240|m>>2;if(o.push(R),I!==64){const C=m<<6&192|I;o.push(C)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(n){const e=E0(n);return T0.encodeByteArray(e,!0)},rc=function(n){return VI(n).replace(/\./g,"")},bI=function(n){try{return T0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=()=>OI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof gy>"u")return;const n=gy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bI(n[1]);return e&&JSON.parse(e)},Ad=()=>{try{return MI()||FI()||UI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BI=n=>{var e,t;return(t=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jI=n=>{const e=BI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),o]:[e.substring(0,t),o]},S0=()=>{var n;return(n=Ad())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},o=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rc(JSON.stringify(t)),rc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){var n;const e=(n=Ad())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){return!qI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KI(){try{return typeof indexedDB=="object"}catch{return!1}}function QI(){return new Promise((n,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(o),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="FirebaseError";class Zs extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=GI,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I0.prototype.create)}}class I0{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?YI(l,o):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new Zs(s,f,o)}}function YI(n,e){return n.replace(XI,(t,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const XI=/\{\$([^}]+)}/g;function zf(n,e){if(n===e)return!0;const t=Object.keys(n),o=Object.keys(e);for(const s of t){if(!o.includes(s))return!1;const l=n[s],c=e[s];if(yy(l)&&yy(c)){if(!zf(l,c))return!1}else if(l!==c)return!1}for(const s of o)if(!t.includes(s))return!1;return!0}function yy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n){return n&&n._delegate?n._delegate:n}class nl{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new zI;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);o===f&&c.resolve(s)}return s}onInit(e,t){var o;const s=this.normalizeInstanceIdentifier(t),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const s of o)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ZI(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZI(n){return n===Oo?void 0:n}function eR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const nR={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},rR=dt.INFO,iR={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},oR=(n,e,...t)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),s=iR[e];if(s)console[s](`[${o}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R0{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const sR=(n,e)=>e.some(t=>n instanceof t);let vy,_y;function aR(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,$f=new WeakMap,x0=new WeakMap,Rf=new WeakMap,xd=new WeakMap;function uR(n){const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ro(n.result)),s()},c=()=>{o(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&A0.set(t,n)}).catch(()=>{}),xd.set(e,n),e}function cR(n){if($f.has(n))return;const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{o(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});$f.set(n,e)}let Hf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $f.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hR(n){Hf=n(Hf)}function fR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=n.call(Af(this),e,...t);return x0.set(o,e.sort?e.sort():[e]),ro(o)}:lR().includes(n)?function(...e){return n.apply(Af(this),e),ro(A0.get(this))}:function(...e){return ro(n.apply(Af(this),e))}}function dR(n){return typeof n=="function"?fR(n):(n instanceof IDBTransaction&&cR(n),sR(n,aR())?new Proxy(n,Hf):n)}function ro(n){if(n instanceof IDBRequest)return uR(n);if(Rf.has(n))return Rf.get(n);const e=dR(n);return e!==n&&(Rf.set(n,e),xd.set(e,n)),e}const Af=n=>xd.get(n);function pR(n,e,{blocked:t,upgrade:o,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),f=ro(c);return o&&c.addEventListener("upgradeneeded",p=>{o(ro(c.result),p.oldVersion,p.newVersion,ro(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const mR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],xf=new Map;function wy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,s=gR.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(s||mR.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return o&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),s&&p.done]))[0]};return xf.set(e,l),l}hR(n=>({...n,get:(e,t,o)=>wy(e,t)||n.get(e,t,o),has:(e,t)=>!!wy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vR(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function vR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",Ey="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new R0("@firebase/app"),_R="@firebase/app-compat",wR="@firebase/analytics-compat",ER="@firebase/analytics",TR="@firebase/app-check-compat",SR="@firebase/app-check",IR="@firebase/auth",RR="@firebase/auth-compat",AR="@firebase/database",xR="@firebase/data-connect",CR="@firebase/database-compat",PR="@firebase/functions",kR="@firebase/functions-compat",NR="@firebase/installations",DR="@firebase/installations-compat",LR="@firebase/messaging",VR="@firebase/messaging-compat",bR="@firebase/performance",OR="@firebase/performance-compat",MR="@firebase/remote-config",FR="@firebase/remote-config-compat",UR="@firebase/storage",BR="@firebase/storage-compat",jR="@firebase/firestore",zR="@firebase/vertexai",$R="@firebase/firestore-compat",HR="firebase",qR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",WR={[qf]:"fire-core",[_R]:"fire-core-compat",[ER]:"fire-analytics",[wR]:"fire-analytics-compat",[SR]:"fire-app-check",[TR]:"fire-app-check-compat",[IR]:"fire-auth",[RR]:"fire-auth-compat",[AR]:"fire-rtdb",[xR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[PR]:"fire-fn",[kR]:"fire-fn-compat",[NR]:"fire-iid",[DR]:"fire-iid-compat",[LR]:"fire-fcm",[VR]:"fire-fcm-compat",[bR]:"fire-perf",[OR]:"fire-perf-compat",[MR]:"fire-rc",[FR]:"fire-rc-compat",[UR]:"fire-gcs",[BR]:"fire-gcs-compat",[jR]:"fire-fst",[$R]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[HR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,KR=new Map,Kf=new Map;function Ty(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oc(n){const e=n.name;if(Kf.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,n);for(const t of ic.values())Ty(t,n);for(const t of KR.values())Ty(t,n);return!0}function QR(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function GR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new I0("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=qR;function C0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw io.create("bad-app-name",{appName:String(s)});if(t||(t=S0()),!t)throw io.create("no-options");const l=ic.get(s);if(l){if(zf(t,l.options)&&zf(o,l.config))return l;throw io.create("duplicate-app",{appName:s})}const c=new tR(s);for(const p of Kf.values())c.addComponent(p);const f=new XR(t,o,c);return ic.set(s,f),f}function ZR(n=Wf){const e=ic.get(n);if(!e&&n===Wf&&S0())return C0();if(!e)throw io.create("no-app",{appName:n});return e}function Fs(n,e,t){var o;let s=(o=WR[n])!==null&&o!==void 0?o:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(f.join(" "));return}oc(new nl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebase-heartbeat-database",tA=1,rl="firebase-heartbeat-store";let Cf=null;function P0(){return Cf||(Cf=pR(eA,tA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw io.create("idb-open",{originalErrorMessage:n.message})})),Cf}async function nA(n){try{const t=(await P0()).transaction(rl),o=await t.objectStore(rl).get(k0(n));return await t.done,o}catch(e){if(e instanceof Zs)Ri.warn(e.message);else{const t=io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function Sy(n,e){try{const o=(await P0()).transaction(rl,"readwrite");await o.objectStore(rl).put(e,k0(n)),await o.done}catch(t){if(t instanceof Zs)Ri.warn(t.message);else{const o=io.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(o.message)}}}function k0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=1024,iA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aA(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Iy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>iA){const c=lA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Ri.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iy(),{heartbeatsToSend:o,unsentEntries:s}=sA(this._heartbeatsCache.heartbeats),l=rc(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ri.warn(t),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function sA(n,e=rA){const t=[];let o=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Ry(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ry(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KI()?QI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ry(n){return rc(JSON.stringify({version:2,heartbeats:n})).length}function lA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let o=1;o<n.length;o++)n[o].date<t&&(t=n[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){oc(new nl("platform-logger",e=>new yR(e),"PRIVATE")),oc(new nl("heartbeat",e=>new oA(e),"PRIVATE")),Fs(qf,Ey,n),Fs(qf,Ey,"esm2017"),Fs("fire-js","")}uA("");var cA="firebase",hA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(cA,hA,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,N0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,P){function N(){}N.prototype=P.prototype,b.D=P.prototype,b.prototype=new N,b.prototype.constructor=b,b.C=function(M,j,Q){for(var V=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)V[ut-2]=arguments[ut];return P.prototype[j].apply(M,V)}}function t(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,t),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,P,N){N||(N=0);var M=Array(16);if(typeof P=="string")for(var j=0;16>j;++j)M[j]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(j=0;16>j;++j)M[j]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=b.g[0],N=b.g[1],j=b.g[2];var Q=b.g[3],V=P+(Q^N&(j^Q))+M[0]+3614090360&4294967295;P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[1]+3905402710&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[2]+606105819&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[3]+3250441966&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(Q^N&(j^Q))+M[4]+4118548399&4294967295,P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[5]+1200080426&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[6]+2821735955&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[7]+4249261313&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(Q^N&(j^Q))+M[8]+1770035416&4294967295,P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[9]+2336552879&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[10]+4294925233&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[11]+2304563134&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(Q^N&(j^Q))+M[12]+1804603682&4294967295,P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[13]+4254626195&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[14]+2792965006&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[15]+1236535329&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(j^Q&(N^j))+M[1]+4129170786&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[6]+3225465664&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[11]+643717713&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[0]+3921069994&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^Q&(N^j))+M[5]+3593408605&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[10]+38016083&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[15]+3634488961&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[4]+3889429448&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^Q&(N^j))+M[9]+568446438&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[14]+3275163606&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[3]+4107603335&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[8]+1163531501&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^Q&(N^j))+M[13]+2850285829&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[2]+4243563512&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[7]+1735328473&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[12]+2368359562&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(N^j^Q)+M[5]+4294588738&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[8]+2272392833&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[11]+1839030562&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[14]+4259657740&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^Q)+M[1]+2763975236&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[4]+1272893353&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[7]+4139469664&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[10]+3200236656&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^Q)+M[13]+681279174&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[0]+3936430074&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[3]+3572445317&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[6]+76029189&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^Q)+M[9]+3654602809&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[12]+3873151461&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[15]+530742520&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[2]+3299628645&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(j^(N|~Q))+M[0]+4096336452&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[7]+1126891415&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[14]+2878612391&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[5]+4237533241&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~Q))+M[12]+1700485571&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[3]+2399980690&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[10]+4293915773&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[1]+2240044497&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~Q))+M[8]+1873313359&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[15]+4264355552&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[6]+2734768916&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[13]+1309151649&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~Q))+M[4]+4149444226&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[11]+3174756917&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[2]+718787259&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+P&4294967295,b.g[1]=b.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+Q&4294967295}o.prototype.u=function(b,P){P===void 0&&(P=b.length);for(var N=P-this.blockSize,M=this.B,j=this.h,Q=0;Q<P;){if(j==0)for(;Q<=N;)s(this,b,Q),Q+=this.blockSize;if(typeof b=="string"){for(;Q<P;)if(M[j++]=b.charCodeAt(Q++),j==this.blockSize){s(this,M),j=0;break}}else for(;Q<P;)if(M[j++]=b[Q++],j==this.blockSize){s(this,M),j=0;break}}this.h=j,this.o+=P},o.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var P=1;P<b.length-8;++P)b[P]=0;var N=8*this.o;for(P=b.length-8;P<b.length;++P)b[P]=N&255,N/=256;for(this.u(b),b=Array(16),P=N=0;4>P;++P)for(var M=0;32>M;M+=8)b[N++]=this.g[P]>>>M&255;return b};function l(b,P){var N=f;return Object.prototype.hasOwnProperty.call(N,b)?N[b]:N[b]=P(b)}function c(b,P){this.h=P;for(var N=[],M=!0,j=b.length-1;0<=j;j--){var Q=b[j]|0;M&&Q==P||(N[j]=Q,M=!1)}this.g=N}var f={};function p(b){return-128<=b&&128>b?l(b,function(P){return new c([P|0],0>P?-1:0)}):new c([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return I;if(0>b)return D(m(-b));for(var P=[],N=1,M=0;b>=N;M++)P[M]=b/N|0,N*=4294967296;return new c(P,0)}function w(b,P){if(b.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b.charAt(0)=="-")return D(w(b.substring(1),P));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(P,8)),M=I,j=0;j<b.length;j+=8){var Q=Math.min(8,b.length-j),V=parseInt(b.substring(j,j+Q),P);8>Q?(Q=m(Math.pow(P,Q)),M=M.j(Q).add(m(V))):(M=M.j(N),M=M.add(m(V)))}return M}var I=p(0),A=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-D(this).m();for(var b=0,P=1,N=0;N<this.g.length;N++){var M=this.i(N);b+=(0<=M?M:4294967296+M)*P,P*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(O(this))return"-"+D(this).toString(b);for(var P=m(Math.pow(b,6)),N=this,M="";;){var j=pe(N,P).g;N=W(N,j.j(P));var Q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(b);if(N=j,C(N))return Q+M;for(;6>Q.length;)Q="0"+Q;M=Q+M}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var P=0;P<b.g.length;P++)if(b.g[P]!=0)return!1;return!0}function O(b){return b.h==-1}n.l=function(b){return b=W(this,b),O(b)?-1:C(b)?0:1};function D(b){for(var P=b.g.length,N=[],M=0;M<P;M++)N[M]=~b.g[M];return new c(N,~b.h).add(A)}n.abs=function(){return O(this)?D(this):this},n.add=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0,j=0;j<=P;j++){var Q=M+(this.i(j)&65535)+(b.i(j)&65535),V=(Q>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);M=V>>>16,Q&=65535,V&=65535,N[j]=V<<16|Q}return new c(N,N[N.length-1]&-2147483648?-1:0)};function W(b,P){return b.add(D(P))}n.j=function(b){if(C(this)||C(b))return I;if(O(this))return O(b)?D(this).j(D(b)):D(D(this).j(b));if(O(b))return D(this.j(D(b)));if(0>this.l(R)&&0>b.l(R))return m(this.m()*b.m());for(var P=this.g.length+b.g.length,N=[],M=0;M<2*P;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<b.g.length;j++){var Q=this.i(M)>>>16,V=this.i(M)&65535,ut=b.i(j)>>>16,Ge=b.i(j)&65535;N[2*M+2*j]+=V*Ge,Z(N,2*M+2*j),N[2*M+2*j+1]+=Q*Ge,Z(N,2*M+2*j+1),N[2*M+2*j+1]+=V*ut,Z(N,2*M+2*j+1),N[2*M+2*j+2]+=Q*ut,Z(N,2*M+2*j+2)}for(M=0;M<P;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=P;M<2*P;M++)N[M]=0;return new c(N,0)};function Z(b,P){for(;(b[P]&65535)!=b[P];)b[P+1]+=b[P]>>>16,b[P]&=65535,P++}function ie(b,P){this.g=b,this.h=P}function pe(b,P){if(C(P))throw Error("division by zero");if(C(b))return new ie(I,I);if(O(b))return P=pe(D(b),P),new ie(D(P.g),D(P.h));if(O(P))return P=pe(b,D(P)),new ie(D(P.g),P.h);if(30<b.g.length){if(O(b)||O(P))throw Error("slowDivide_ only works with positive integers.");for(var N=A,M=P;0>=M.l(b);)N=ce(N),M=ce(M);var j=$(N,1),Q=$(M,1);for(M=$(M,2),N=$(N,2);!C(M);){var V=Q.add(M);0>=V.l(b)&&(j=j.add(N),Q=V),M=$(M,1),N=$(N,1)}return P=W(b,j.j(P)),new ie(j,P)}for(j=I;0<=b.l(P);){for(N=Math.max(1,Math.floor(b.m()/P.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),Q=m(N),V=Q.j(P);O(V)||0<V.l(b);)N-=M,Q=m(N),V=Q.j(P);C(Q)&&(Q=A),j=j.add(Q),b=W(b,V)}return new ie(j,b)}n.A=function(b){return pe(this,b).h},n.and=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0;M<P;M++)N[M]=this.i(M)&b.i(M);return new c(N,this.h&b.h)},n.or=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0;M<P;M++)N[M]=this.i(M)|b.i(M);return new c(N,this.h|b.h)},n.xor=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0;M<P;M++)N[M]=this.i(M)^b.i(M);return new c(N,this.h^b.h)};function ce(b){for(var P=b.g.length+1,N=[],M=0;M<P;M++)N[M]=b.i(M)<<1|b.i(M-1)>>>31;return new c(N,b.h)}function $(b,P){var N=P>>5;P%=32;for(var M=b.g.length-N,j=[],Q=0;Q<M;Q++)j[Q]=0<P?b.i(Q+N)>>>P|b.i(Q+N+1)<<32-P:b.i(Q+N);return new c(j,b.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,N0=o,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=w,oo=c}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,qa,L0,Wu,Qf,V0,b0,O0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bu=="object"&&bu];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var o=t(this);function s(u,g){if(g)e:{var E=o;u=u.split(".");for(var x=0;x<u.length-1;x++){var Y=u[x];if(!(Y in E))break e;E=E[Y]}u=u[u.length-1],x=E[u],g=g(x),g!=x&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var E=0,x=!1,Y={next:function(){if(!x&&E<u.length){var re=E++;return{value:g(re,u[re]),done:!1}}return x=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(u){return u||function(){return l(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function w(u,g,E){return u.call.apply(u.bind,arguments)}function I(u,g,E){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,x),u.apply(g,Y)}}return function(){return u.apply(g,arguments)}}function A(u,g,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,A.apply(null,arguments)}function R(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function C(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(x,Y,re){for(var ve=Array(arguments.length-2),At=2;At<arguments.length;At++)ve[At-2]=arguments[At];return g.prototype[Y].apply(x,ve)}}function O(u){const g=u.length;if(0<g){const E=Array(g);for(let x=0;x<g;x++)E[x]=u[x];return E}return[]}function D(u,g){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(p(x)){const Y=u.length||0,re=x.length||0;u.length=Y+re;for(let ve=0;ve<re;ve++)u[Y+ve]=x[ve]}else u.push(x)}}class W{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var ce=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function $(u,g,E){for(const x in u)g.call(E,u[x],x,u)}function b(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function P(u){const g={};for(const E in u)g[E]=u[E];return g}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let E,x;for(let Y=1;Y<arguments.length;Y++){x=arguments[Y];for(E in x)u[E]=x[E];for(let re=0;re<N.length;re++)E=N[re],Object.prototype.hasOwnProperty.call(x,E)&&(u[E]=x[E])}}function j(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function Q(u){f.setTimeout(()=>{throw u},0)}function V(){var u=Ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ut{constructor(){this.h=this.g=null}add(g,E){const x=Ge.get();x.set(g,E),this.h?this.h.next=x:this.g=x,this.h=x}}var Ge=new W(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,ge=!1,Ne=new ut,_e=()=>{const u=f.Promise.resolve(void 0);Je=()=>{u.then(z)}};var z=()=>{for(var u;u=V();){try{u.h.call(u.g)}catch(E){Q(E)}var g=Ge;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ge=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,g),f.removeEventListener("test",E,g)}catch{}return u}();function ze(u,g){if(Te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ce){e:{try{pe(g.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:He[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ze.aa.h.call(this)}}C(ze,Te);var He={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function yt(u,g,E,x,Y){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!x,this.ha=Y,this.key=++Xe,this.da=this.fa=!1}function tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tn(u){this.src=u,this.g={},this.h=0}tn.prototype.add=function(u,g,E,x,Y){var re=u.toString();u=this.g[re],u||(u=this.g[re]=[],this.h++);var ve=cn(u,g,x,Y);return-1<ve?(g=u[ve],E||(g.fa=!1)):(g=new yt(g,this.src,re,!!x,Y),g.fa=E,u.push(g)),g};function nr(u,g){var E=g.type;if(E in u.g){var x=u.g[E],Y=Array.prototype.indexOf.call(x,g,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(x,Y,1),re&&(tt(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function cn(u,g,E,x){for(var Y=0;Y<u.length;++Y){var re=u[Y];if(!re.da&&re.listener==g&&re.capture==!!E&&re.ha==x)return Y}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),br={};function si(u,g,E,x,Y){if(Array.isArray(g)){for(var re=0;re<g.length;re++)si(u,g[re],E,x,Y);return null}return E=nn(E),u&&u[rt]?u.K(g,E,m(x)?!!x.capture:!1,Y):rr(u,g,E,!1,x,Y)}function rr(u,g,E,x,Y,re){if(!g)throw Error("Invalid event type");var ve=m(Y)?!!Y.capture:!!Y,At=wn(u);if(At||(u[zt]=At=new tn(u)),E=At.add(g,E,x,ve,re),E.proxy)return E;if(x=Pi(),E.proxy=x,x.src=u,x.listener=E,u.addEventListener)Fe||(Y=ve),Y===void 0&&(Y=!1),u.addEventListener(g.toString(),x,Y);else if(u.attachEvent)u.attachEvent(_n(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pi(){function u(E){return g.call(u.src,u.listener,E)}const g=Vt;return u}function Or(u,g,E,x,Y){if(Array.isArray(g))for(var re=0;re<g.length;re++)Or(u,g[re],E,x,Y);else x=m(x)?!!x.capture:!!x,E=nn(E),u&&u[rt]?(u=u.i,g=String(g).toString(),g in u.g&&(re=u.g[g],E=cn(re,E,x,Y),-1<E&&(tt(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete u.g[g],u.h--)))):u&&(u=wn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=cn(g,E,x,Y)),(E=-1<u?g[u]:null)&&On(E))}function On(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[rt])nr(g.i,u);else{var E=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(E,x,u.capture):g.detachEvent?g.detachEvent(_n(E),x):g.addListener&&g.removeListener&&g.removeListener(x),(E=wn(g))?(nr(E,u),E.h==0&&(E.src=null,g[zt]=null)):tt(u)}}}function _n(u){return u in br?br[u]:br[u]="on"+u}function Vt(u,g){if(u.da)u=!0;else{g=new ze(g,this);var E=u.listener,x=u.ha||u.src;u.fa&&On(u),u=E.call(x,g)}return u}function wn(u){return u=u[zt],u instanceof tn?u:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(u){return typeof u=="function"?u:(u[vr]||(u[vr]=function(g){return u.handleEvent(g)}),u[vr])}function wt(){se.call(this),this.i=new tn(this),this.M=this,this.F=null}C(wt,se),wt.prototype[rt]=!0,wt.prototype.removeEventListener=function(u,g,E,x){Or(this,u,g,E,x)};function S(u,g){var E,x=u.F;if(x)for(E=[];x;x=x.F)E.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new Te(g,u);else if(g instanceof Te)g.target=g.target||u;else{var Y=g;g=new Te(x,u),M(g,Y)}if(Y=!0,E)for(var re=E.length-1;0<=re;re--){var ve=g.g=E[re];Y=v(ve,x,!0,g)&&Y}if(ve=g.g=u,Y=v(ve,x,!0,g)&&Y,Y=v(ve,x,!1,g)&&Y,E)for(re=0;re<E.length;re++)ve=g.g=E[re],Y=v(ve,x,!1,g)&&Y}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],x=0;x<E.length;x++)tt(E[x]);delete u.g[g],u.h--}}this.F=null},wt.prototype.K=function(u,g,E,x){return this.i.add(String(u),g,!1,E,x)},wt.prototype.L=function(u,g,E,x){return this.i.add(String(u),g,!0,E,x)};function v(u,g,E,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Y=!0,re=0;re<g.length;++re){var ve=g[re];if(ve&&!ve.da&&ve.capture==E){var At=ve.listener,Yt=ve.ha||ve.src;ve.fa&&nr(u.i,ve),Y=At.call(Yt,x)!==!1&&Y}}return Y&&!x.defaultPrevented}function _(u,g,E){if(typeof u=="function")E&&(u=A(u,E));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function k(u){u.g=_(()=>{u.g=null,u.i&&(u.i=!1,k(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class B extends se{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:k(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(u){se.call(this),this.h=u,this.g={}}C(te,se);var ae=[];function $e(u){$(u.g,function(g,E){this.g.hasOwnProperty(E)&&On(g)},u),u.g={}}te.prototype.N=function(){te.aa.N.call(this),$e(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=f.JSON.stringify,pt=f.JSON.parse,mt=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ze(){}Ze.prototype.h=null;function Mr(u){return u.h||(u.h=u.i())}function ki(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){Te.call(this,"d")}C(ir,Te);function ai(){Te.call(this,"c")}C(ai,Te);var Dn={},Fr=null;function li(){return Fr=Fr||new wt}Dn.La="serverreachability";function go(u){Te.call(this,Dn.La,u)}C(go,Te);function F(u){const g=li();S(g,new go(g))}Dn.STAT_EVENT="statevent";function G(u,g){Te.call(this,Dn.STAT_EVENT,u),this.stat=g}C(G,Te);function J(u){const g=li();S(g,new G(g,u))}Dn.Ma="timingevent";function he(u,g){Te.call(this,Dn.Ma,u),this.size=g}C(he,Te);function we(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function ke(){this.g=!0}ke.prototype.xa=function(){this.g=!1};function be(u,g,E,x,Y,re){u.info(function(){if(u.g)if(re)for(var ve="",At=re.split("&"),Yt=0;Yt<At.length;Yt++){var ht=At[Yt].split("=");if(1<ht.length){var rn=ht[0];ht=ht[1];var Wt=rn.split("_");ve=2<=Wt.length&&Wt[1]=="type"?ve+(rn+"="+ht+"&"):ve+(rn+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+x+") [attempt "+Y+"]: "+g+`
`+E+`
`+ve})}function Re(u,g,E,x,Y,re,ve){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Y+"]: "+g+`
`+E+`
`+re+" "+ve})}function Se(u,g,E,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Be(u,E)+(x?" "+x:"")})}function Ee(u,g){u.info(function(){return"TIMEOUT: "+g})}ke.prototype.info=function(){};function Be(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var x=E[u];if(!(2>x.length)){var Y=x[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return Et(E)}catch{return g}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},It;function _t(){}C(_t,Ze),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},It=new _t;function nt(u,g,E,x){this.j=u,this.i=g,this.l=E,this.R=x||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var or={},sr={};function En(u,g,E){u.L=1,u.v=bi(Qn(g)),u.m=E,u.P=!0,Tn(u,null)}function Tn(u,g){u.F=Date.now(),ct(u),u.A=Qn(u.v);var E=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),Mi(E.i,"t",x),u.C=0,E=u.j.J,u.h=new bt,u.g=Ol(u.j,E?g:null,!u.m),0<u.O&&(u.M=new B(A(u.Y,u,u.g),u.O)),g=u.U,E=u.g,x=u.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ae[0]=Y.toString()),Y=ae);for(var re=0;re<Y.length;re++){var ve=si(E,Y[re],x||g.handleEvent,!1,g.h||g);if(!ve)break;g.g[ve.key]=ve}g=u.H?P(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),F(),be(u.i,u.u,u.A,u.l,u.R,u.m)}nt.prototype.ca=function(u){u=u.target;const g=this.M;g&&Fn(u)==3?g.j():this.Y(u)},nt.prototype.Y=function(u){try{if(u==this.g)e:{const Wt=Fn(this.g);var g=this.g.Ba();const ur=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||Wt!=4||g==7||(g==8||0>=ur?F(3):F(2)),ar(this);var E=this.g.Z();this.X=E;t:if(Ni(this)){var x=ca(this.g);u="";var Y=x.length,re=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rt(this),ot(this);var ve="";break t}this.h.i=new f.TextDecoder}for(g=0;g<Y;g++)this.h.h=!0,u+=this.h.i.decode(x[g],{stream:!(re&&g==Y-1)});x.length=0,this.h.g+=u,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,Re(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Yt=this.g;if((At=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(At)){var ht=At;break t}}ht=null}if(E=ht)Se(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,E);else{this.o=!1,this.s=3,J(12),Rt(this),ot(this);break e}}if(this.P){E=!0;let Yn;for(;!this.J&&this.C<ve.length;)if(Yn=ui(this,ve),Yn==sr){Wt==4&&(this.s=4,J(14),E=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==or){this.s=4,J(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else Se(this.i,this.l,Yn,null),Ur(this,Yn);if(Ni(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ve.length!=0||this.h.h||(this.s=1,J(16),E=!1),this.o=this.o&&E,!E)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),Rt(this),ot(this);else if(0<ve.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),fa(rn),rn.M=!0,J(11))}}else Se(this.i,this.l,ve,null),Ur(this,ve);Wt==4&&Rt(this),this.o&&!this.J&&(Wt==4?cs(this.j,this):(this.o=!1,ct(this)))}else os(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Rt(this),ot(this)}}}catch{}finally{}};function Ni(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ui(u,g){var E=u.C,x=g.indexOf(`
`,E);return x==-1?sr:(E=Number(g.substring(E,x)),isNaN(E)?or:(x+=1,x+E>g.length?sr:(g=g.slice(x,x+E),u.C=x+E,g)))}nt.prototype.cancel=function(){this.J=!0,Rt(this)};function ct(u){u.S=Date.now()+u.I,ci(u,u.I)}function ci(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(A(u.ba,u),g)}function ar(u){u.B&&(f.clearTimeout(u.B),u.B=null)}nt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ee(this.i,this.A),this.L!=2&&(F(),J(17)),Rt(this),this.s=2,ot(this)):ci(this,this.S-u)};function ot(u){u.j.G==0||u.J||cs(u.j,u)}function Rt(u){ar(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,$e(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Ur(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||hn(E.h,u))){if(!u.K&&hn(E.h,u)&&E.G==3){try{var x=E.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Y=x;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)us(E),Sr(E);else break e;ls(E),J(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=we(A(E.Za,E),6e3));if(1>=yo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else mi(E,11)}else if((u.K||E.g==u)&&us(E),!Z(g))for(Y=E.Da.g.parse(g),g=0;g<Y.length;g++){let ht=Y[g];if(E.T=ht[0],ht=ht[1],E.G==2)if(ht[0]=="c"){E.K=ht[1],E.ia=ht[2];const rn=ht[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const Wt=ht[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const ur=ht[5];ur!=null&&typeof ur=="number"&&0<ur&&(x=1.5*ur,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Yn=u.g;if(Yn){const So=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var re=x.h;re.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(sa(re,re.h),re.h=null))}if(x.D){const fs=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;fs&&(x.ya=fs,Ct(x.I,x.D,fs))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var ve=u;if(x.qa=bl(x,x.J?x.ia:null,x.W),ve.K){Sl(x.h,ve);var At=ve,Yt=x.L;Yt&&(At.I=Yt),At.B&&(ar(At),ct(At)),x.g=ve}else To(x);0<E.i.length&&Hr(E)}else ht[0]!="stop"&&ht[0]!="close"||mi(E,7);else E.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?mi(E,7):dn(E):ht[0]!="noop"&&E.l&&E.l.ta(ht),E.v=0)}}F(4)}catch{}}var Br=class{constructor(u,g){this.g=u,this.map=g}};function xt(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yo(u){return u.h?1:u.g?u.g.size:0}function hn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function sa(u,g){u.g?u.g.add(g):u.h=g}function Sl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}xt.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return O(u.i)}function es(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],E=u.length,x=0;x<E;x++)g.push(u[x]);return g}g=[],E=0;for(x in u)g[E++]=u[x];return g}function ts(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const x in u)g[E++]=x;return g}}}function Di(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=ts(u),x=es(u),Y=x.length,re=0;re<Y;re++)g.call(void 0,x[re],E&&E[re],u)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var x=u[E].indexOf("="),Y=null;if(0<=x){var re=u[E].substring(0,x);Y=u[E].substring(x+1)}else re=u[E];g(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function hi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hi){this.h=u.h,_o(this,u.j),this.o=u.o,this.g=u.g,Li(this,u.s),this.l=u.l;var g=u.i,E=new jr;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Vi(this,E),this.m=u.m}else u&&(g=String(u).match(vo))?(this.h=!1,_o(this,g[1]||"",!0),this.o=st(g[2]||""),this.g=st(g[3]||"",!0),Li(this,g[4]),this.l=st(g[5]||"",!0),Vi(this,g[6]||"",!0),this.m=st(g[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}hi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Oi(g,ns,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Oi(g,ns,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Oi(E,E.charAt(0)=="/"?xl:Al,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Oi(E,aa)),u.join("")};function Qn(u){return new hi(u)}function _o(u,g,E){u.j=E?st(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Li(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Vi(u,g,E){g instanceof jr?(u.i=g,zr(u.i,u.h)):(E||(g=Oi(g,Cl)),u.i=new jr(g,u.h))}function Ct(u,g,E){u.i.set(g,E)}function bi(u){return Ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function st(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oi(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,Rl),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ns=/[#\/\?@]/g,Al=/[#\?:]/g,xl=/[#\?]/g,Cl=/[#\?@]/g,aa=/#/g;function jr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=jr.prototype,n.add=function(u,g){fn(this),this.i=null,u=lr(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function _r(u,g){fn(u),g=lr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wr(u,g){return fn(u),g=lr(u,g),u.g.has(g)}n.forEach=function(u,g){fn(this),this.g.forEach(function(E,x){E.forEach(function(Y){u.call(g,Y,x,this)},this)},this)},n.na=function(){fn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let x=0;x<g.length;x++){const Y=u[x];for(let re=0;re<Y.length;re++)E.push(g[x])}return E},n.V=function(u){fn(this);let g=[];if(typeof u=="string")wr(this,u)&&(g=g.concat(this.g.get(lr(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},n.set=function(u,g){return fn(this),this.i=null,u=lr(this,u),wr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Mi(u,g,E){_r(u,g),0<E.length&&(u.i=null,u.g.set(lr(u,g),O(E)),u.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var x=g[E];const re=encodeURIComponent(String(x)),ve=this.V(x);for(x=0;x<ve.length;x++){var Y=re;ve[x]!==""&&(Y+="="+encodeURIComponent(String(ve[x]))),u.push(Y)}}return this.i=u.join("&")};function lr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function zr(u,g){g&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(E,x){var Y=x.toLowerCase();x!=Y&&(_r(this,x),Mi(this,Y,E))},u)),u.j=g}function jc(u,g){const E=new ke;if(f.Image){const x=new Image;x.onload=R(Mn,E,"TestLoadImage: loaded",!0,g,x),x.onerror=R(Mn,E,"TestLoadImage: error",!1,g,x),x.onabort=R(Mn,E,"TestLoadImage: abort",!1,g,x),x.ontimeout=R(Mn,E,"TestLoadImage: timeout",!1,g,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function Pl(u,g){const E=new ke,x=new AbortController,Y=setTimeout(()=>{x.abort(),Mn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(re=>{clearTimeout(Y),re.ok?Mn(E,"TestPingServer: ok",!0,g):Mn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Y),Mn(E,"TestPingServer: error",!1,g)})}function Mn(u,g,E,x,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),x(E)}catch{}}function zc(){this.g=new mt}function kl(u,g,E){const x=E||"";try{Di(u,function(Y,re){let ve=Y;m(Y)&&(ve=Et(Y)),g.push(x+re+"="+encodeURIComponent(ve))})}catch(Y){throw g.push(x+"type="+encodeURIComponent("_badmap")),Y}}function fi(u){this.l=u.Ub||null,this.j=u.eb||!1}C(fi,Ze),fi.prototype.g=function(){return new wo(this.l,this.j)},fi.prototype.i=function(u){return function(){return u}}({});function wo(u,g){wt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(wo,wt),n=wo.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Er(this):Tr(this),this.readyState==3&&Nl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Er(this))},n.Qa=function(u){this.g&&(this.response=u,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function di(u){let g="";return $(u,function(E,x){g+=x,g+=":",g+=E,g+=`\r
`}),g}function Fi(u,g,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=di(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Ct(u,g,E))}function Ot(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ot,wt);var $c=/^https?$/i,la=["POST","PUT"];n=Ot.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():It.g(),this.v=this.o?Mr(this.o):Mr(It),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(re){Eo(this,re);return}if(u=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Y in x)E.set(Y,x[Y]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const re of x.keys())E.set(re,x.get(re));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Y=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(la,g,void 0))||x||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of E)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(u),this.u=!1}catch(re){Eo(this,re)}};function Eo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,rs(u),Gn(u)}function rs(u){u.A||(u.A=!0,S(u,"complete"),S(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,S(this,"complete"),S(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Fn(u)!=4||u.Z()!=2)){if(u.u&&Fn(u)==4)_(u.Ea,0,u);else if(S(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const ve=u.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var x;if(x=ve===0){var Y=String(u.D).match(vo)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),x=!$c.test(Y?Y.toLowerCase():"")}E=x}if(E)S(u,"complete"),S(u,"success");else{u.m=6;try{var re=2<Fn(u)?u.g.statusText:""}catch{re=""}u.l=re+" ["+u.Z()+"]",rs(u)}}finally{Gn(u)}}}}function Gn(u,g){if(u.g){is(u);const E=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||S(u,"ready");try{E.onreadystatechange=x}catch{}}}function is(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),pt(g)}};function ca(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function os(u){const g={};u=(u.g&&2<=Fn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(Z(u[x]))continue;var E=j(u[x]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=g[Y]||[];g[Y]=re,re.push(E)}b(g,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function ha(u){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xt(u&&u.concurrentRequestLimit),this.Da=new zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(u,g,E,x){J(0),this.W=u,this.H=g||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=bl(this,null,this.W),Hr(this)};function dn(u){if(ss(u),u.G==3){var g=u.U++,E=Qn(u.I);if(Ct(E,"SID",u.K),Ct(E,"RID",g),Ct(E,"TYPE","terminate"),pi(u,E),g=new nt(u,u.j,g),g.L=2,g.v=bi(Qn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=g.v,E=!0),E||(g.g=Ol(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ct(g)}Vl(u)}function Sr(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function ss(u){Sr(u),u.u&&(f.clearTimeout(u.u),u.u=null),us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Hr(u){if(!qt(u.h)&&!u.s){u.s=!0;var g=u.Ga;Je||_e(),ge||(Je(),ge=!0),Ne.add(g,u),u.B=0}}function Hc(u,g){return yo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(A(u.Ga,u,g),Ll(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Y=new nt(this,this.j,u);let re=this.o;if(this.S&&(re?(re=P(re),M(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Ui(this,Y,g),E=Qn(this.I),Ct(E,"RID",u),Ct(E,"CVER",22),this.D&&Ct(E,"X-HTTP-Session-Id",this.D),pi(this,E),re&&(this.O?g="headers="+encodeURIComponent(String(di(re)))+"&"+g:this.m&&Fi(E,this.m,re)),sa(this.h,Y),this.Ua&&Ct(E,"TYPE","init"),this.P?(Ct(E,"$req",g),Ct(E,"SID","null"),Y.T=!0,En(Y,E,null)):En(Y,E,g),this.G=2}}else this.G==3&&(u?as(this,u):this.i.length==0||qt(this.h)||as(this))};function as(u,g){var E;g?E=g.l:E=u.U++;const x=Qn(u.I);Ct(x,"SID",u.K),Ct(x,"RID",E),Ct(x,"AID",u.T),pi(u,x),u.m&&u.o&&Fi(x,u.m,u.o),E=new nt(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Ui(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sa(u.h,E),En(E,x,g)}function pi(u,g){u.H&&$(u.H,function(E,x){Ct(g,x,E)}),u.l&&Di({},function(E,x){Ct(g,x,E)})}function Ui(u,g,E){E=Math.min(u.i.length,E);var x=u.l?A(u.l.Na,u.l,u):null;e:{var Y=u.i;let re=-1;for(;;){const ve=["count="+E];re==-1?0<E?(re=Y[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let At=!0;for(let Yt=0;Yt<E;Yt++){let ht=Y[Yt].g;const rn=Y[Yt].map;if(ht-=re,0>ht)re=Math.max(0,Y[Yt].g-100),At=!1;else try{kl(rn,ve,"req"+ht+"_")}catch{x&&x(rn)}}if(At){x=ve.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,x}function To(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Je||_e(),ge||(Je(),ge=!0),Ne.add(g,u),u.v=0}}function ls(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(A(u.Fa,u),Ll(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Dl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Sr(this),Dl(this))};function fa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Dl(u){u.g=new nt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Qn(u.qa);Ct(g,"RID","rpc"),Ct(g,"SID",u.K),Ct(g,"AID",u.T),Ct(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ct(g,"TO",u.ja),Ct(g,"TYPE","xmlhttp"),pi(u,g),u.m&&u.o&&Fi(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=bi(Qn(g)),E.m=null,E.P=!0,Tn(E,u)}n.Za=function(){this.C!=null&&(this.C=null,Sr(this),ls(this),J(19))};function us(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function cs(u,g){var E=null;if(u.g==g){us(u),fa(u),u.g=null;var x=2}else if(hn(u.h,g))E=g.D,Sl(u.h,g),x=1;else return;if(u.G!=0){if(g.o)if(x==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var Y=u.B;x=li(),S(x,new he(x,E)),Hr(u)}else To(u);else if(Y=g.s,Y==3||Y==0&&0<g.X||!(x==1&&Hc(u,g)||x==2&&ls(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),Y){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Ll(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function mi(u,g){if(u.j.info("Error code "+g),g==2){var E=A(u.fb,u),x=u.Xa;const Y=!x;x=new hi(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||_o(x,"https"),bi(x),Y?jc(x.toString(),E):Pl(x.toString(),E)}else J(2);u.G=0,u.l&&u.l.sa(g),Vl(u),ss(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Vl(u){if(u.G=0,u.ka=[],u.l){const g=Il(u.h);(g.length!=0||u.i.length!=0)&&(D(u.ka,g),D(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function bl(u,g,E){var x=E instanceof hi?Qn(E):new hi(E);if(x.g!="")g&&(x.g=g+"."+x.g),Li(x,x.s);else{var Y=f.location;x=Y.protocol,g=g?g+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new hi(null);x&&_o(re,x),g&&(re.g=g),Y&&Li(re,Y),E&&(re.l=E),x=re}return E=u.D,g=u.ya,E&&g&&Ct(x,E,g),Ct(x,"VER",u.la),pi(u,x),x}function Ol(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ot(new fi({eb:E})):new Ot(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function da(){}n=da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hs(){}hs.prototype.g=function(u,g){return new Ln(u,g)};function Ln(u,g){wt.call(this),this.g=new ha(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new qr(this)}C(Ln,wt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){dn(this.g)},Ln.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Et(u),u=E);g.i.push(new Br(g.Ya++,u)),g.G==3&&Hr(g)},Ln.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Ln.aa.N.call(this)};function Ml(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}C(Ml,ir);function Fl(){ai.call(this),this.status=1}C(Fl,ai);function qr(u){this.g=u}C(qr,da),qr.prototype.ua=function(){S(this.g,"a")},qr.prototype.ta=function(u){S(this.g,new Ml(u))},qr.prototype.sa=function(u){S(this.g,new Fl)},qr.prototype.ra=function(){S(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,O0=function(){return new hs},b0=function(){return li()},V0=Dn,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Wu=qe,St.COMPLETE="complete",L0=St,ki.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,qa=ki,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,D0=Ot}).apply(typeof bu<"u"?bu:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",Cy="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new R0("@firebase/firestore");function Vs(){return $o.logLevel}function Ae(n,...e){if($o.logLevel<=dt.DEBUG){const t=e.map(Cd);$o.debug(`Firestore (${ea}): ${n}`,...t)}}function Ai(n,...e){if($o.logLevel<=dt.ERROR){const t=e.map(Cd);$o.error(`Firestore (${ea}): ${n}`,...t)}}function zs(n,...e){if($o.logLevel<=dt.WARN){const t=e.map(Cd);$o.warn(`Firestore (${ea}): ${n}`,...t)}}function Cd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function Tt(n,e){n||Ue()}function Qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Zs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cn.UNAUTHENTICATED))}shutdown(){}}class dA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Tt(this.o===void 0);let o=this.i;const s=p=>this.i!==o?(o=this.i,t(p)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tt(typeof o.accessToken=="string"),new M0(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new Cn(e)}}class mA{constructor(e,t,o){this.l=e,this.h=t,this.P=o,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gA{constructor(e,t,o){this.l=e,this.h=t,this.P=o}getToken(){return Promise.resolve(new mA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,GR(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Tt(this.o===void 0);const o=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Py(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt(typeof t.token=="string"),this.R=t.token,new Py(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<n;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const s=vA(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<t&&(o+=e.charAt(s[l]%62))}return o}}function at(n,e){return n<e?-1:n>e?1:0}function $s(n,e,t){return n.length===e.length&&n.every((o,s)=>t(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,Ny=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor((e-1e3*t)*Ny);return new Zt(t,o)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ky)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Zt(0,0))}static max(){return new We(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class Xr{constructor(e,t,o){t===void 0?t=0:t>e.length&&Ue(),o===void 0?o=e.length-t:o>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let s=0;s<o;s++){const l=Xr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const o=Xr.isNumericId(e),s=Xr.isNumericId(t);return o&&!s?-1:!o&&s?1:o&&s?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class Lt extends Xr{construct(e,t,o){return new Lt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(s=>s.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Xr{construct(e,t,o){return new yn(e,t,o)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new yn([Dy])}static fromServerFormat(e){const t=[];let o="",s=0;const l=()=>{if(o.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=p,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(l(),s++)}if(l(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Lt.fromString(e))}static fromName(e){return new Ve(Lt.fromString(e).popFirst(5))}static empty(){return new Ve(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=-1;function wA(n,e){const t=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,s=We.fromTimestamp(o===1e9?new Zt(t+1,0):new Zt(t,o));return new lo(s,Ve.empty(),e)}function EA(n){return new lo(n.readTime,n.key,il)}class lo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new lo(We.min(),Ve.empty(),il)}static max(){return new lo(We.max(),Ve.empty(),il)}}function TA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==SA)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,o)=>{t(e)})}static reject(e){return new ue((t,o)=>{o(e)})}static waitFor(e){return new ue((t,o)=>{let s=0,l=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++l,c&&l===s&&t()},p=>o(p))}),c=!0,l===s&&t()})}static or(e){let t=ue.resolve(!1);for(const o of e)t=t.next(s=>s?ue.resolve(s):o());return t}static forEach(e,t){const o=[];return e.forEach((s,l)=>{o.push(t.call(this,s,l))}),this.waitFor(o)}static mapArray(e,t){return new ue((o,s)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(w=>{c[m]=w,++f,f===l&&o(c)},w=>s(w))}})}static doWhile(e,t){return new ue((o,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):o()};l()})}}function RA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function na(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.oe(o),this._e=o=>t.writeSequenceNumber(o))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}xc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function Cc(n){return n==null}function sc(n){return n===0&&1/n==-1/0}function AA(n){return typeof n=="number"&&Number.isInteger(n)&&!sc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="";function xA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ly(e)),e=CA(n.get(t),e);return Ly(e)}function CA(n,e){let t=e;const o=n.length;for(let s=0;s<o;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case U0:t+="";break;default:t+=l}}return t}function Ly(n){return n+U0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function B0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(o===0)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,t,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,o,s,l){this.key=e,this.value=t,this.color=o??gn.RED,this.left=s??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,s,l){return new gn(e??this.key,t??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,o),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return gn.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,o,s,l){return this}insert(e,t,o){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let o;for(o=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new by(this.data.getIterator())}getIteratorFrom(e){return new by(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class by{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new en(yn.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new j0("Invalid base64 string: "+l):l}}(e);return new vn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let s=0;s<t.length;s++)o[s]=t.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(n){if(Tt(!!n),typeof n=="string"){let e=0;const t=PA.exec(n);if(Tt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function co(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="server_timestamp",$0="__type__",H0="__previous_value__",q0="__local_write_time__";function kd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$0])===null||t===void 0?void 0:t.stringValue)===z0}function Pc(n){const e=n.mapValue.fields[H0];return kd(e)?Pc(e):e}function ol(n){const e=uo(n.mapValue.fields[q0].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,o,s,l,c,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const ac="(default)";class sl{constructor(e,t){this.projectId=e,this.database=t||ac}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__type__",NA="__max__",Mu={mapValue:{}},K0="__vector__",lc="value";function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kd(n)?4:LA(n)?9007199254740991:DA(n)?10:11:Ue()}function ri(n,e){if(n===e)return!0;const t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=uo(s.timestampValue),f=uo(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return co(s.bytesValue).isEqual(co(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Ht(s.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ht(s.integerValue)===Ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ht(s.doubleValue),f=Ht(l.doubleValue);return c===f?sc(c)===sc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return $s(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},f=l.mapValue.fields||{};if(Vy(c)!==Vy(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ri(c[p],f[p])))return!1;return!0}(n,e);default:return Ue()}}function al(n,e){return(n.values||[]).find(t=>ri(t,e))!==void 0}function Hs(n,e){if(n===e)return 0;const t=ho(n),o=ho(e);if(t!==o)return at(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Ht(l.integerValue||l.doubleValue),p=Ht(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Oy(n.timestampValue,e.timestampValue);case 4:return Oy(ol(n),ol(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(l,c){const f=co(l),p=co(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const w=at(f[m],p[m]);if(w!==0)return w}return at(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=at(Ht(l.latitude),Ht(c.latitude));return f!==0?f:at(Ht(l.longitude),Ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return My(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,m,w;const I=l.fields||{},A=c.fields||{},R=(f=I[lc])===null||f===void 0?void 0:f.arrayValue,C=(p=A[lc])===null||p===void 0?void 0:p.arrayValue,O=at(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((w=C==null?void 0:C.values)===null||w===void 0?void 0:w.length)||0);return O!==0?O:My(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Mu.mapValue&&c===Mu.mapValue)return 0;if(l===Mu.mapValue)return 1;if(c===Mu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},w=Object.keys(m);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const A=at(p[I],w[I]);if(A!==0)return A;const R=Hs(f[p[I]],m[w[I]]);if(R!==0)return R}return at(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function Oy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=uo(n),o=uo(e),s=at(t.seconds,o.seconds);return s!==0?s:at(t.nanos,o.nanos)}function My(n,e){const t=n.values||[],o=e.values||[];for(let s=0;s<t.length&&s<o.length;++s){const l=Hs(t[s],o[s]);if(l)return l}return at(t.length,o.length)}function qs(n){return Gf(n)}function Gf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const o=uo(t);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return co(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let o="[",s=!0;for(const l of t.values||[])s?s=!1:o+=",",o+=Gf(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(t){const o=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of o)l?l=!1:s+=",",s+=`${c}:${Gf(t.fields[c])}`;return s+"}"}(n.mapValue):Ue()}function Ku(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(n);return e?16+Ku(e):16;case 5:return 2*n.stringValue.length;case 6:return co(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+Ku(l),0)}(n.arrayValue);case 10:case 11:return function(o){let s=0;return Qo(o.fields,(l,c)=>{s+=l.length+Ku(c)}),s}(n.mapValue);default:throw Ue()}}function Fy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yf(n){return!!n&&"integerValue"in n}function Nd(n){return!!n&&"arrayValue"in n}function Uy(n){return!!n&&"nullValue"in n}function By(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qu(n){return!!n&&"mapValue"in n}function DA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[W0])===null||t===void 0?void 0:t.stringValue)===K0}function Ga(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qo(n.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Ga(o)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ga(n.arrayValue.values[t]);return e}return Object.assign({},n)}function LA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(t)}setAll(e){let t=yn.emptyPath(),o={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,o,s),o={},s=[],t=f.popLast()}c?o[f.lastSegment()]=Ga(c):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,s)}delete(e){const t=this.field(e.popLast());Qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=t.mapValue.fields[e.get(o)];Qu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,o){Qo(t,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new yr(Ga(this.value))}}function Q0(n){const e=[];return Qo(n.fields,(t,o)=>{const s=new yn([t]);if(Qu(o)){const l=Q0(o.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,o,s,l,c,f){this.key=e,this.documentType=t,this.version=o,this.readTime=s,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Pn(e,0,We.min(),We.min(),We.min(),yr.empty(),0)}static newFoundDocument(e,t,o,s){return new Pn(e,1,t,We.min(),o,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,We.min(),We.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,We.min(),We.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.position=e,this.inclusive=t}}function jy(n,e,t){let o=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?o=Ve.comparator(Ve.fromName(c.referenceValue),t.key):o=Hs(c,t.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function zy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function VA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{}class Gt extends G0{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,o):new OA(e,t,o):t==="array-contains"?new UA(e,o):t==="in"?new BA(e,o):t==="not-in"?new jA(e,o):t==="array-contains-any"?new zA(e,o):new Gt(e,t,o)}static createKeyFieldInFilter(e,t,o){return t==="in"?new MA(e,o):new FA(e,o)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Hs(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(Hs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends G0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Lr(e,t)}matches(e){return Y0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Y0(n){return n.op==="and"}function X0(n){return bA(n)&&Y0(n)}function bA(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function Xf(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+qs(n.value);if(X0(n))return n.filters.map(e=>Xf(e)).join(",");{const e=n.filters.map(t=>Xf(t)).join(",");return`${n.op}(${e})`}}function J0(n,e){return n instanceof Gt?function(o,s){return s instanceof Gt&&o.op===s.op&&o.field.isEqual(s.field)&&ri(o.value,s.value)}(n,e):n instanceof Lr?function(o,s){return s instanceof Lr&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,c,f)=>l&&J0(c,s.filters[f]),!0):!1}(n,e):void Ue()}function Z0(n){return n instanceof Gt?function(t){return`${t.field.canonicalString()} ${t.op} ${qs(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(Z0).join(" ,")+"}"}(n):"Filter"}class OA extends Gt{constructor(e,t,o){super(e,t,o),this.key=Ve.fromName(o.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class MA extends Gt{constructor(e,t){super(e,"in",t),this.keys=e_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FA extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=e_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(o=>Ve.fromName(o.referenceValue))}class UA extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nd(t)&&al(t.arrayValue,this.value)}}class BA extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&al(this.value.arrayValue,t)}}class jA extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!al(this.value.arrayValue,t)}}class zA extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>al(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t=null,o=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function $y(n,e=null,t=[],o=[],s=null,l=null,c=null){return new $A(n,e,t,o,s,l,c)}function Dd(n){const e=Qe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Xf(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>qs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>qs(o)).join(",")),e.le=t}return e.le}function Ld(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!J0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zy(n.startAt,e.startAt)&&zy(n.endAt,e.endAt)}function Jf(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t=null,o=[],s=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HA(n,e,t,o,s,l,c,f){return new ra(n,e,t,o,s,l,c,f)}function Vd(n){return new ra(n)}function Hy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function t_(n){return n.collectionGroup!==null}function Ya(n){const e=Qe(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new en(yn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new ll(l,o))}),t.has(yn.keyField().canonicalString())||e.he.push(new ll(yn.keyField(),o))}return e.he}function Zr(n){const e=Qe(n);return e.Pe||(e.Pe=qA(e,Ya(n))),e.Pe}function qA(n,e){if(n.limitType==="F")return $y(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new ll(s.field,l)});const t=n.endAt?new uc(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new uc(n.startAt.position,n.startAt.inclusive):null;return $y(n.path,n.collectionGroup,e,n.filters,n.limit,t,o)}}function Zf(n,e){const t=n.filters.concat([e]);return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ed(n,e,t){return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kc(n,e){return Ld(Zr(n),Zr(e))&&n.limitType===e.limitType}function n_(n){return`${Dd(Zr(n))}|lt:${n.limitType}`}function bs(n){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(s=>Z0(s)).join(", ")}]`),Cc(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>qs(s)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>qs(s)).join(",")),`Target(${o})`}(Zr(n))}; limitType=${n.limitType})`}function Nc(n,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Ve.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(n,e)&&function(o,s){for(const l of Ya(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(o,s){return!(o.startAt&&!function(c,f,p){const m=jy(c,f,p);return c.inclusive?m<=0:m<0}(o.startAt,Ya(o),s)||o.endAt&&!function(c,f,p){const m=jy(c,f,p);return c.inclusive?m>=0:m>0}(o.endAt,Ya(o),s))}(n,e)}function WA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function r_(n){return(e,t)=>{let o=!1;for(const s of Ya(n)){const l=KA(s,e,t);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function KA(n,e,t){const o=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Hs(p,m):Ue()}(n.field,e,t);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[t]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(t,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Bt(Ve.comparator);function xi(){return QA}const i_=new Bt(Ve.comparator);function Wa(...n){let e=i_;for(const t of n)e=e.insert(t.key,t);return e}function o_(n){let e=i_;return n.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Bo(){return Xa()}function s_(){return Xa()}function Xa(){return new Go(n=>n.toString(),(n,e)=>n.isEqual(e))}const GA=new Bt(Ve.comparator),YA=new en(Ve.comparator);function it(...n){let e=YA;for(const t of n)e=e.add(t);return e}const XA=new en(at);function JA(){return XA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function a_(n){return{integerValue:""+n}}function ZA(n,e){return AA(e)?a_(e):bd(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function ex(n,e,t){return n instanceof cc?function(s,l){const c={fields:{[$0]:{stringValue:z0},[q0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&kd(l)&&(l=Pc(l)),l&&(c.fields[H0]=l),{mapValue:c}}(t,e):n instanceof ul?u_(n,e):n instanceof cl?c_(n,e):function(s,l){const c=l_(s,l),f=qy(c)+qy(s.Ie);return Yf(c)&&Yf(s.Ie)?a_(f):bd(s.serializer,f)}(n,e)}function tx(n,e,t){return n instanceof ul?u_(n,e):n instanceof cl?c_(n,e):t}function l_(n,e){return n instanceof hc?function(o){return Yf(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class cc extends Dc{}class ul extends Dc{constructor(e){super(),this.elements=e}}function u_(n,e){const t=h_(e);for(const o of n.elements)t.some(s=>ri(s,o))||t.push(o);return{arrayValue:{values:t}}}class cl extends Dc{constructor(e){super(),this.elements=e}}function c_(n,e){let t=h_(e);for(const o of n.elements)t=t.filter(s=>!ri(s,o));return{arrayValue:{values:t}}}class hc extends Dc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qy(n){return Ht(n.integerValue||n.doubleValue)}function h_(n){return Nd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nx(n,e){return n.field.isEqual(e.field)&&function(o,s){return o instanceof ul&&s instanceof ul||o instanceof cl&&s instanceof cl?$s(o.elements,s.elements,ri):o instanceof hc&&s instanceof hc?ri(o.Ie,s.Ie):o instanceof cc&&s instanceof cc}(n.transform,e.transform)}class rx{constructor(e,t){this.version=e,this.transformResults=t}}class ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lc{}function f_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Od(n.key,ei.none()):new yl(n.key,n.data,ei.none());{const t=n.data,o=yr.empty();let s=new en(yn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?o.delete(l):o.set(l,c),s=s.add(l)}return new Yo(n.key,o,new Nr(s.toArray()),ei.none())}}function ix(n,e,t){n instanceof yl?function(s,l,c){const f=s.value.clone(),p=Ky(s.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Yo?function(s,l,c){if(!Gu(s.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Ky(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(d_(s)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ja(n,e,t,o){return n instanceof yl?function(l,c,f,p){if(!Gu(l.precondition,c))return f;const m=l.value.clone(),w=Qy(l.fieldTransforms,p,c);return m.setAll(w),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,o):n instanceof Yo?function(l,c,f,p){if(!Gu(l.precondition,c))return f;const m=Qy(l.fieldTransforms,p,c),w=c.data;return w.setAll(d_(l)),w.setAll(m),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,o):function(l,c,f){return Gu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function ox(n,e){let t=null;for(const o of n.fieldTransforms){const s=e.data.field(o.field),l=l_(o.transform,s||null);l!=null&&(t===null&&(t=yr.empty()),t.set(o.field,l))}return t||null}function Wy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&$s(o,s,(l,c)=>nx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yl extends Lc{constructor(e,t,o,s=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yo extends Lc{constructor(e,t,o,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function d_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=n.data.field(t);e.set(t,o)}}),e}function Ky(n,e,t){const o=new Map;Tt(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,f=e.data.field(l.field);o.set(l.field,tx(c,f,t[s]))}return o}function Qy(n,e,t){const o=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);o.set(s.field,ex(l,c,e))}return o}class Od extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sx extends Lc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&ix(l,e,o[s])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ja(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ja(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=s_();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(s.key)?null:f;const p=f_(c,f);p!==null&&o.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(We.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(t,o)=>Wy(t,o))&&$s(this.baseMutations,e.baseMutations,(t,o)=>Wy(t,o))}}class Md{constructor(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}static from(e,t,o){Tt(e.mutations.length===o.length);let s=function(){return GA}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,o[c].version);return new Md(e,t,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ft;function cx(n){switch(n){case le.OK:return Ue();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ue()}}function p_(n){if(n===void 0)return Ai("GRPC error has no .code"),le.UNKNOWN;switch(n){case Qt.OK:return le.OK;case Qt.CANCELLED:return le.CANCELLED;case Qt.UNKNOWN:return le.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return le.INTERNAL;case Qt.UNAVAILABLE:return le.UNAVAILABLE;case Qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Qt.NOT_FOUND:return le.NOT_FOUND;case Qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Qt.ABORTED:return le.ABORTED;case Qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Qt.DATA_LOSS:return le.DATA_LOSS;default:return Ue()}}(ft=Qt||(Qt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new oo([4294967295,4294967295],0);function Gy(n){const e=hx().encode(n),t=new N0;return t.update(e),new Uint8Array(t.digest())}function Yy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new oo([t,o],0),new oo([s,l],0)]}class Fd{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Ka(`Invalid padding: ${t}`);if(o<0)throw new Ka(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${o}`);if(e.length===0&&t!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=oo.fromNumber(this.Ee)}Ae(e,t,o){let s=e.add(t.multiply(oo.fromNumber(o)));return s.compare(fx)===1&&(s=new oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Gy(e),[o,s]=Yy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(o,s,l);if(!this.Re(c))return!1}return!0}static create(e,t,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Fd(l,s,t);return o.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const t=Gy(e),[o,s]=Yy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(o,s,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),o=e%8;this.bitmap[t]|=1<<o}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,o,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const s=new Map;return s.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Vc(We.min(),s,new Bt(at),xi(),it())}}class vl{constructor(e,t,o,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new vl(o,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t,o,s){this.me=e,this.removedTargetIds=t,this.key=o,this.fe=s}}class m_{constructor(e,t){this.targetId=e,this.ge=t}}class g_{constructor(e,t,o=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=s}}class Xy{constructor(){this.pe=0,this.ye=Jy(),this.we=vn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=it(),t=it(),o=it();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:Ue()}}),new vl(this.we,this.Se,e,t,o)}Me(){this.be=!1,this.ye=Jy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Tt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class dx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=Fu(),this.Ke=Fu(),this.Ue=new Bt(at)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const o=this.He(t);switch(e.state){case 0:this.Je(t)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(t);break;case 3:this.Je(t)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),o.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((o,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,o=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(Jf(l))if(o===0){const c=new Ve(l.path);this.ze(t,c,Pn.newNoDocument(c,We.min()))}else Tt(o===1);else{const c=this.et(t);if(c!==o){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=t;let c,f;try{c=co(o).toUint8Array()}catch(p){if(p instanceof j0)return zs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Fd(c,s,l)}catch(p){return zs(p instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,o){return t.ge.count===o-this.st(e,t.targetId)?0:2}st(e,t){const o=this.ke.getRemoteKeysForTarget(t);let s=0;return o.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&Jf(f.target)){const p=new Ve(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Pn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let o=it();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const s=new Vc(e,t,this.Ue,this.Qe,o);return this.Qe=xi(),this.$e=Fu(),this.Ke=Fu(),this.Ue=new Bt(at),s}Ge(e,t){if(!this.Je(e))return;const o=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,o),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,o){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),o&&(this.Qe=this.Qe.insert(t,o))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xy,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new en(at),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new en(at),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Fu(){return new Bt(Ve.comparator)}function Jy(){return new Bt(Ve.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gx={and:"AND",or:"OR"};class yx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function td(n,e){return n.useProto3Json||Cc(e)?e:{value:e}}function fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vx(n,e){return fc(n,e.toTimestamp())}function ti(n){return Tt(!!n),We.fromTimestamp(function(t){const o=uo(t);return new Zt(o.seconds,o.nanos)}(n))}function Ud(n,e){return nd(n,e).canonicalString()}function nd(n,e){const t=function(s){return new Lt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function v_(n){const e=Lt.fromString(n);return Tt(S_(e)),e}function rd(n,e){return Ud(n.databaseId,e.path)}function Pf(n,e){const t=v_(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(w_(t))}function __(n,e){return Ud(n.databaseId,e)}function _x(n){const e=v_(n);return e.length===4?Lt.emptyPath():w_(e)}function id(n){return new Lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w_(n){return Tt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zy(n,e,t){return{name:rd(n,e),fields:t.value.mapValue.fields}}function wx(n,e){let t;if("targetChange"in e){e.targetChange;const o=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(m,w){return m.useProto3Json?(Tt(w===void 0||typeof w=="string"),vn.fromBase64String(w||"")):(Tt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),vn.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const w=m.code===void 0?le.UNKNOWN:p_(m.code);return new xe(w,m.message||"")}(c);t=new g_(o,s,l,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Pf(n,o.document.name),l=ti(o.document.updateTime),c=o.document.createTime?ti(o.document.createTime):We.min(),f=new yr({mapValue:{fields:o.document.fields}}),p=Pn.newFoundDocument(s,l,c,f),m=o.targetIds||[],w=o.removedTargetIds||[];t=new Yu(m,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Pf(n,o.document),l=o.readTime?ti(o.readTime):We.min(),c=Pn.newNoDocument(s,l),f=o.removedTargetIds||[];t=new Yu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Pf(n,o.document),l=o.removedTargetIds||[];t=new Yu([],l,s,null)}else{if(!("filter"in e))return Ue();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,c=new ux(s,l),f=o.targetId;t=new m_(f,c)}}return t}function Ex(n,e){let t;if(e instanceof yl)t={update:Zy(n,e.key,e.value)};else if(e instanceof Od)t={delete:rd(n,e.key)};else if(e instanceof Yo)t={update:Zy(n,e.key,e.data),updateMask:kx(e.fieldMask)};else{if(!(e instanceof sx))return Ue();t={verify:rd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,c){const f=c.transform;if(f instanceof cc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ul)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hc)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ue()}(0,o))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:vx(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue()}(n,e.precondition)),t}function Tx(n,e){return n&&n.length>0?(Tt(e!==void 0),n.map(t=>function(s,l){let c=s.updateTime?ti(s.updateTime):ti(l);return c.isEqual(We.min())&&(c=ti(l)),new rx(c,s.transformResults||[])}(t,e))):[]}function Sx(n,e){return{documents:[__(n,e.path)]}}function Ix(n,e){const t={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),t.structuredQuery.from=[{collectionId:o.lastSegment()}]),t.parent=__(n,s);const l=function(m){if(m.length!==0)return T_(Lr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(w=>function(A){return{field:Os(A.field),direction:xx(A.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=td(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:s}}function Rx(n){let e=_x(n.parent);const t=n.structuredQuery,o=t.from?t.from.length:0;let s=null;if(o>0){Tt(o===1);const w=t.from[0];w.allDescendants?s=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(I){const A=E_(I);return A instanceof Lr&&X0(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(I){return I.map(A=>function(C){return new ll(Ms(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(I){let A;return A=typeof I=="object"?I.value:I,Cc(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(I){const A=!!I.before,R=I.values||[];return new uc(R,A)}(t.startAt));let m=null;return t.endAt&&(m=function(I){const A=!I.before,R=I.values||[];return new uc(R,A)}(t.endAt)),HA(e,s,c,l,f,"F",p,m)}function Ax(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function E_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=Ms(t.unaryFilter.field);return Gt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Ms(t.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ms(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ms(t.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Gt.create(Ms(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(o=>E_(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function xx(n){return px[n]}function Cx(n){return mx[n]}function Px(n){return gx[n]}function Os(n){return{fieldPath:n.canonicalString()}}function Ms(n){return yn.fromServerFormat(n.fieldPath)}function T_(n){return n instanceof Gt?function(t){if(t.op==="=="){if(By(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(By(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NOT_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(t.field),op:Cx(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const o=t.getFilters().map(s=>T_(s));return o.length===1?o[0]:{compositeFilter:{op:Px(t.op),filters:o}}}(n):Ue()}function kx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function S_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,o,s,l=We.min(),c=We.min(),f=vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.Tt=e}}function Dx(n){const e=Rx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Tn=new Vx}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(lo.min())}updateCollectionGroup(e,t,o){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Vx{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new en(Lt.comparator),l=!s.has(o);return this.index[t]=s.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)}getEntries(e){return(this.index[e]||new en(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I_=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(I_,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ws(0)}static Un(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",bx=1048576;function nv([n,e],[t,o]){const s=at(n,t);return s===0?at(e,o):s}class Ox{constructor(e){this.Hn=e,this.buffer=new en(nv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();nv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mx{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(tv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){na(t)?Ae(tv,"Ignoring IndexedDB error during garbage collection: ",t):await ta(t)}await this.er(3e5)})}}class Fx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(xc.ae);const o=new Ox(t);return this.tr.forEachTarget(e,s=>o.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>o.Zn(s))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.tr.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ev)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let o,s,l,c,f,p,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),s=this.params.maximumSequenceNumbersToCollect):s=I,c=Date.now(),this.nthSequenceNumber(e,s))).next(I=>(o=I,f=Date.now(),this.removeTargets(e,o,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,o))).next(I=>(m=Date.now(),Vs()<=dt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(m-p)+`ms
Total Duration: ${m-w}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:I})))}}function Ux(n,e){return new Fx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.changes=new Go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return o!==void 0?ue.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,o,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(o!==null&&Ja(o.mutation,s,Nr.empty(),Zt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,it()).next(()=>o))}getLocalViewOfDocuments(e,t,o=it()){const s=Bo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,o).next(l=>{let c=Wa();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const o=Bo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,it()))}populateOverlays(e,t,o){const s=[];return o.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,o,s){let l=xi();const c=Xa(),f=function(){return Xa()}();return t.forEach((p,m)=>{const w=o.get(m.key);s.has(m.key)&&(w===void 0||w.mutation instanceof Yo)?l=l.insert(m.key,m):w!==void 0?(c.set(m.key,w.mutation.getFieldMask()),Ja(w.mutation,m,w.mutation.getFieldMask(),Zt.now())):c.set(m.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,w)=>c.set(m,w)),t.forEach((m,w)=>{var I;return f.set(m,new jx(w,(I=c.get(m))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const o=Xa();let s=new Bt((c,f)=>c-f),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let w=o.get(p)||Nr.empty();w=f.applyToLocalView(m,w),o.set(p,w);const I=(s.get(f.batchId)||it()).add(p);s=s.insert(f.batchId,I)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,w=p.value,I=s_();w.forEach(A=>{if(!l.has(A)){const R=f_(t.get(A),o.get(A));R!==null&&I.set(A,R),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,I))}return ue.waitFor(c)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o,s){return function(c){return Ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):t_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o,s):this.getDocumentsMatchingCollectionQuery(e,t,o,s)}getNextDocuments(e,t,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,s-l.size):ue.resolve(Bo());let f=il,p=l;return c.next(m=>ue.forEach(m,(w,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(w)?ue.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{p=p.insert(w,A)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,it())).next(w=>({batchId:f,changes:o_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(o=>{let s=Wa();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,o,s){const l=t.collectionGroup;let c=Wa();return this.indexManager.getCollectionParents(e,l).next(f=>ue.forEach(f,p=>{const m=function(I,A){return new ra(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,o,s).next(w=>{w.forEach((I,A)=>{c=c.insert(I,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l,s))).next(c=>{l.forEach((p,m)=>{const w=m.getKey();c.get(w)===null&&(c=c.insert(w,Pn.newInvalidDocument(w)))});let f=Wa();return c.forEach((p,m)=>{const w=l.get(p);w!==void 0&&Ja(w.mutation,m,Nr.empty(),Zt.now()),Nc(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:Dx(s.bundledQuery),readTime:ti(s.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.overlays=new Bt(Ve.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Bo();return ue.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((s,l)=>{this.Et(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,o){const s=this.Rr.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(o)),ue.resolve()}getOverlaysForCollection(e,t,o){const s=Bo(),l=t.length+1,c=new Ve(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>o&&s.set(p.getKey(),p)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,o,s){let l=new Bt((m,w)=>m-w);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>o){let w=l.get(m.largestBatchId);w===null&&(w=Bo(),l=l.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const f=Bo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,w)=>f.set(m,w)),!(f.size()>=s)););return ue.resolve(f)}Et(e,t,o){const s=this.overlays.get(o.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(o.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(o.key,new lx(t,o));let l=this.Rr.get(t);l===void 0&&(l=it(),this.Rr.set(t,l)),this.Rr.set(t,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.Vr=new en(ln.mr),this.gr=new en(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const o=new ln(e,t);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.wr(new ln(e,t))}Sr(e,t){e.forEach(o=>this.removeReference(o,t))}br(e){const t=new Ve(new Lt([])),o=new ln(t,e),s=new ln(t,e+1),l=[];return this.gr.forEachInRange([o,s],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ve(new Lt([])),o=new ln(t,e),s=new ln(t,e+1);let l=it();return this.gr.forEachInRange([o,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new ln(e,0),o=this.Vr.firstAfterOrEqual(t);return o!==null&&e.isEqual(o.key)}}class ln{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ve.comparator(e.key,t.key)||at(e.Cr,t.Cr)}static pr(e,t){return at(e.Cr,t.Cr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new en(ln.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,o,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ax(l,t,o,s);this.mutationQueue.push(c);for(const f of s)this.Mr=this.Mr.add(new ln(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,s=this.Nr(o),l=s<0?0:s;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Pd:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([o,s],c=>{const f=this.Or(c.Cr);l.push(f)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new en(at);return t.forEach(s=>{const l=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{o=o.add(f.Cr)})}),ue.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,s=o.length+1;let l=o;Ve.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ve(l),0);let f=new en(at);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!o.isPrefixOf(m)&&(m.length===s&&(f=f.add(p.Cr)),!0)},c),ue.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(o=>{const s=this.Or(o);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Tt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Mr;return ue.forEach(t.mutations,s=>{const l=new ln(s.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,t){const o=new ln(t,0),s=this.Mr.firstAfterOrEqual(o);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.kr=e,this.docs=function(){return new Bt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,s=this.docs.get(o),l=s?s.size:0,c=this.kr(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ue.resolve(o?o.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let o=xi();return t.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():Pn.newInvalidDocument(s))}),ue.resolve(o)}getDocumentsMatchingQuery(e,t,o,s){let l=xi();const c=t.path,f=new Ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:w}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||TA(EA(w),o)<=0||(s.has(w.key)||Nc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,o,s){Ue()}qr(e,t){return ue.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Qx(this)}getSize(e){return ue.resolve(this.size)}}class Qx extends Bx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(o)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.persistence=e,this.Qr=new Go(t=>Dd(t),Ld),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Bd,this.targetCount=0,this.Ur=Ws.Kn()}forEachTarget(e,t){return this.Qr.forEach((o,s)=>t(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ws(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,o){let s=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=t&&o.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ue.waitFor(l).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const o=this.Qr.get(t)||null;return ue.resolve(o)}addMatchingKeys(e,t,o){return this.Kr.yr(t,o),ue.resolve()}removeMatchingKeys(e,t,o){this.Kr.Sr(t,o);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Kr.vr(t);return ue.resolve(o)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new xc(0),this.zr=!1,this.zr=!0,this.jr=new qx,this.referenceDelegate=e(this),this.Hr=new Gx(this),this.indexManager=new Lx,this.remoteDocumentCache=function(s){return new Kx(s)}(o=>this.referenceDelegate.Jr(o)),this.serializer=new Nx(t),this.Yr=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Wr[e.toKey()];return o||(o=new Wx(t,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,o){Ae("MemoryPersistence","Starting transaction:",e);const s=new Yx(this.Gr.next());return this.referenceDelegate.Zr(),o(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return ue.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,t)))}}class Yx extends IA{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.ti=new Bd,this.ni=null}static ri(e){return new jd(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,o){return this.ti.addReference(o,t),this.ii.delete(o.toString()),ue.resolve()}removeReference(e,t,o){return this.ti.removeReference(o,t),this.ii.add(o.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,o=>{const s=Ve.fromPath(o);return this.si(e,s).next(l=>{l||t.removeEntry(s,We.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(o=>{o?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dc{constructor(e,t){this.persistence=e,this.oi=new Go(o=>xA(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=Ux(this,t)}static ri(e,t){return new dc(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>t.next(s=>o+s))}sr(e){let t=0;return this.rr(e,o=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(o,s)=>this.ar(e,o,s).next(l=>l?ue.resolve():t(s)))}removeTargets(e,t,o){return this.persistence.getTargetCache().removeTargets(e,t,o)}removeOrphanedDocuments(e,t){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,t).next(f=>{f||(o++,l.removeEntry(c,We.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,t,o){return this.oi.set(o,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,o){return this.oi.set(o,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ku(e.data.value)),t}ar(e,t,o){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ue.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,o,s){this.targetId=e,this.fromCache=t,this.Hi=o,this.Ji=s}static Yi(e,t){let o=it(),s=it();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new zd(e,t.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return WI()?8:RA(HI())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,o,s){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,s,o).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Xx;return this._s(e,t,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,c,f.size)})}).next(()=>l.result)}us(e,t,o,s){return o.documentReadCount<this.es?(Vs()<=dt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",bs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Vs()<=dt.DEBUG&&Ae("QueryEngine","Query:",bs(t),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.ts*s?(Vs()<=dt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",bs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):ue.resolve())}rs(e,t){if(Hy(t))return ue.resolve(null);let o=Zr(t);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ed(t,null,"F"),o=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const c=it(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,o).next(p=>{const m=this.cs(t,f);return this.ls(t,m,c,p.readTime)?this.rs(e,ed(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,o,s){return Hy(t)||s.isEqual(We.min())?ue.resolve(null):this.ns.getDocuments(e,o).next(l=>{const c=this.cs(t,l);return this.ls(t,c,o,s)?ue.resolve(null):(Vs()<=dt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bs(t)),this.hs(e,c,t,wA(s,il)).next(f=>f))})}cs(e,t){let o=new en(r_(e));return t.forEach((s,l)=>{Nc(e,l)&&(o=o.add(l))}),o}ls(e,t,o,s){if(e.limit===null)return!1;if(o.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,o){return Vs()<=dt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",bs(t)),this.ns.getDocumentsMatchingQuery(e,t,lo.min(),o)}hs(e,t,o,s){return this.ns.getDocumentsMatchingQuery(e,o,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",Zx=3e8;class eC{constructor(e,t,o,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Bt(at),this.Is=new Go(l=>Dd(l),Ld),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function tC(n,e,t,o){return new eC(n,e,t,o)}async function A_(n,e){const t=Qe(n);return await t.persistence.runTransaction("Handle user change","readonly",o=>{let s;return t.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const c=[],f=[];let p=it();for(const m of s){c.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}for(const m of l){f.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(o,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function nC(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,w){const I=m.batch,A=I.keys();let R=ue.resolve();return A.forEach(C=>{R=R.next(()=>w.getEntry(p,C)).next(O=>{const D=m.docVersions.get(C);Tt(D!==null),O.version.compareTo(D)<0&&(I.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),w.addEntry(O)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let p=it();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(o,s))})}function x_(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function rC(n,e){const t=Qe(n),o=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const f=[];e.targetChanges.forEach((w,I)=>{const A=s.get(I);if(!A)return;f.push(t.Hr.removeMatchingKeys(l,w.removedDocuments,I).next(()=>t.Hr.addMatchingKeys(l,w.addedDocuments,I)));let R=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?R=R.withResumeToken(vn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,o)),s=s.insert(I,R),function(O,D,W){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Zx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(A,R,w)&&f.push(t.Hr.updateTargetData(l,R))});let p=xi(),m=it();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(iC(l,c,e.documentUpdates).next(w=>{p=w.Vs,m=w.fs})),!o.isEqual(We.min())){const w=t.Hr.getLastRemoteSnapshotVersion(l).next(I=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,o));f.push(w)}return ue.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=s,l))}function iC(n,e,t){let o=it(),s=it();return t.forEach(l=>o=o.add(l)),e.getEntries(n,o).next(l=>{let c=xi();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(We.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Ae($d,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:s}})}function oC(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=Pd),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function sC(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return t.Hr.getTargetData(o,e).next(l=>l?(s=l,ue.resolve(s)):t.Hr.allocateTargetId(o).next(c=>(s=new no(e,c,"TargetPurposeListen",o.currentSequenceNumber),t.Hr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=t.Ts.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(o.targetId,o),t.Is.set(e,o.targetId)),o})}async function od(n,e,t){const o=Qe(n),s=o.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await o.persistence.runTransaction("Release target",l,c=>o.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!na(c))throw c;Ae($d,`Failed to update sequence numbers for target ${e}: ${c}`)}o.Ts=o.Ts.remove(e),o.Is.delete(s.target)}function rv(n,e,t){const o=Qe(n);let s=We.min(),l=it();return o.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,w){const I=Qe(p),A=I.Is.get(w);return A!==void 0?ue.resolve(I.Ts.get(A)):I.Hr.getTargetData(m,w)}(o,c,Zr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>o.Ps.getDocumentsMatchingQuery(c,e,t?s:We.min(),t?l:it())).next(f=>(aC(o,WA(e),f),{documents:f,gs:l})))}function aC(n,e,t){let o=n.Es.get(e)||We.min();t.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),n.Es.set(e,o)}class iv{constructor(){this.activeTargetIds=JA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this.ho=new iv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,o){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new iv,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="ConnectivityMonitor";class sv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(ov,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function sd(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",cC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${o}/databases/${s}`,this.wo=this.databaseId.database===ac?`project_id=${o}`:`project_id=${o}&database_id=${s}`}So(e,t,o,s,l){const c=sd(),f=this.bo(e,t.toUriEncodedString());Ae(kf,`Sending RPC '${e}' ${c}:`,f,o);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,s,l),this.vo(e,f,p,o).then(m=>(Ae(kf,`Received RPC '${e}' ${c}: `,m),m),m=>{throw zs(kf,`RPC '${e}' ${c} failed with error: `,m,"url: ",f,"request:",o),m})}Co(e,t,o,s,l,c){return this.So(e,t,o,s,l)}Do(e,t,o){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),o&&o.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const o=cC[e];return`${this.po}/v1/${t}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class dC extends hC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,o,s){const l=sd();return new Promise((c,f)=>{const p=new D0;p.setWithCredentials(!0),p.listenOnce(L0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wu.NO_ERROR:const w=p.getResponseJson();Ae(xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case Wu.TIMEOUT:Ae(xn,`RPC '${e}' ${l} timed out`),f(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const I=p.getStatus();if(Ae(xn,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const C=function(D){const W=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(W)>=0?W:le.UNKNOWN}(R.status);f(new xe(C,R.message))}else f(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Ae(xn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);Ae(xn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",m,o,15)})}Wo(e,t,o){const s=sd(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=O0(),f=b0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,o),p.encodeInitMessageHeaders=!0;const w=l.join("");Ae(xn,`Creating RPC '${e}' stream ${s}: ${w}`,p);const I=c.createWebChannel(w,p);let A=!1,R=!1;const C=new fC({Fo:D=>{R?Ae(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(A||(Ae(xn,`Opening RPC '${e}' stream ${s} transport.`),I.open(),A=!0),Ae(xn,`RPC '${e}' stream ${s} sending:`,D),I.send(D))},Mo:()=>I.close()}),O=(D,W,Z)=>{D.listen(W,ie=>{try{Z(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return O(I,qa.EventType.OPEN,()=>{R||(Ae(xn,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),O(I,qa.EventType.CLOSE,()=>{R||(R=!0,Ae(xn,`RPC '${e}' stream ${s} transport closed`),C.Ko())}),O(I,qa.EventType.ERROR,D=>{R||(R=!0,zs(xn,`RPC '${e}' stream ${s} transport errored:`,D),C.Ko(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),O(I,qa.EventType.MESSAGE,D=>{var W;if(!R){const Z=D.data[0];Tt(!!Z);const ie=Z,pe=(ie==null?void 0:ie.error)||((W=ie[0])===null||W===void 0?void 0:W.error);if(pe){Ae(xn,`RPC '${e}' stream ${s} received error:`,pe);const ce=pe.status;let $=function(N){const M=Qt[N];if(M!==void 0)return p_(M)}(ce),b=pe.message;$===void 0&&($=le.INTERNAL,b="Unknown error status: "+ce+" with message "+pe.message),R=!0,C.Ko(new xe($,b)),I.close()}else Ae(xn,`RPC '${e}' stream ${s} received:`,Z),C.Uo(Z)}}),O(f,V0.STAT_EVENT,D=>{D.stat===Qf.PROXY?Ae(xn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Qf.NOPROXY&&Ae(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){return new yx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t,o=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=o,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-o);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class P_{constructor(e,t,o,s,l,c,f,p){this.Ti=e,this.n_=o,this.r_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new C_(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.i_===t&&this.V_(o,s)},o=>{e(()=>{const s=new xe(le.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(s)})})}V_(e,t){const o=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{o(()=>this.m_(s))}),this.stream.onMessage(s=>{o(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ae(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pC extends P_{constructor(e,t,o,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,s,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=wx(this.serializer,e),o=function(l){if(!("targetChange"in l))return We.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?We.min():c.readTime?ti(c.readTime):We.min()}(e);return this.listener.p_(t,o)}y_(e){const t={};t.database=id(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=Jf(p)?{documents:Sx(l,p)}:{query:Ix(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=y_(l,c.resumeToken);const m=td(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(We.min())>0){f.readTime=fc(l,c.snapshotVersion.toTimestamp());const m=td(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const o=Ax(this.serializer,e);o&&(t.labels=o),this.I_(t)}w_(e){const t={};t.database=id(this.serializer),t.removeTarget=e,this.I_(t)}}class mC extends P_{constructor(e,t,o,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,s,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Tx(e.writeResults,e.commitTime),o=ti(e.commitTime);return this.listener.v_(o,t)}C_(){const e={};e.database=id(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ex(this.serializer,o))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class yC extends gC{constructor(e,t,o,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,o,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,nd(t,o),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(le.UNKNOWN,l.toString())})}Co(e,t,o,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,nd(t,o),s,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(le.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ai(t),this.N_=!1):Ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="RemoteStore";class _C{constructor(e,t,o,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{o.enqueueAndForget(async()=>{Xo(this)&&(Ae(Ho,"Restarting streams for network reachability change."),await async function(p){const m=Qe(p);m.W_.add(4),await _l(m),m.j_.set("Unknown"),m.W_.delete(4),await Oc(m)}(this))})}),this.j_=new vC(o,s)}}async function Oc(n){if(Xo(n))for(const e of n.G_)await e(!0)}async function _l(n){for(const e of n.G_)await e(!1)}function k_(n,e){const t=Qe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Kd(t)?Wd(t):ia(t).c_()&&qd(t,e))}function Hd(n,e){const t=Qe(n),o=ia(t);t.U_.delete(e),o.c_()&&N_(t,e),t.U_.size===0&&(o.c_()?o.P_():Xo(t)&&t.j_.set("Unknown"))}function qd(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).y_(e)}function N_(n,e){n.H_.Ne(e),ia(n).w_(e)}function Wd(n){n.H_=new dx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.j_.B_()}function Kd(n){return Xo(n)&&!ia(n).u_()&&n.U_.size>0}function Xo(n){return Qe(n).W_.size===0}function D_(n){n.H_=void 0}async function wC(n){n.j_.set("Online")}async function EC(n){n.U_.forEach((e,t)=>{qd(n,e)})}async function TC(n,e){D_(n),Kd(n)?(n.j_.q_(e),Wd(n)):n.j_.set("Unknown")}async function SC(n,e,t){if(n.j_.set("Online"),e instanceof g_&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const f of l.targetIds)s.U_.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.U_.delete(f),s.H_.removeTarget(f))}(n,e)}catch(o){Ae(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await pc(n,o)}else if(e instanceof Yu?n.H_.We(e):e instanceof m_?n.H_.Ze(e):n.H_.je(e),!t.isEqual(We.min()))try{const o=await x_(n.localStore);t.compareTo(o)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.U_.get(m);w&&l.U_.set(m,w.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const w=l.U_.get(p);if(!w)return;l.U_.set(p,w.withResumeToken(vn.EMPTY_BYTE_STRING,w.snapshotVersion)),N_(l,p);const I=new no(w.target,p,m,w.sequenceNumber);qd(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(o){Ae(Ho,"Failed to raise snapshot:",o),await pc(n,o)}}async function pc(n,e,t){if(!na(e))throw e;n.W_.add(1),await _l(n),n.j_.set("Offline"),t||(t=()=>x_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Ho,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Oc(n)})}function L_(n,e){return e().catch(t=>pc(n,t,e))}async function Mc(n){const e=Qe(n),t=fo(e);let o=e.K_.length>0?e.K_[e.K_.length-1].batchId:Pd;for(;IC(e);)try{const s=await oC(e.localStore,o);if(s===null){e.K_.length===0&&t.P_();break}o=s.batchId,RC(e,s)}catch(s){await pc(e,s)}V_(e)&&b_(e)}function IC(n){return Xo(n)&&n.K_.length<10}function RC(n,e){n.K_.push(e);const t=fo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function V_(n){return Xo(n)&&!fo(n).u_()&&n.K_.length>0}function b_(n){fo(n).start()}async function AC(n){fo(n).C_()}async function xC(n){const e=fo(n);for(const t of n.K_)e.b_(t.mutations)}async function CC(n,e,t){const o=n.K_.shift(),s=Md.from(o,e,t);await L_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Mc(n)}async function PC(n,e){e&&fo(n).S_&&await async function(o,s){if(function(c){return cx(c)&&c!==le.ABORTED}(s.code)){const l=o.K_.shift();fo(o).h_(),await L_(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Mc(o)}}(n,e),V_(n)&&b_(n)}async function lv(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Ho,"RemoteStore received new credentials");const o=Xo(t);t.W_.add(3),await _l(t),o&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Oc(t)}async function kC(n,e){const t=Qe(n);e?(t.W_.delete(2),await Oc(t)):e||(t.W_.add(2),await _l(t),t.j_.set("Unknown"))}function ia(n){return n.J_||(n.J_=function(t,o,s){const l=Qe(t);return l.M_(),new pC(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:wC.bind(null,n),No:EC.bind(null,n),Lo:TC.bind(null,n),p_:SC.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Kd(n)?Wd(n):n.j_.set("Unknown")):(await n.J_.stop(),D_(n))})),n.J_}function fo(n){return n.Y_||(n.Y_=function(t,o,s){const l=Qe(t);return l.M_(),new mC(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:AC.bind(null,n),Lo:PC.bind(null,n),D_:xC.bind(null,n),v_:CC.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Mc(n)):(await n.Y_.stop(),n.K_.length>0&&(Ae(Ho,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,o,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,o,s,l){const c=Date.now()+o,f=new Qd(e,t,c,s,l);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),na(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ve.comparator(t.key,o.key):(t,o)=>Ve.comparator(t.key,o.key),this.keyedMap=Wa(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const o=new Us;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.Z_=new Bt(Ve.comparator)}track(e){const t=e.doc.key,o=this.Z_.get(t);o?e.type!==0&&o.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&o.type!==1?this.Z_=this.Z_.insert(t,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Z_=this.Z_.remove(t):e.type===1&&o.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ks{constructor(e,t,o,s,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,o,s,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Ks(e,t,Us.emptySet(t),c,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class DC{constructor(){this.queries=cv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,o){const s=Qe(t),l=s.queries;s.queries=cv(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(o)})})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function cv(){return new Go(n=>n_(n),kc)}async function O_(n,e){const t=Qe(n);let o=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(o=2):(l=new NC,o=e.ra()?0:1);try{switch(o){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=Gd(c,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Yd(t)}async function M_(n,e){const t=Qe(n),o=e.query;let s=3;const l=t.queries.get(o);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(o),t.onUnlisten(o,!0);case 1:return t.queries.delete(o),t.onUnlisten(o,!1);case 2:return t.onLastRemoteStoreUnlisten(o);default:return}}function LC(n,e){const t=Qe(n);let o=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const f of c.ta)f.oa(s)&&(o=!0);c.ea=s}}o&&Yd(t)}function VC(n,e,t){const o=Qe(n),s=o.queries.get(e);if(s)for(const l of s.ta)l.onError(t);o.queries.delete(e)}function Yd(n){n.ia.forEach(e=>{e.next()})}var ad,hv;(hv=ad||(ad={}))._a="default",hv.Cache="cache";class F_{constructor(e,t,o){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new Ks(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const o=t!=="Offline";return(!this.options.Ta||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.key=e}}class B_{constructor(e){this.key=e}}class bC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=it(),this.mutatedKeys=it(),this.ya=r_(e),this.wa=new Us(this.ya)}get Sa(){return this.fa}ba(e,t){const o=t?t.Da:new uv,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((w,I)=>{const A=s.get(w),R=Nc(this.query,I)?I:null,C=!!A&&this.mutatedKeys.has(A.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;A&&R?A.data.isEqual(R.data)?C!==O&&(o.track({type:3,doc:R}),D=!0):this.va(A,R)||(o.track({type:2,doc:R}),D=!0,(p&&this.ya(R,p)>0||m&&this.ya(R,m)<0)&&(f=!0)):!A&&R?(o.track({type:0,doc:R}),D=!0):A&&!R&&(o.track({type:1,doc:A}),D=!0,(p||m)&&(f=!0)),D&&(R?(c=c.add(R),l=O?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),o.track({type:1,doc:w})}return{wa:c,Da:o,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((w,I)=>function(R,C){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return O(R)-O(C)}(w.type,I.type)||this.ya(w.doc,I.doc)),this.Ca(o),s=s!=null&&s;const f=t&&!s?this.Fa():[],p=this.pa.size===0&&this.current&&!s?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Ks(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=it(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const t=[];return e.forEach(o=>{this.pa.has(o)||t.push(new B_(o))}),this.pa.forEach(o=>{e.has(o)||t.push(new U_(o))}),t}Oa(e){this.fa=e.gs,this.pa=it();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ks.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xd="SyncEngine";class OC{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class MC{constructor(e){this.key=e,this.Ba=!1}}class FC{constructor(e,t,o,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Go(f=>n_(f),kc),this.qa=new Map,this.Qa=new Set,this.$a=new Bt(Ve.comparator),this.Ka=new Map,this.Ua=new Bd,this.Wa={},this.Ga=new Map,this.za=Ws.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function UC(n,e,t=!0){const o=W_(n);let s;const l=o.ka.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await j_(o,e,t,!0),s}async function BC(n,e){const t=W_(n);await j_(t,e,!0,!1)}async function j_(n,e,t,o){const s=await sC(n.localStore,Zr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return o&&(f=await jC(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&k_(n.remoteStore,s),f}async function jC(n,e,t,o,s){n.Ha=(I,A,R)=>async function(O,D,W,Z){let ie=D.view.ba(W);ie.ls&&(ie=await rv(O.localStore,D.query,!1).then(({documents:b})=>D.view.ba(b,ie)));const pe=Z&&Z.targetChanges.get(D.targetId),ce=Z&&Z.targetMismatches.get(D.targetId)!=null,$=D.view.applyChanges(ie,O.isPrimaryClient,pe,ce);return dv(O,D.targetId,$.Ma),$.snapshot}(n,I,A,R);const l=await rv(n.localStore,e,!0),c=new bC(e,l.gs),f=c.ba(l.documents),p=vl.createSynthesizedTargetChangeForCurrentChange(t,o&&n.onlineState!=="Offline",s),m=c.applyChanges(f,n.isPrimaryClient,p);dv(n,t,m.Ma);const w=new OC(e,t,c);return n.ka.set(e,w),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function zC(n,e,t){const o=Qe(n),s=o.ka.get(e),l=o.qa.get(s.targetId);if(l.length>1)return o.qa.set(s.targetId,l.filter(c=>!kc(c,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await od(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),t&&Hd(o.remoteStore,s.targetId),ld(o,s.targetId)}).catch(ta)):(ld(o,s.targetId),await od(o.localStore,s.targetId,!0))}async function $C(n,e){const t=Qe(n),o=t.ka.get(e),s=t.qa.get(o.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(o.targetId),Hd(t.remoteStore,o.targetId))}async function HC(n,e,t){const o=XC(n);try{const s=await function(c,f){const p=Qe(c),m=Zt.now(),w=f.reduce((R,C)=>R.add(C.key),it());let I,A;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=xi(),O=it();return p.ds.getEntries(R,w).next(D=>{C=D,C.forEach((W,Z)=>{Z.isValidDocument()||(O=O.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,C)).next(D=>{I=D;const W=[];for(const Z of f){const ie=ox(Z,I.get(Z.key).overlayedDocument);ie!=null&&W.push(new Yo(Z.key,ie,Q0(ie.value.mapValue),ei.exists(!0)))}return p.mutationQueue.addMutationBatch(R,m,W,f)}).next(D=>{A=D;const W=D.applyToLocalDocumentSet(I,O);return p.documentOverlayCache.saveOverlays(R,D.batchId,W)})}).then(()=>({batchId:A.batchId,changes:o_(I)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Bt(at)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(o,s.batchId,t),await wl(o,s.changes),await Mc(o.remoteStore)}catch(s){const l=Gd(s,"Failed to persist write");t.reject(l)}}async function z_(n,e){const t=Qe(n);try{const o=await rC(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Ka.get(l);c&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?Tt(c.Ba):s.removedDocuments.size>0&&(Tt(c.Ba),c.Ba=!1))}),await wl(t,o,e)}catch(o){await ta(o)}}function fv(n,e,t){const o=Qe(n);if(o.isPrimaryClient&&t===0||!o.isPrimaryClient&&t===1){const s=[];o.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const p=Qe(c);p.onlineState=f;let m=!1;p.queries.forEach((w,I)=>{for(const A of I.ta)A.sa(f)&&(m=!0)}),m&&Yd(p)}(o.eventManager,e),s.length&&o.La.p_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function qC(n,e,t){const o=Qe(n);o.sharedClientState.updateQueryState(e,"rejected",t);const s=o.Ka.get(e),l=s&&s.key;if(l){let c=new Bt(Ve.comparator);c=c.insert(l,Pn.newNoDocument(l,We.min()));const f=it().add(l),p=new Vc(We.min(),new Map,new Bt(at),c,f);await z_(o,p),o.$a=o.$a.remove(l),o.Ka.delete(e),Jd(o)}else await od(o.localStore,e,!1).then(()=>ld(o,e,t)).catch(ta)}async function WC(n,e){const t=Qe(n),o=e.batch.batchId;try{const s=await nC(t.localStore,e);H_(t,o,null),$_(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),await wl(t,s)}catch(s){await ta(s)}}async function KC(n,e,t){const o=Qe(n);try{const s=await function(c,f){const p=Qe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let w;return p.mutationQueue.lookupMutationBatch(m,f).next(I=>(Tt(I!==null),w=I.keys(),p.mutationQueue.removeMutationBatch(m,I))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w)).next(()=>p.localDocuments.getDocuments(m,w))})}(o.localStore,e);H_(o,e,t),$_(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),await wl(o,s)}catch(s){await ta(s)}}function $_(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function H_(n,e,t){const o=Qe(n);let s=o.Wa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),o.Wa[o.currentUser.toKey()]=s}}function ld(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.qa.get(e))n.ka.delete(o),t&&n.La.Ja(o,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(o=>{n.Ua.containsKey(o)||q_(n,o)})}function q_(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Hd(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Jd(n))}function dv(n,e,t){for(const o of t)o instanceof U_?(n.Ua.addReference(o.key,e),QC(n,o)):o instanceof B_?(Ae(Xd,"Document no longer in limbo: "+o.key),n.Ua.removeReference(o.key,e),n.Ua.containsKey(o.key)||q_(n,o.key)):Ue()}function QC(n,e){const t=e.key,o=t.path.canonicalString();n.$a.get(t)||n.Qa.has(o)||(Ae(Xd,"New document in limbo: "+t),n.Qa.add(o),Jd(n))}function Jd(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ve(Lt.fromString(e)),o=n.za.next();n.Ka.set(o,new MC(t)),n.$a=n.$a.insert(t,o),k_(n.remoteStore,new no(Zr(Vd(t.path)),o,"TargetPurposeLimboResolution",xc.ae))}}async function wl(n,e,t){const o=Qe(n),s=[],l=[],c=[];o.ka.isEmpty()||(o.ka.forEach((f,p)=>{c.push(o.Ha(p,e,t).then(m=>{var w;if((m||t)&&o.isPrimaryClient){const I=m?!m.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;o.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(m){s.push(m);const I=zd.Yi(p.targetId,m);l.push(I)}}))}),await Promise.all(c),o.La.p_(s),await async function(p,m){const w=Qe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ue.forEach(m,A=>ue.forEach(A.Hi,R=>w.persistence.referenceDelegate.addReference(I,A.targetId,R)).next(()=>ue.forEach(A.Ji,R=>w.persistence.referenceDelegate.removeReference(I,A.targetId,R)))))}catch(I){if(!na(I))throw I;Ae($d,"Failed to update sequence numbers: "+I)}for(const I of m){const A=I.targetId;if(!I.fromCache){const R=w.Ts.get(A),C=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(C);w.Ts=w.Ts.insert(A,O)}}}(o.localStore,l))}async function GC(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Ae(Xd,"User change. New user:",e.toKey());const o=await A_(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new xe(le.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await wl(t,o.Rs)}}function YC(n,e){const t=Qe(n),o=t.Ka.get(e);if(o&&o.Ba)return it().add(o.key);{let s=it();const l=t.qa.get(e);if(!l)return s;for(const c of l){const f=t.ka.get(c);s=s.unionWith(f.view.Sa)}return s}}function W_(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qC.bind(null,e),e.La.p_=LC.bind(null,e.eventManager),e.La.Ja=VC.bind(null,e.eventManager),e}function XC(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KC.bind(null,e),e}class mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tC(this.persistence,new Jx,e.initialUser,this.serializer)}Xa(e){return new R_(jd.ri,this.serializer)}Za(e){return new lC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mc.provider={build:()=>new mc};class JC extends mc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Tt(this.persistence.referenceDelegate instanceof dc);const o=this.persistence.referenceDelegate.garbageCollector;return new Mx(o,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new R_(o=>dc.ri(o,t),this.serializer)}}class ud{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>fv(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=GC.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DC}()}createDatastore(e){const t=bc(e.databaseInfo.databaseId),o=function(l){return new dC(l)}(e.databaseInfo);return function(l,c,f,p){return new yC(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return function(o,s,l,c,f){return new _C(o,s,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>fv(this.syncEngine,t,0),function(){return sv.D()?new sv:new uC}())}createSyncEngine(e,t){return function(s,l,c,f,p,m,w){const I=new FC(s,l,c,f,p,m);return w&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Qe(s);Ae(Ho,"RemoteStore shutting down."),l.W_.add(5),await _l(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class ZC{constructor(e,t,o,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=F0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async c=>{Ae(po,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(o,c=>(Ae(po,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const o=Gd(t,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(po,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let o=t.initialUser;n.setCredentialChangeListener(async s=>{o.isEqual(s)||(await A_(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function pv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eP(n);Ae(po,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(o=>lv(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,s)=>lv(e.remoteStore,s)),n._onlineComponents=e}async function eP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(po,"Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;zs("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new mc)}}else Ae(po,"Using default OfflineComponentProvider"),await Df(n,new JC(void 0));return n._offlineComponents}async function Q_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(po,"Using user provided OnlineComponentProvider"),await pv(n,n._uninitializedComponentsProvider._online)):(Ae(po,"Using default OnlineComponentProvider"),await pv(n,new ud))),n._onlineComponents}function tP(n){return Q_(n).then(e=>e.syncEngine)}async function G_(n){const e=await Q_(n),t=e.eventManager;return t.onListen=UC.bind(null,e.syncEngine),t.onUnlisten=zC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$C.bind(null,e.syncEngine),t}function nP(n,e,t={}){const o=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const w=new K_({next:A=>{w.su(),c.enqueueAndForget(()=>M_(l,I));const R=A.docs.has(f);!R&&A.fromCache?m.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&p&&p.source==="server"?m.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),I=new F_(Vd(f.path),w,{includeMetadataChanges:!0,Ta:!0});return O_(l,I)}(await G_(n),n.asyncQueue,e,t,o)),o.promise}function rP(n,e,t={}){const o=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const w=new K_({next:A=>{w.su(),c.enqueueAndForget(()=>M_(l,I)),A.fromCache&&p.source==="server"?m.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),I=new F_(f,w,{includeMetadataChanges:!0,Ta:!0});return O_(l,I)}(await G_(n),n.asyncQueue,e,t,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iP(n,e,t,o){if(e===!0&&o===!0)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gv(n){if(!Ve.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yv(n){if(Ve.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function mo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fc(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="firestore.googleapis.com",vv=!0;class _v{constructor(e){var t,o;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J_,this.ssl=vv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bx)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,t,o,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new fA;switch(o.type){case"firstParty":return new gA(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=mv.get(t);o&&(Ae("ComponentProvider","Removing Datastore"),mv.delete(t),o.terminate())}(this),Promise.resolve()}}function oP(n,e,t,o={}){var s;const l=(n=mo(n,Uc))._getSettings(),c=`${e}:${t}`;if(l.host!==J_&&l.host!==c&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),o.mockUserToken){let f,p;if(typeof o.mockUserToken=="string")f=o.mockUserToken,p=Cn.MOCK_USER;else{f=$I(o.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=o.mockUserToken.sub||o.mockUserToken.user_id;if(!m)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cn(m)}n._authCredentials=new dA(new M0(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Kn{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class so extends Jo{constructor(e,t,o){super(e,t,Vd(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ve(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function sP(n,e,...t){if(n=js(n),X_("collection","path",e),n instanceof Uc){const o=Lt.fromString(e,...t);return yv(o),new so(n,null,o)}{if(!(n instanceof Kn||n instanceof so))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(Lt.fromString(e,...t));return yv(o),new so(n.firestore,null,o)}}function El(n,e,...t){if(n=js(n),arguments.length===1&&(e=F0.newId()),X_("doc","path",e),n instanceof Uc){const o=Lt.fromString(e,...t);return gv(o),new Kn(n,null,new Ve(o))}{if(!(n instanceof Kn||n instanceof so))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(Lt.fromString(e,...t));return gv(o),new Kn(n.firestore,n instanceof so?n.converter:null,new Ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new C_(this,"async_queue_retry"),this.Su=()=>{const o=Nf();o&&Ae(wv,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.bu=e;const t=Nf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Nf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!na(e))throw e;Ae(wv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(o=>{this.gu=o,this.pu=!1;const s=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(o);throw Ai("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.pu=!1,o))));return this.bu=t,t}enqueueAfterDelay(e,t,o){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Qd.createAndSchedule(this,e,t,o,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Tl extends Uc{constructor(e,t,o,s){super(e,t,o,s),this.type="firestore",this._queue=new Ev,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function aP(n,e){const t=typeof n=="object"?n:ZR(),o=typeof n=="string"?n:ac,s=QR(t,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=jI("firestore");l&&oP(s,...l)}return s}function Zd(n){if(n._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lP(n),n._firestoreClient}function lP(n){var e,t,o;const s=n._freezeSettings(),l=function(f,p,m,w){return new kA(f,p,m,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Y_(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new ZC(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(vn.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qs(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^__.*__$/;class cP{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return this.fieldMask!==null?new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}function ew(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class rp{constructor(e,t,o,s,l,c){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:o,Qu:!1});return s.$u(e),s}Ku(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:o,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ew(this.Lu)&&uP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class hP{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||bc(e)}ju(e,t,o,s=!1){return new rp({Lu:e,methodName:t,zu:o,path:yn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tw(n){const e=n._freezeSettings(),t=bc(n._databaseId);return new hP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fP(n,e,t,o,s,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,s);iw("Data must be an object, but it was:",c,o);const f=nw(o,c);let p,m;if(l.merge)p=new Nr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const I of l.mergeFields){const A=pP(e,I,t);if(!c.contains(A))throw new xe(le.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);gP(w,A)||w.push(A)}p=new Nr(w),m=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,m=c.fieldTransforms;return new cP(new yr(f),p,m)}function dP(n,e,t,o=!1){return ip(t,n.ju(o?4:3,e))}function ip(n,e){if(rw(n=js(n)))return iw("Unsupported field value:",e,n),nw(n,e);if(n instanceof Z_)return function(o,s){if(!ew(s.Lu))throw s.Wu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(o,s){const l=[];let c=0;for(const f of o){let p=ip(f,s.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(o,s){if((o=js(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return ZA(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=Zt.fromDate(o);return{timestampValue:fc(s.serializer,l)}}if(o instanceof Zt){const l=new Zt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:fc(s.serializer,l)}}if(o instanceof tp)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Qs)return{bytesValue:y_(s.serializer,o._byteString)};if(o instanceof Kn){const l=s.databaseId,c=o.firestore._databaseId;if(!c.isEqual(l))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ud(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof np)return function(c,f){return{mapValue:{fields:{[W0]:{stringValue:K0},[lc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return bd(f.serializer,m)})}}}}}}(o,s);throw s.Wu(`Unsupported field value: ${Fc(o)}`)}(n,e)}function nw(n,e){const t={};return B0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(n,(o,s)=>{const l=ip(s,e.qu(o));l!=null&&(t[o]=l)}),{mapValue:{fields:t}}}function rw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof tp||n instanceof Qs||n instanceof Kn||n instanceof Z_||n instanceof np)}function iw(n,e,t){if(!rw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const o=Fc(t);throw o==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+o)}}function pP(n,e,t){if((e=js(e))instanceof ep)return e._internalPath;if(typeof e=="string")return ow(n,e);throw gc("Field path arguments must be of type string or ",n,!1,void 0,t)}const mP=new RegExp("[~\\*/\\[\\]]");function ow(n,e,t){if(e.search(mP)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ep(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gc(n,e,t,o,s){const l=o&&!o.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${o}`),c&&(p+=` in document ${s}`),p+=")"),new xe(le.INVALID_ARGUMENT,f+n+p)}function gP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,o,s,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(op("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yP extends sw{data(){return super.data()}}function op(n,e){return typeof e=="string"?ow(n,e):e instanceof ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class aw extends sp{}function _P(n,e,...t){let o=[];e instanceof sp&&o.push(e),o=o.concat(t),function(l){const c=l.filter(p=>p instanceof lp).length,f=l.filter(p=>p instanceof ap).length;if(c>1||c>0&&f>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)n=s._apply(n);return n}class ap extends aw{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new ap(e,t,o)}_apply(e){const t=this._parse(e);return lw(e._query,t),new Jo(e.firestore,e.converter,Zf(e._query,t))}_parse(e){const t=tw(e.firestore);return function(l,c,f,p,m,w,I){let A;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Sv(I,w);const C=[];for(const O of I)C.push(Tv(p,l,O));A={arrayValue:{values:C}}}else A=Tv(p,l,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Sv(I,w),A=dP(f,c,I,w==="in"||w==="not-in");return Gt.create(m,w,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class lp extends sp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lp(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const f=l.getFlattenedFilters();for(const p of f)lw(c,p),c=Zf(c,p)}(e._query,t),new Jo(e.firestore,e.converter,Zf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class up extends aw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new up(e,t)}_apply(e){const t=function(s,l,c){if(s.startAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ll(l,c)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new ra(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function wP(n,e="asc"){const t=e,o=op("orderBy",n);return up._create(o,t)}function Tv(n,e,t){if(typeof(t=js(t))=="string"){if(t==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t_(e)&&t.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Lt.fromString(t));if(!Ve.isDocumentKey(o))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Fy(n,new Ve(o))}if(t instanceof Kn)return Fy(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fc(t)}.`)}function Sv(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lw(n,e){const t=function(s,l){for(const c of s)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EP{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Qo(e,(s,l)=>{o[s]=this.convertValue(l,t)}),o}convertVectorValue(e){var t,o,s;const l=(s=(o=(t=e.fields)===null||t===void 0?void 0:t[lc].arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(c=>Ht(c.doubleValue));return new np(l)}convertGeoPoint(e){return new tp(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Pc(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=uo(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Lt.fromString(e);Tt(S_(o));const s=new sl(o.get(1),o.get(3)),l=new Ve(o.popFirst(5));return s.isEqual(t)||Ai(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(n,e,t){let o;return o=n?n.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uw extends sw{constructor(e,t,o,s,l,c){super(e,t,o,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(op("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Xu extends uw{data(e={}){return super.data(e)}}class SP{constructor(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Qa(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Xu(this._firestore,this._userDataWriter,o.key,o,new Qa(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const p=new Xu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Qa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Xu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Qa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,w=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:IP(f.type),doc:p,oldIndex:m,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function IP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){n=mo(n,Kn);const e=mo(n.firestore,Tl);return nP(Zd(e),n._key).then(t=>xP(e,n,t))}class hw extends EP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}function RP(n){n=mo(n,Jo);const e=mo(n.firestore,Tl),t=Zd(e),o=new hw(e);return vP(n._query),rP(t,n._query).then(s=>new SP(e,o,n,s))}function cp(n,e,t){n=mo(n,Kn);const o=mo(n.firestore,Tl),s=TP(n.converter,e);return fw(o,[fP(tw(o),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ei.none())])}function AP(n){return fw(mo(n.firestore,Tl),[new Od(n._key,ei.none())])}function fw(n,e){return function(o,s){const l=new Ii;return o.asyncQueue.enqueueAndForget(async()=>HC(await tP(o),s,l)),l.promise}(Zd(n),e)}function xP(n,e,t){const o=t.docs.get(e._key),s=new hw(n);return new uw(n,s,e._key,o,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ea=s})(JR),oc(new nl("firestore",(o,{instanceIdentifier:s,options:l})=>{const c=o.getProvider("app").getImmediate(),f=new Tl(new pA(o.getProvider("auth-internal")),new yA(c,o.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(m.options.projectId,w)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Fs(xy,Cy,e),Fs(xy,Cy,"esm2017")})();class CP{constructor(e,t="",o=new Set,s=0,l=[],c=[],f,p){wg(this,"toString",()=>JSON.stringify(this,null," "));this.metadata=e,this.name=t,this.tags=o,this.cooktime=s,this.ingredients=l,this.directions=c,this.image=f,this.source=p}}class PP{constructor(e="",t=""){this.name=e,this.color=t}}function kP(n){const e=new Array;return n.forEach(t=>e.push({name:t.name,measurement:{...t.measurement}})),e}function NP(n){const e=new Array;return n&&n.forEach(t=>{P1(t)&&t.name!=""&&e.push({name:t.name,measurement:{quantity:t.measurement.quantity,unit:t.measurement.unit}})}),e}const DP={toFirestore:n=>{var e,t;return{metadata:{id:(e=n.metadata)==null?void 0:e.id,timestamp:(t=n.metadata)==null?void 0:t.timestamp},name:n.name,tags:[...n.tags],cooktime:n.cooktime,ingredients:kP(n.ingredients),directions:n.directions,image:n.image||"",source:n.source||""}},fromFirestore:(n,e)=>{const{name:t,tags:o,cooktime:s,ingredients:l,directions:c,metadata:f,image:p,source:m}=n.data(e);return new CP(f,t,new Set(o),s,NP(l),c,p,m)}},LP={toFirestore:n=>({pantry:[...n.pantry],tags:Object.fromEntries(n.tags)}),fromFirestore:(n,e)=>{const{pantry:t,tags:o}=n.data(e);return{pantry:new Set(t),setPantry:()=>{},tags:new Map(Object.entries(o)),setTags:()=>{}}}};let ni,oa,hp;function Zo(){const e=C0({apiKey:"AIzaSyCEx06gteQrLyWB__TQpDbDbuR3_r3k7SY",authDomain:"cookin-cac70.firebaseapp.com",projectId:"cookin-cac70",storageBucket:"cookin-cac70.firebasestorage.app",messagingSenderId:"481722415202",appId:"1:481722415202:web:e13691eb94542532c2b93b",measurementId:"G-C9Q2F05DGR"});ni=aP(e),oa=sP(ni,"recipes").withConverter(DP),hp=El(ni,"metadata","recipe").withConverter(LP)}function VP(){ni||Zo();const n=_P(oa,wP("metadata.timestamp","desc"));return RP(n).then(e=>e.docs.map(t=>t.data()))}function bP(n){return ni||Zo(),cw(El(oa,n)).then(e=>e.exists()&&e.data())}function OP(n){ni||Zo();const e=El(oa),t={timestamp:Date.now(),id:e.id},o={...n,metadata:t};return cp(e,o).then(()=>n)}function MP(n,e){ni||Zo();const t={timestamp:Date.now(),id:n},o={...e,metadata:t};return cp(El(oa,n),o).then(()=>o)}function FP(){return ni||Zo(),cw(hp).then(n=>n.exists()&&n.data())}function UP(n){return ni||Zo(),AP(El(oa,n)),n}function BP(n){ni||Zo(),cp(hp,n)}function dw({recipe:n,onClose:e}){const{tags:t,pantry:o,setTags:s,setPantry:l}=q.useContext(qo),c=Js(),[f,p]=q.useState((n==null?void 0:n.name)||""),[m,w]=q.useState((n==null?void 0:n.cooktime)||0),[I,A]=q.useState((n==null?void 0:n.ingredients)||[]),[R,C]=q.useState((n==null?void 0:n.directions)||[]),[O,D]=q.useState((n==null?void 0:n.tags)||new Set),[W,Z]=q.useState((n==null?void 0:n.image)||""),[ie,pe]=q.useState(!1),[ce,$]=q.useState((n==null?void 0:n.source)||""),b=Ge=>({name:f,tags:O,cooktime:m,ingredients:I,directions:R,image:Ge,source:ce}),P=()=>{const Ge=new Set([...o]);I.forEach(Ke=>{Ke.name&&Ge.add(Ke.name)}),Ge.size!=o.size&&l(Ge),BP({tags:t,pantry:Ge,setTags:s,setPantry:l})},N=Ge=>{p(Ge.target.value)},M=Ge=>{$(Ge.target.value)},j=Ge=>{w(Ge.target.valueAsNumber)},Q=async()=>{pe(!0);const Ge=W&&await Qg(W);P();const Ke=b(Ge);try{await OP(Ke),c(".",{replace:!0})}finally{pe(!1),e()}},V=async()=>{var Je,ge;pe(!0);let Ge=n==null?void 0:n.image;W!=Ge&&(Ge=W&&await Qg(W)),P();const Ke=b(Ge);try{(Je=n==null?void 0:n.metadata)!=null&&Je.id?(await MP((ge=n==null?void 0:n.metadata)==null?void 0:ge.id,Ke),c(".",{replace:!0})):alert("something went wrong... try again?")}finally{pe(!1),e()}},ut=f.length!=0&&R.length!=0&&I.length!=0&&m>0;return K.jsxs("div",{className:"z-10 fixed inset-0 bg-black/40 flex min-h-full items-center justify-center",children:[ie&&K.jsx("div",{className:"z-30 fixed inset-0 bg-white/50 min-h-full content-center justify-center pointer-events-none",children:K.jsx("div",{className:"m-auto max-w-fit max-h-fit animate-bounce text-8xl",children:"👩‍🍳🔥🥘"})}),K.jsxs("div",{className:"relative flex flex-col w-1/2 z-20 max-h-3/4 rounded-lg bg-white shadow-xl",children:[K.jsx("button",{onClick:e,children:K.jsx(GP,{styles:"size-4 text-dark-gray absolute top-3 right-3 hover:text-red-1 hover:cursor-pointer active:text-red-dark"})}),K.jsxs("div",{className:"p-4 overflow-y-auto pb-12",children:[K.jsx("h1",{className:"mt-2 pb-4",children:"Yes, chef?"}),K.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[K.jsx(S1,{selectedImage:W,onSelectImage:Z}),K.jsxs("div",{className:"flex flex-col h-fit",children:[K.jsx("input",{className:"input-txt text-2xl",type:"text",placeholder:"Recipe name",onChange:N,value:f}),K.jsxs("div",{className:"flex flex-row items-center gap-2",children:[K.jsx("b",{children:"Cooktime:"}),K.jsx("input",{className:"number-picker",min:0,max:9999,type:"number",onChange:j,value:m.toString()}),"min"]}),K.jsx("input",{className:"input-txt",type:"text",placeholder:"https://www.source.com",onChange:M,value:ce}),K.jsx(WP,{selectedTags:O,setSelectedTags:D})]}),K.jsx(k1,{ingredients:I,setIngredients:A}),K.jsx(VE,{directions:R,setDirections:C})]})]}),K.jsx("div",{className:"p-4 rounded-b-lg shadow-inner bg-light-gray/20",children:K.jsx("button",{className:"full-btn-blue w-full",onClick:n&&V||Q,disabled:!ut,children:n&&"Edit Recipe"||"Create Recipe!"})})]})]})}function jP(n){return Pt.get("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}})}function zP(n){return n==null?void 0:n.verified_email}const $P=["https://www.googleapis.com/auth/photospicker.mediaitems.readonly","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"];function HP({children:n}){const[e,t]=q.useState(null),o=()=>{kg(),t(null)},s=p=>{jP(p.access_token).then(m=>{zP(m.data)&&t({accessToken:p.access_token,name:m.data.name,picture:m.data.picture})}).catch(m=>{console.log(m),kg()})},l=()=>{alert("Failed to sign in :( Try again?")},c=DE({onSuccess:s,onError:l,onNonOAuthError:l,scope:$P.join(" ")}),f={user:e,signin:c,signout:o};return K.jsx(xv,{clientId:"830313144074-gmlo0mjrteockpndirk9dmp60phd4ar2.apps.googleusercontent.com",children:K.jsx(Gs.Provider,{value:f,children:n})})}const pw=new Map([["#f6bd60","white"],["#f7d5a1","#000A"],["#f6dcd3","#000A"],["#f5cac3","#000A"],["#bdb8b0","white"],["#84a59d","white"],["#bb9590","white"],["#f28482","white"]]);function fp({text:n,color:e,placeholder:t,onCancel:o,onClick:s}){return K.jsxs("div",{className:"flex flex-row rounded-full px-2 me-2 my-2 w-fit h-fit text-sm",style:{backgroundColor:e||"transparent",color:t&&!n&&"#33333333"||e&&pw.get(e),borderStyle:"solid",borderColor:e&&"transparent"||"#33333333",borderWidth:"2px",cursor:s&&"pointer"||"auto"},onClick:s,children:[K.jsx("p",{children:n||t}),o&&K.jsx("button",{className:"ms-2 my-auto size-4 text-black/30 hover:text-white active:text-black/50",onClick:()=>o(n),children:K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",children:K.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"})})})]})}function qP({text:n,onCreate:e,onClose:t}){const[o,s]=q.useState(""),l=f=>{s(f)},c=()=>{e(n,o),t()};return K.jsxs("div",{className:"absolute z-20 bg-white w-fit rounded-md border-2 border-light-gray shadow-md p-2",children:[K.jsx(fp,{text:n,color:o,placeholder:"...hungy..."}),K.jsx("div",{className:"flex flex-row gap-2",children:Array.from(pw.entries()).map(([f])=>K.jsx("button",{className:"rounded-full w-4 h-4 border-2",style:{backgroundColor:f,borderColor:o==f&&"#33333333"||"transparent"},onClick:()=>l(f)},f))}),K.jsx("button",{className:"full-btn-blue mt-2",disabled:n==""||o=="",onClick:c,children:"Create Tag"}),K.jsx("button",{className:"mx-3 text-blue-1 underline-offset-4 hover:underline hover:text-blue-2 active:text-blue-dark",onClick:t,children:"Close"})]})}function WP({selectedTags:n,setSelectedTags:e}){const{tags:t,setTags:o}=q.useContext(qo),[s,l]=q.useState(""),[c,f]=q.useState(new Set),[p,m]=q.useState(!1);q.useEffect(()=>{const R=new Set,C=s.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");s.length!=0&&t.forEach((O,D)=>{D.match(new RegExp(`^${C}`,"i"))&&!n.has(D)&&R.add(new PP(D,O))}),f(R)},[s,n,t]);const w=R=>{l(R.target.value.toLowerCase())},I=R=>{const C=new Set(n);C.add(R),e(C),l("")},A=(R,C)=>{I(R);const O=new Map(t);O.set(R,C),o(O)};return K.jsxs("div",{children:[K.jsxs("div",{className:"flex flex-row",children:[K.jsx("input",{className:"input-txt me-2",placeholder:"Add a tag...",type:"text",value:s,maxLength:30,onChange:w}),K.jsx("button",{className:"placeholder-btn-tan m-auto px-2 rounded-full border-solid",onClick:()=>m(!0),children:"+"})]}),p&&K.jsx(qP,{text:s,onCreate:A,onClose:()=>m(!1)}),c.size!=0&&K.jsx("div",{className:"absolute max-w-md bg-white border-light-gray border-2 flex flex-row shadow-md z-10 px-4 rounded-md overflow-x-scroll",children:[...c].map(R=>K.jsx(fp,{text:R.name,color:R.color,onClick:()=>I(R.name)},R.name))}),K.jsx("div",{className:"h-14 max-h-1/2 flex flex-row overflow-x-scroll",children:K.jsx(dl,{tags:n,setTags:e})})]})}function KP(){const{tags:n}=q.useContext(qo);return K.jsxs("div",{className:"flex flex-col",children:[K.jsx("h2",{children:"Tags"}),K.jsx("div",{className:"flex flex-row flex-wrap",children:K.jsx(dl,{tags:new Set(n.keys())})})]})}function QP(){var m,w;const n=Js(),e=q.useContext(Gs),[t,o]=q.useState(""),[s,l]=q.useState(""),[c,f]=q.useState(null),p=()=>{if(n("/"),o("animate-explode-l"),l("animate-explode-r"),!c){const I=setTimeout(()=>{o(""),l(""),f(null)},1250);f(I)}};return K.jsxs("div",{className:"group flex flex-row gap-4 cursor-pointer items-center",onClick:p,children:[K.jsx("h2",{className:t,children:K.jsx(Bs,{type:"ingredients"})}),K.jsx("h1",{className:"group-hover:animate-wiggle group-hover:text-blue-2 group-active:text-blue-dark-2 group",children:((m=e.user)==null?void 0:m.name)&&`${(w=e.user)==null?void 0:w.name.toLowerCase()}, what's cookin'?`||"what's cookin'?"}),K.jsx("h2",{className:s,children:K.jsx(Bs,{type:"utensils"})})]})}function dp({styles:n}){return K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:n,children:K.jsx("path",{fillRule:"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z",clipRule:"evenodd"})})}function GP({styles:n}){return K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:n,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})}function YP(){const n=Td(),e=q.useContext(Gs),[t,o]=q.useState(!1),s=()=>{o(!0)};return K.jsxs("div",{className:"flex flex-row max-w-2/3 mx-auto",children:[K.jsxs("div",{className:"basis-1/5 bg-stone-300 rounded-lg p-4",children:[K.jsx(KP,{}),K.jsx("div",{className:"m-6"}),K.jsx(I1,{})]}),K.jsxs("div",{className:"basis-4/5 p-8",children:[K.jsxs("div",{className:"flex flex-row justify-between mb-2 items-center",children:[K.jsx("h1",{className:"text-stone-600",children:"cookbook"}),e.user&&K.jsx("button",{className:"full-btn-blue",onClick:s,children:"+ Add"})]}),K.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.map(l=>K.jsx(w0,{recipe:l}))})]}),t&&Rd.createPortal(K.jsx(dw,{onClose:()=>o(!1)}),document.body)]})}function XP(){const n=d0();return console.log(n),K.jsxs("div",{children:[K.jsx("h1",{children:"Ooooooooops!"}),K.jsx("p",{children:"something went wrong :'D"})]})}function JP(){const n=Td();return K.jsxs("div",{className:"flex flex-col mx-auto max-w-1/3 items-center gap-4",children:[K.jsxs("h2",{className:"text-6xl",children:[K.jsx("span",{className:"text-2xl",children:"( ˘▽˘)っ♨"})," Try this? ",K.jsx("span",{className:"text-2xl",children:"~~旦_(- ω-｀｡)"})]}),K.jsx(w0,{recipe:n[Math.floor(Math.random()*n.length)]})]})}function ZP(){var f,p;const n=Td(),e=q.useContext(Gs),t=Js(),[o,s]=q.useState(!1),l=()=>{if(!e.user)return;confirm("are you sure you want to delete this recipe?")&&n.metadata&&n.metadata.id&&(UP(n.metadata.id),t(-1))},c=()=>{s(!0)};return K.jsxs("div",{className:"max-w-3/4 h-fit m-auto mb-12 paper",children:[e.user&&K.jsxs("div",{className:"absolute top-0 right-0 m-4 flex flex-row gap-2",children:[K.jsx("button",{className:"full-btn-blue",onClick:c,children:K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4 my-2",children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})}),K.jsx("button",{className:"full-btn-red",onClick:l,children:K.jsx(dp,{styles:"size-4 my-2"})})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[K.jsx("img",{src:n.image}),K.jsxs("div",{className:"basis-1/2 flex flex-col content-end",children:[K.jsxs("h1",{className:"text-stone-700",children:[n.name,"!"]}),K.jsxs("div",{className:"flex flex-row flex-wrap mb-8 -mt-2",children:[K.jsx("p",{className:"text-3xl my-auto mr-2 rotate-45",children:"🏷️"}),K.jsx(dl,{tags:n.tags})]}),K.jsxs("p",{className:"pb-2",children:[K.jsx("b",{children:"Cooktime:"})," ",n.cooktime," min"]}),K.jsxs("div",{className:"pb-8",children:[K.jsxs("h2",{className:"border-b-2 border-b-green",children:["Ingredients ",K.jsx(Bs,{type:"ingredients"})]}),K.jsx("ul",{className:"list-disc ps-4",children:(f=n.ingredients)==null?void 0:f.map(m=>K.jsxs("li",{children:[K.jsxs("b",{children:[m.measurement.quantity," ",m.measurement.unit||""]})," ",m.name.toLowerCase()]},m.name))})]}),K.jsxs("div",{className:"py-8",children:[K.jsxs("h2",{className:"border-b-2 border-b-green",children:["Instructions ",K.jsx(Bs,{type:"utensils"})]}),K.jsx("ol",{className:"list-decimal ps-4",children:(p=n.directions)==null?void 0:p.map((m,w)=>K.jsx("li",{children:m},w))})]}),K.jsxs("div",{className:"text-blue-dark-2",children:[K.jsx("b",{children:"Source:"})," ",K.jsx("a",{href:n.source||"#",children:n.source||"a family recipe :P"})]})]})]}),o&&Rd.createPortal(K.jsx(dw,{recipe:n,onClose:()=>s(!1)}),document.body)]})}async function Iv(){return VP()}async function e2({params:n}){return n.id&&bP(n.id)}function t2(){return K.jsxs("div",{children:[K.jsx(NI,{}),K.jsx(KS,{})]})}function n2({children:n}){const[e,t]=q.useState(new Map),[o,s]=q.useState(new Set);q.useEffect(()=>{FP().then(c=>{c&&(t(c.tags),s(c.pantry))})},[]);const l={tags:e,setTags:t,pantry:o,setPantry:s};return K.jsx(qo.Provider,{value:l,children:n})}function r2(){const n=vI([{path:"/",element:K.jsx(t2,{}),errorElement:K.jsx(XP,{}),children:[{path:"/",element:K.jsx(JP,{}),loader:Iv},{path:"/recipes/",element:K.jsx(YP,{}),loader:Iv},{path:"/recipes/:id",element:K.jsx(ZP,{}),loader:e2}]}]);return K.jsx(HP,{children:K.jsx(n2,{children:K.jsx(kI,{router:n})})})}PE.createRoot(document.getElementById("root")).render(K.jsx(xv,{clientId:"830313144074-gmlo0mjrteockpndirk9dmp60phd4ar2.apps.googleusercontent.com",children:K.jsx(q.StrictMode,{children:K.jsx(r2,{})})}));
