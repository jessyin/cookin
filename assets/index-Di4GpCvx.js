var EE=Object.defineProperty;var TE=(n,e,t)=>e in n?EE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Eg=(n,e,t)=>TE(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function SE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ff={exports:{}},Ma={},df={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function IE(){if(Tg)return et;Tg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function R($){return $===null||typeof $!="object"?null:($=I&&$[I]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function D($,se,Te){this.props=$,this.context=se,this.refs=O,this.updater=Te||x}D.prototype.isReactComponent={},D.prototype.setState=function($,se){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,se,"setState")},D.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function W(){}W.prototype=D.prototype;function Z($,se,Te){this.props=$,this.context=se,this.refs=O,this.updater=Te||x}var ie=Z.prototype=new W;ie.constructor=Z,C(ie,D.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,ce=Object.prototype.hasOwnProperty,z={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function P($,se,Te){var Fe,$e={},qe=null,rt=null;if(se!=null)for(Fe in se.ref!==void 0&&(rt=se.ref),se.key!==void 0&&(qe=""+se.key),se)ce.call(se,Fe)&&!b.hasOwnProperty(Fe)&&($e[Fe]=se[Fe]);var Je=arguments.length-2;if(Je===1)$e.children=Te;else if(1<Je){for(var yt=Array(Je),tt=0;tt<Je;tt++)yt[tt]=arguments[tt+2];$e.children=yt}if($&&$.defaultProps)for(Fe in Je=$.defaultProps,Je)$e[Fe]===void 0&&($e[Fe]=Je[Fe]);return{$$typeof:n,type:$,key:qe,ref:rt,props:$e,_owner:z.current}}function N($,se){return{$$typeof:n,type:$.type,key:se,ref:$.ref,props:$.props,_owner:$._owner}}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function j($){var se={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Te){return se[Te]})}var Q=/\/+/g;function V($,se){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):se.toString(36)}function ut($,se,Te,Fe,$e){var qe=typeof $;(qe==="undefined"||qe==="boolean")&&($=null);var rt=!1;if($===null)rt=!0;else switch(qe){case"string":case"number":rt=!0;break;case"object":switch($.$$typeof){case n:case e:rt=!0}}if(rt)return rt=$,$e=$e(rt),$=Fe===""?"."+V(rt,0):Fe,pe($e)?(Te="",$!=null&&(Te=$.replace(Q,"$&/")+"/"),ut($e,se,Te,"",function(tt){return tt})):$e!=null&&(M($e)&&($e=N($e,Te+(!$e.key||rt&&rt.key===$e.key?"":(""+$e.key).replace(Q,"$&/")+"/")+$)),se.push($e)),1;if(rt=0,Fe=Fe===""?".":Fe+":",pe($))for(var Je=0;Je<$.length;Je++){qe=$[Je];var yt=Fe+V(qe,Je);rt+=ut(qe,se,Te,yt,$e)}else if(yt=R($),typeof yt=="function")for($=yt.call($),Je=0;!(qe=$.next()).done;)qe=qe.value,yt=Fe+V(qe,Je++),rt+=ut(qe,se,Te,yt,$e);else if(qe==="object")throw se=String($),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return rt}function Qe($,se,Te){if($==null)return $;var Fe=[],$e=0;return ut($,Fe,"","",function(qe){return se.call(Te,qe,$e++)}),Fe}function Be($){if($._status===-1){var se=$._result;se=se(),se.then(function(Te){($._status===0||$._status===-1)&&($._status=1,$._result=Te)},function(Te){($._status===0||$._status===-1)&&($._status=2,$._result=Te)}),$._status===-1&&($._status=0,$._result=se)}if($._status===1)return $._result.default;throw $._result}var Ye={current:null},ge={transition:null},Ne={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ge,ReactCurrentOwner:z};function _e(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:Qe,forEach:function($,se,Te){Qe($,function(){se.apply(this,arguments)},Te)},count:function($){var se=0;return Qe($,function(){se++}),se},toArray:function($){return Qe($,function(se){return se})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},et.Component=D,et.Fragment=t,et.Profiler=s,et.PureComponent=Z,et.StrictMode=o,et.Suspense=p,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,et.act=_e,et.cloneElement=function($,se,Te){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Fe=C({},$.props),$e=$.key,qe=$.ref,rt=$._owner;if(se!=null){if(se.ref!==void 0&&(qe=se.ref,rt=z.current),se.key!==void 0&&($e=""+se.key),$.type&&$.type.defaultProps)var Je=$.type.defaultProps;for(yt in se)ce.call(se,yt)&&!b.hasOwnProperty(yt)&&(Fe[yt]=se[yt]===void 0&&Je!==void 0?Je[yt]:se[yt])}var yt=arguments.length-2;if(yt===1)Fe.children=Te;else if(1<yt){Je=Array(yt);for(var tt=0;tt<yt;tt++)Je[tt]=arguments[tt+2];Fe.children=Je}return{$$typeof:n,type:$.type,key:$e,ref:qe,props:Fe,_owner:rt}},et.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:l,_context:$},$.Consumer=$},et.createElement=P,et.createFactory=function($){var se=P.bind(null,$);return se.type=$,se},et.createRef=function(){return{current:null}},et.forwardRef=function($){return{$$typeof:f,render:$}},et.isValidElement=M,et.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:Be}},et.memo=function($,se){return{$$typeof:m,type:$,compare:se===void 0?null:se}},et.startTransition=function($){var se=ge.transition;ge.transition={};try{$()}finally{ge.transition=se}},et.unstable_act=_e,et.useCallback=function($,se){return Ye.current.useCallback($,se)},et.useContext=function($){return Ye.current.useContext($)},et.useDebugValue=function(){},et.useDeferredValue=function($){return Ye.current.useDeferredValue($)},et.useEffect=function($,se){return Ye.current.useEffect($,se)},et.useId=function(){return Ye.current.useId()},et.useImperativeHandle=function($,se,Te){return Ye.current.useImperativeHandle($,se,Te)},et.useInsertionEffect=function($,se){return Ye.current.useInsertionEffect($,se)},et.useLayoutEffect=function($,se){return Ye.current.useLayoutEffect($,se)},et.useMemo=function($,se){return Ye.current.useMemo($,se)},et.useReducer=function($,se,Te){return Ye.current.useReducer($,se,Te)},et.useRef=function($){return Ye.current.useRef($)},et.useState=function($){return Ye.current.useState($)},et.useSyncExternalStore=function($,se,Te){return Ye.current.useSyncExternalStore($,se,Te)},et.useTransition=function(){return Ye.current.useTransition()},et.version="18.3.1",et}var Sg;function hd(){return Sg||(Sg=1,df.exports=IE()),df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function RE(){if(Ig)return Ma;Ig=1;var n=hd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var w,I={},R=null,x=null;m!==void 0&&(R=""+m),p.key!==void 0&&(R=""+p.key),p.ref!==void 0&&(x=p.ref);for(w in p)o.call(p,w)&&!l.hasOwnProperty(w)&&(I[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)I[w]===void 0&&(I[w]=p[w]);return{$$typeof:e,type:f,key:R,ref:x,props:I,_owner:s.current}}return Ma.Fragment=t,Ma.jsx=c,Ma.jsxs=c,Ma}var Rg;function AE(){return Rg||(Rg=1,ff.exports=RE()),ff.exports}var K=AE(),q=hd();const xE=SE(q);var Nu={},pf={exports:{}},Hn={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function CE(){return Ag||(Ag=1,function(n){function e(ge,Ne){var _e=ge.length;ge.push(Ne);e:for(;0<_e;){var $=_e-1>>>1,se=ge[$];if(0<s(se,Ne))ge[$]=Ne,ge[_e]=se,_e=$;else break e}}function t(ge){return ge.length===0?null:ge[0]}function o(ge){if(ge.length===0)return null;var Ne=ge[0],_e=ge.pop();if(_e!==Ne){ge[0]=_e;e:for(var $=0,se=ge.length,Te=se>>>1;$<Te;){var Fe=2*($+1)-1,$e=ge[Fe],qe=Fe+1,rt=ge[qe];if(0>s($e,_e))qe<se&&0>s(rt,$e)?(ge[$]=rt,ge[qe]=_e,$=qe):(ge[$]=$e,ge[Fe]=_e,$=Fe);else if(qe<se&&0>s(rt,_e))ge[$]=rt,ge[qe]=_e,$=qe;else break e}}return Ne}function s(ge,Ne){var _e=ge.sortIndex-Ne.sortIndex;return _e!==0?_e:ge.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],w=1,I=null,R=3,x=!1,C=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(ge){for(var Ne=t(m);Ne!==null;){if(Ne.callback===null)o(m);else if(Ne.startTime<=ge)o(m),Ne.sortIndex=Ne.expirationTime,e(p,Ne);else break;Ne=t(m)}}function pe(ge){if(O=!1,ie(ge),!C)if(t(p)!==null)C=!0,Be(ce);else{var Ne=t(m);Ne!==null&&Ye(pe,Ne.startTime-ge)}}function ce(ge,Ne){C=!1,O&&(O=!1,W(P),P=-1),x=!0;var _e=R;try{for(ie(Ne),I=t(p);I!==null&&(!(I.expirationTime>Ne)||ge&&!j());){var $=I.callback;if(typeof $=="function"){I.callback=null,R=I.priorityLevel;var se=$(I.expirationTime<=Ne);Ne=n.unstable_now(),typeof se=="function"?I.callback=se:I===t(p)&&o(p),ie(Ne)}else o(p);I=t(p)}if(I!==null)var Te=!0;else{var Fe=t(m);Fe!==null&&Ye(pe,Fe.startTime-Ne),Te=!1}return Te}finally{I=null,R=_e,x=!1}}var z=!1,b=null,P=-1,N=5,M=-1;function j(){return!(n.unstable_now()-M<N)}function Q(){if(b!==null){var ge=n.unstable_now();M=ge;var Ne=!0;try{Ne=b(!0,ge)}finally{Ne?V():(z=!1,b=null)}}else z=!1}var V;if(typeof Z=="function")V=function(){Z(Q)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Qe=ut.port2;ut.port1.onmessage=Q,V=function(){Qe.postMessage(null)}}else V=function(){D(Q,0)};function Be(ge){b=ge,z||(z=!0,V())}function Ye(ge,Ne){P=D(function(){ge(n.unstable_now())},Ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ge){ge.callback=null},n.unstable_continueExecution=function(){C||x||(C=!0,Be(ce))},n.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ge?Math.floor(1e3/ge):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ge){switch(R){case 1:case 2:case 3:var Ne=3;break;default:Ne=R}var _e=R;R=Ne;try{return ge()}finally{R=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ge,Ne){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var _e=R;R=ge;try{return Ne()}finally{R=_e}},n.unstable_scheduleCallback=function(ge,Ne,_e){var $=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?$+_e:$):_e=$,ge){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=_e+se,ge={id:w++,callback:Ne,priorityLevel:ge,startTime:_e,expirationTime:se,sortIndex:-1},_e>$?(ge.sortIndex=_e,e(m,ge),t(p)===null&&ge===t(m)&&(O?(W(P),P=-1):O=!0,Ye(pe,_e-$))):(ge.sortIndex=se,e(p,ge),C||x||(C=!0,Be(ce))),ge},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ge){var Ne=R;return function(){var _e=R;R=Ne;try{return ge.apply(this,arguments)}finally{R=_e}}}}(gf)),gf}var xg;function PE(){return xg||(xg=1,mf.exports=CE()),mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function kE(){if(Cg)return Hn;Cg=1;var n=hd(),e=PE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function R(r){return p.call(I,r)?!0:p.call(w,r)?!1:m.test(r)?I[r]=!0:(w[r]=!0,!1)}function x(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,i,a,h){if(i===null||typeof i>"u"||x(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function O(r,i,a,h,d,y,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=T}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];D[i]=new O(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function Z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(W,Z);D[i]=new O(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(W,Z);D[i]=new O(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(W,Z);D[i]=new O(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,i,a,h){var d=D.hasOwnProperty(i)?D[i]:null;(d!==null?d.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,a,d,h)&&(a=null),h||d===null?R(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var pe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),z=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ye=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Ne(r){return r===null||typeof r!="object"?null:(r=ge&&r[ge]||r["@@iterator"],typeof r=="function"?r:null)}var _e=Object.assign,$;function se(r){if($===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$=i&&i[1]||""}return`
`+$+r}var Te=!1;function Fe(r,i){if(!r||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ne){var h=ne}Reflect.construct(r,[],i)}else{try{i.call()}catch(ne){h=ne}r.call(i.prototype)}else{try{throw Error()}catch(ne){h=ne}r()}}catch(ne){if(ne&&h&&typeof ne.stack=="string"){for(var d=ne.stack.split(`
`),y=h.stack.split(`
`),T=d.length-1,L=y.length-1;1<=T&&0<=L&&d[T]!==y[L];)L--;for(;1<=T&&0<=L;T--,L--)if(d[T]!==y[L]){if(T!==1||L!==1)do if(T--,L--,0>L||d[T]!==y[L]){var U=`
`+d[T].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=T&&0<=L);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?se(r):""}function $e(r){switch(r.tag){case 5:return se(r.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return r=Fe(r.type,!1),r;case 11:return r=Fe(r.type.render,!1),r;case 1:return r=Fe(r.type,!0),r;default:return""}}function qe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case z:return"Portal";case N:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case ut:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case Q:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Qe:return i=r.displayName||null,i!==null?i:qe(r.type)||"Memo";case Be:i=r._payload,r=r._init;try{return qe(r(i))}catch{}}return null}function rt(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(i);case 8:return i===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yt(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tt(r){var i=yt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function tn(r){r._valueTracker||(r._valueTracker=tt(r))}function nr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=yt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function cn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function zt(r,i){var a=i.checked;return _e({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function br(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Je(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function si(r,i){i=i.checked,i!=null&&ie(r,"checked",i,!1)}function rr(r,i){si(r,i);var a=Je(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Or(r,i.type,a):i.hasOwnProperty("defaultValue")&&Or(r,i.type,Je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Pi(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Or(r,i,a){(i!=="number"||cn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var On=Array.isArray;function _n(r,i,a,h){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Vt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return _e({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wn(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(On(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Je(a)}}function vr(r,i){var a=Je(i.value),h=Je(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function nn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function wt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?wt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var v,_=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(v=v||document.createElement("div"),v.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=v.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function k(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},te=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(r){te.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),B[i]=B[r]})});function ae(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||B.hasOwnProperty(r)&&B[r]?(""+i).trim():i+"px"}function He(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=ae(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Et=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(r,i){if(i){if(Et[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function mt(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ze=null;function Mr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ki=null,Nn=null,ir=null;function ai(r){if(r=Ta(r)){if(typeof ki!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Wl(i),ki(r.stateNode,r.type,i))}}function Dn(r){Nn?ir?ir.push(r):ir=[r]:Nn=r}function Fr(){if(Nn){var r=Nn,i=ir;if(ir=Nn=null,ai(r),i)for(r=0;r<i.length;r++)ai(i[r])}}function li(r,i){return r(i)}function go(){}var F=!1;function G(r,i,a){if(F)return r(i,a);F=!0;try{return li(r,i,a)}finally{F=!1,(Nn!==null||ir!==null)&&(go(),Fr())}}function J(r,i){var a=r.stateNode;if(a===null)return null;var h=Wl(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var he=!1;if(f)try{var we={};Object.defineProperty(we,"passive",{get:function(){he=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{he=!1}function ke(r,i,a,h,d,y,T,L,U){var ne=Array.prototype.slice.call(arguments,3);try{i.apply(a,ne)}catch(de){this.onError(de)}}var be=!1,Re=null,Se=!1,Ee=null,je={onError:function(r){be=!0,Re=r}};function We(r,i,a,h,d,y,T,L,U){be=!1,Re=null,ke.apply(je,arguments)}function St(r,i,a,h,d,y,T,L,U){if(We.apply(this,arguments),be){if(be){var ne=Re;be=!1,Re=null}else throw Error(t(198));Se||(Se=!0,Ee=ne)}}function It(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function _t(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function nt(r){if(It(r)!==r)throw Error(t(188))}function bt(r){var i=r.alternate;if(!i){if(i=It(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return nt(d),r;if(y===h)return nt(d),i;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var T=!1,L=d.child;L;){if(L===a){T=!0,a=d,h=y;break}if(L===h){T=!0,h=d,a=y;break}L=L.sibling}if(!T){for(L=y.child;L;){if(L===a){T=!0,a=y,h=d;break}if(L===h){T=!0,h=y,a=d;break}L=L.sibling}if(!T)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function or(r){return r=bt(r),r!==null?sr(r):null}function sr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=sr(r);if(i!==null)return i;r=r.sibling}return null}var En=e.unstable_scheduleCallback,Tn=e.unstable_cancelCallback,Ni=e.unstable_shouldYield,ui=e.unstable_requestPaint,ct=e.unstable_now,ci=e.unstable_getCurrentPriorityLevel,ar=e.unstable_ImmediatePriority,ot=e.unstable_UserBlockingPriority,Rt=e.unstable_NormalPriority,Ur=e.unstable_LowPriority,Br=e.unstable_IdlePriority,xt=null,qt=null;function yo(r){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(xt,r,void 0,(r.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Il,sa=Math.log,Sl=Math.LN2;function Il(r){return r>>>=0,r===0?32:31-(sa(r)/Sl|0)|0}var Zo=64,es=4194304;function Di(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function vo(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,T=a&268435455;if(T!==0){var L=T&~d;L!==0?h=Di(L):(y&=T,y!==0&&(h=Di(y)))}else T=a&~d,T!==0?h=Di(T):y!==0&&(h=Di(y));if(h===0)return 0;if(i!==0&&i!==h&&!(i&d)&&(d=h&-h,y=i&-i,d>=y||d===16&&(y&4194240)!==0))return i;if(h&4&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-hn(i),d=1<<a,h|=r[a],i&=~d;return h}function jc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-hn(y),L=1<<T,U=d[T];U===-1?(!(L&a)||L&h)&&(d[T]=jc(L,i)):U<=i&&(r.expiredLanes|=L),y&=~L}}function Qn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _o(){var r=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),r}function Li(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Vi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-hn(i),r[i]=a}function Ct(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-hn(a),y=1<<d;i[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function bi(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-hn(a),d=1<<h;d&i|r[h]&i&&(r[h]|=i),a&=~d}}var st=0;function Oi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Rl,ts,Al,xl,Cl,aa=!1,jr=[],fn=null,_r=null,wr=null,Mi=new Map,lr=new Map,zr=[],zc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pl(r,i){switch(r){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(i.pointerId)}}function Mn(r,i,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},i!==null&&(i=Ta(i),i!==null&&ts(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function $c(r,i,a,h,d){switch(i){case"focusin":return fn=Mn(fn,r,i,a,h,d),!0;case"dragenter":return _r=Mn(_r,r,i,a,h,d),!0;case"mouseover":return wr=Mn(wr,r,i,a,h,d),!0;case"pointerover":var y=d.pointerId;return Mi.set(y,Mn(Mi.get(y)||null,r,i,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,lr.set(y,Mn(lr.get(y)||null,r,i,a,h,d)),!0}return!1}function kl(r){var i=Io(r.target);if(i!==null){var a=It(i);if(a!==null){if(i=a.tag,i===13){if(i=_t(a),i!==null){r.blockedOn=i,Cl(r.priority,function(){Al(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fi(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=ns(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ze=h,a.target.dispatchEvent(h),Ze=null}else return i=Ta(a),i!==null&&ts(i),r.blockedOn=a,!1;i.shift()}return!0}function wo(r,i,a){fi(r)&&a.delete(i)}function Nl(){aa=!1,fn!==null&&fi(fn)&&(fn=null),_r!==null&&fi(_r)&&(_r=null),wr!==null&&fi(wr)&&(wr=null),Mi.forEach(wo),lr.forEach(wo)}function Er(r,i){r.blockedOn===i&&(r.blockedOn=null,aa||(aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nl)))}function Tr(r){function i(d){return Er(d,r)}if(0<jr.length){Er(jr[0],r);for(var a=1;a<jr.length;a++){var h=jr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(fn!==null&&Er(fn,r),_r!==null&&Er(_r,r),wr!==null&&Er(wr,r),Mi.forEach(i),lr.forEach(i),a=0;a<zr.length;a++)h=zr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)kl(a),a.blockedOn===null&&zr.shift()}var di=pe.ReactCurrentBatchConfig,Fi=!0;function Ot(r,i,a,h){var d=st,y=di.transition;di.transition=null;try{st=1,la(r,i,a,h)}finally{st=d,di.transition=y}}function Hc(r,i,a,h){var d=st,y=di.transition;di.transition=null;try{st=4,la(r,i,a,h)}finally{st=d,di.transition=y}}function la(r,i,a,h){if(Fi){var d=ns(r,i,a,h);if(d===null)th(r,i,h,Eo,a),Pl(r,h);else if($c(d,r,i,a,h))h.stopPropagation();else if(Pl(r,h),i&4&&-1<zc.indexOf(r)){for(;d!==null;){var y=Ta(d);if(y!==null&&Rl(y),y=ns(r,i,a,h),y===null&&th(r,i,h,Eo,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else th(r,i,h,null,a)}}var Eo=null;function ns(r,i,a,h){if(Eo=null,r=Mr(h),r=Io(r),r!==null)if(i=It(r),i===null)r=null;else if(a=i.tag,a===13){if(r=_t(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Eo=r,null}function ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ci()){case ar:return 1;case ot:return 4;case Rt:case Ur:return 16;case Br:return 536870912;default:return 16}default:return 16}}var Gn=null,rs=null,Fn=null;function ca(){if(Fn)return Fn;var r,i=rs,a=i.length,h,d="value"in Gn?Gn.value:Gn.textContent,y=d.length;for(r=0;r<a&&i[r]===d[r];r++);var T=a-r;for(h=1;h<=T&&i[a-h]===d[y-h];h++);return Fn=d.slice(r,1<h?1-h:void 0)}function is(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function ha(){return!1}function dn(r){function i(a,h,d,y,T){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(a=r[L],this[L]=a?a(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$r:ha,this.isPropagationStopped=ha,this}return _e(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),i}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=dn(Sr),Hr=_e({},Sr,{view:0,detail:0}),qc=dn(Hr),ss,pi,Ui,To=_e({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ui&&(Ui&&r.type==="mousemove"?(ss=r.screenX-Ui.screenX,pi=r.screenY-Ui.screenY):pi=ss=0,Ui=r),ss)},movementY:function(r){return"movementY"in r?r.movementY:pi}}),as=dn(To),fa=_e({},To,{dataTransfer:0}),Dl=dn(fa),ls=_e({},Hr,{relatedTarget:0}),us=dn(ls),Ll=_e({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),mi=dn(Ll),Vl=_e({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bl=dn(Vl),Ol=_e({},Sr,{data:0}),da=dn(Ol),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ml[r])?!!i[r]:!1}function qr(){return Fl}var u=_e({},Hr,{key:function(r){if(r.key){var i=cs[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=is(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ln[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(r){return r.type==="keypress"?is(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?is(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=dn(u),E=_e({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=dn(E),Y=_e({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),re=dn(Y),ve=_e({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),At=dn(ve),Yt=_e({},To,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ht=dn(Yt),rn=[9,13,27,32],Wt=f&&"CompositionEvent"in window,ur=null;f&&"documentMode"in document&&(ur=document.documentMode);var Yn=f&&"TextEvent"in window&&!ur,So=f&&(!Wt||ur&&8<ur&&11>=ur),hs=" ",mp=!1;function gp(r,i){switch(r){case"keyup":return rn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fs=!1;function vw(r,i){switch(r){case"compositionend":return yp(i);case"keypress":return i.which!==32?null:(mp=!0,hs);case"textInput":return r=i.data,r===hs&&mp?null:r;default:return null}}function _w(r,i){if(fs)return r==="compositionend"||!Wt&&gp(r,i)?(r=ca(),Fn=rs=Gn=null,fs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return So&&i.locale!=="ko"?null:i.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ww[r.type]:i==="textarea"}function _p(r,i,a,h){Dn(h),i=$l(i,"onChange"),0<i.length&&(a=new os("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var pa=null,ma=null;function Ew(r){Mp(r,0)}function Ul(r){var i=ys(r);if(nr(i))return r}function Tw(r,i){if(r==="change")return i}var wp=!1;if(f){var Wc;if(f){var Kc="oninput"in document;if(!Kc){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Kc=typeof Ep.oninput=="function"}Wc=Kc}else Wc=!1;wp=Wc&&(!document.documentMode||9<document.documentMode)}function Tp(){pa&&(pa.detachEvent("onpropertychange",Sp),ma=pa=null)}function Sp(r){if(r.propertyName==="value"&&Ul(ma)){var i=[];_p(i,ma,r,Mr(r)),G(Ew,i)}}function Sw(r,i,a){r==="focusin"?(Tp(),pa=i,ma=a,pa.attachEvent("onpropertychange",Sp)):r==="focusout"&&Tp()}function Iw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ul(ma)}function Rw(r,i){if(r==="click")return Ul(i)}function Aw(r,i){if(r==="input"||r==="change")return Ul(i)}function xw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ir=typeof Object.is=="function"?Object.is:xw;function ga(r,i){if(Ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(i,d)||!Ir(r[d],i[d]))return!1}return!0}function Ip(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rp(r,i){var a=Ip(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ip(a)}}function Ap(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ap(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function xp(){for(var r=window,i=cn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=cn(r.document)}return i}function Qc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Cw(r){var i=xp(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Ap(a.ownerDocument.documentElement,a)){if(h!==null&&Qc(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=Rp(a,y);var T=Rp(a,h);d&&T&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(i),r.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Pw=f&&"documentMode"in document&&11>=document.documentMode,ds=null,Gc=null,ya=null,Yc=!1;function Cp(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||ds==null||ds!==cn(h)||(h=ds,"selectionStart"in h&&Qc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ya&&ga(ya,h)||(ya=h,h=$l(Gc,"onSelect"),0<h.length&&(i=new os("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=ds)))}function Bl(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ps={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Xc={},Pp={};f&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function jl(r){if(Xc[r])return Xc[r];if(!ps[r])return r;var i=ps[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pp)return Xc[r]=i[a];return r}var kp=jl("animationend"),Np=jl("animationiteration"),Dp=jl("animationstart"),Lp=jl("transitionend"),Vp=new Map,bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(r,i){Vp.set(r,i),l(i,[r])}for(var Jc=0;Jc<bp.length;Jc++){var Zc=bp[Jc],kw=Zc.toLowerCase(),Nw=Zc[0].toUpperCase()+Zc.slice(1);Bi(kw,"on"+Nw)}Bi(kp,"onAnimationEnd"),Bi(Np,"onAnimationIteration"),Bi(Dp,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Lp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Op(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,St(h,i,void 0,r),r.currentTarget=null}function Mp(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var T=h.length-1;0<=T;T--){var L=h[T],U=L.instance,ne=L.currentTarget;if(L=L.listener,U!==y&&d.isPropagationStopped())break e;Op(d,L,ne),y=U}else for(T=0;T<h.length;T++){if(L=h[T],U=L.instance,ne=L.currentTarget,L=L.listener,U!==y&&d.isPropagationStopped())break e;Op(d,L,ne),y=U}}}if(Se)throw r=Ee,Se=!1,Ee=null,r}function Nt(r,i){var a=i[ah];a===void 0&&(a=i[ah]=new Set);var h=r+"__bubble";a.has(h)||(Fp(i,r,2,!1),a.add(h))}function eh(r,i,a){var h=0;i&&(h|=4),Fp(a,r,h,i)}var zl="_reactListening"+Math.random().toString(36).slice(2);function _a(r){if(!r[zl]){r[zl]=!0,o.forEach(function(a){a!=="selectionchange"&&(Dw.has(a)||eh(a,!1,r),eh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[zl]||(i[zl]=!0,eh("selectionchange",!1,i))}}function Fp(r,i,a,h){switch(ua(i)){case 1:var d=Ot;break;case 4:d=Hc;break;default:d=la}a=d.bind(null,i,a,r),d=void 0,!he||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function th(r,i,a,h,d){var y=h;if(!(i&1)&&!(i&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var L=h.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(T===4)for(T=h.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===d||U.nodeType===8&&U.parentNode===d))return;T=T.return}for(;L!==null;){if(T=Io(L),T===null)return;if(U=T.tag,U===5||U===6){h=y=T;continue e}L=L.parentNode}}h=h.return}G(function(){var ne=y,de=Mr(a),me=[];e:{var fe=Vp.get(r);if(fe!==void 0){var Ie=os,Pe=r;switch(r){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":Ie=g;break;case"focusin":Pe="focus",Ie=us;break;case"focusout":Pe="blur",Ie=us;break;case"beforeblur":case"afterblur":Ie=us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=as;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=re;break;case kp:case Np:case Dp:Ie=mi;break;case Lp:Ie=At;break;case"scroll":Ie=qc;break;case"wheel":Ie=ht;break;case"copy":case"cut":case"paste":Ie=bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=A}var De=(i&4)!==0,$t=!De&&r==="scroll",X=De?fe!==null?fe+"Capture":null:fe;De=[];for(var H=ne,ee;H!==null;){ee=H;var ye=ee.stateNode;if(ee.tag===5&&ye!==null&&(ee=ye,X!==null&&(ye=J(H,X),ye!=null&&De.push(wa(H,ye,ee)))),$t)break;H=H.return}0<De.length&&(fe=new Ie(fe,Pe,null,a,de),me.push({event:fe,listeners:De}))}}if(!(i&7)){e:{if(fe=r==="mouseover"||r==="pointerover",Ie=r==="mouseout"||r==="pointerout",fe&&a!==Ze&&(Pe=a.relatedTarget||a.fromElement)&&(Io(Pe)||Pe[gi]))break e;if((Ie||fe)&&(fe=de.window===de?de:(fe=de.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ie?(Pe=a.relatedTarget||a.toElement,Ie=ne,Pe=Pe?Io(Pe):null,Pe!==null&&($t=It(Pe),Pe!==$t||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ie=null,Pe=ne),Ie!==Pe)){if(De=as,ye="onMouseLeave",X="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(De=A,ye="onPointerLeave",X="onPointerEnter",H="pointer"),$t=Ie==null?fe:ys(Ie),ee=Pe==null?fe:ys(Pe),fe=new De(ye,H+"leave",Ie,a,de),fe.target=$t,fe.relatedTarget=ee,ye=null,Io(de)===ne&&(De=new De(X,H+"enter",Pe,a,de),De.target=ee,De.relatedTarget=$t,ye=De),$t=ye,Ie&&Pe)t:{for(De=Ie,X=Pe,H=0,ee=De;ee;ee=ms(ee))H++;for(ee=0,ye=X;ye;ye=ms(ye))ee++;for(;0<H-ee;)De=ms(De),H--;for(;0<ee-H;)X=ms(X),ee--;for(;H--;){if(De===X||X!==null&&De===X.alternate)break t;De=ms(De),X=ms(X)}De=null}else De=null;Ie!==null&&Up(me,fe,Ie,De,!1),Pe!==null&&$t!==null&&Up(me,$t,Pe,De,!0)}}e:{if(fe=ne?ys(ne):window,Ie=fe.nodeName&&fe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&fe.type==="file")var Le=Tw;else if(vp(fe))if(wp)Le=Aw;else{Le=Iw;var Oe=Sw}else(Ie=fe.nodeName)&&Ie.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=Rw);if(Le&&(Le=Le(r,ne))){_p(me,Le,a,de);break e}Oe&&Oe(r,fe,ne),r==="focusout"&&(Oe=fe._wrapperState)&&Oe.controlled&&fe.type==="number"&&Or(fe,"number",fe.value)}switch(Oe=ne?ys(ne):window,r){case"focusin":(vp(Oe)||Oe.contentEditable==="true")&&(ds=Oe,Gc=ne,ya=null);break;case"focusout":ya=Gc=ds=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Cp(me,a,de);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":Cp(me,a,de)}var Me;if(Wt)e:{switch(r){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else fs?gp(r,a)&&(ze="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(So&&a.locale!=="ko"&&(fs||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&fs&&(Me=ca()):(Gn=de,rs="value"in Gn?Gn.value:Gn.textContent,fs=!0)),Oe=$l(ne,ze),0<Oe.length&&(ze=new da(ze,r,null,a,de),me.push({event:ze,listeners:Oe}),Me?ze.data=Me:(Me=yp(a),Me!==null&&(ze.data=Me)))),(Me=Yn?vw(r,a):_w(r,a))&&(ne=$l(ne,"onBeforeInput"),0<ne.length&&(de=new da("onBeforeInput","beforeinput",null,a,de),me.push({event:de,listeners:ne}),de.data=Me))}Mp(me,i)})}function wa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function $l(r,i){for(var a=i+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=J(r,a),y!=null&&h.unshift(wa(r,y,d)),y=J(r,i),y!=null&&h.push(wa(r,y,d))),r=r.return}return h}function ms(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Up(r,i,a,h,d){for(var y=i._reactName,T=[];a!==null&&a!==h;){var L=a,U=L.alternate,ne=L.stateNode;if(U!==null&&U===h)break;L.tag===5&&ne!==null&&(L=ne,d?(U=J(a,y),U!=null&&T.unshift(wa(a,U,L))):d||(U=J(a,y),U!=null&&T.push(wa(a,U,L)))),a=a.return}T.length!==0&&r.push({event:i,listeners:T})}var Lw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function Bp(r){return(typeof r=="string"?r:""+r).replace(Lw,`
`).replace(Vw,"")}function Hl(r,i,a){if(i=Bp(i),Bp(r)!==i&&a)throw Error(t(425))}function ql(){}var nh=null,rh=null;function ih(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(r){return jp.resolve(null).then(r).catch(Mw)}:oh;function Mw(r){setTimeout(function(){throw r})}function sh(r,i){var a=i,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Tr(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Tr(i)}function ji(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function zp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Wr="__reactFiber$"+gs,Ea="__reactProps$"+gs,gi="__reactContainer$"+gs,ah="__reactEvents$"+gs,Fw="__reactListeners$"+gs,Uw="__reactHandles$"+gs;function Io(r){var i=r[Wr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[gi]||a[Wr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=zp(r);r!==null;){if(a=r[Wr])return a;r=zp(r)}return i}r=a,a=r.parentNode}return null}function Ta(r){return r=r[Wr]||r[gi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ys(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Wl(r){return r[Ea]||null}var lh=[],vs=-1;function zi(r){return{current:r}}function Dt(r){0>vs||(r.current=lh[vs],lh[vs]=null,vs--)}function kt(r,i){vs++,lh[vs]=r.current,r.current=i}var $i={},Sn=zi($i),Un=zi(!1),Ro=$i;function _s(r,i){var a=r.type.contextTypes;if(!a)return $i;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=i[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function Bn(r){return r=r.childContextTypes,r!=null}function Kl(){Dt(Un),Dt(Sn)}function $p(r,i,a){if(Sn.current!==$i)throw Error(t(168));kt(Sn,i),kt(Un,a)}function Hp(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in i))throw Error(t(108,rt(r)||"Unknown",d));return _e({},a,h)}function Ql(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||$i,Ro=Sn.current,kt(Sn,r),kt(Un,Un.current),!0}function qp(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Hp(r,i,Ro),h.__reactInternalMemoizedMergedChildContext=r,Dt(Un),Dt(Sn),kt(Sn,r)):Dt(Un),kt(Un,a)}var yi=null,Gl=!1,uh=!1;function Wp(r){yi===null?yi=[r]:yi.push(r)}function Bw(r){Gl=!0,Wp(r)}function Hi(){if(!uh&&yi!==null){uh=!0;var r=0,i=st;try{var a=yi;for(st=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}yi=null,Gl=!1}catch(d){throw yi!==null&&(yi=yi.slice(r+1)),En(ar,Hi),d}finally{st=i,uh=!1}}return null}var ws=[],Es=0,Yl=null,Xl=0,cr=[],hr=0,Ao=null,vi=1,_i="";function xo(r,i){ws[Es++]=Xl,ws[Es++]=Yl,Yl=r,Xl=i}function Kp(r,i,a){cr[hr++]=vi,cr[hr++]=_i,cr[hr++]=Ao,Ao=r;var h=vi;r=_i;var d=32-hn(h)-1;h&=~(1<<d),a+=1;var y=32-hn(i)+d;if(30<y){var T=d-d%5;y=(h&(1<<T)-1).toString(32),h>>=T,d-=T,vi=1<<32-hn(i)+d|a<<d|h,_i=y+r}else vi=1<<y|a<<d|h,_i=r}function ch(r){r.return!==null&&(xo(r,1),Kp(r,1,0))}function hh(r){for(;r===Yl;)Yl=ws[--Es],ws[Es]=null,Xl=ws[--Es],ws[Es]=null;for(;r===Ao;)Ao=cr[--hr],cr[hr]=null,_i=cr[--hr],cr[hr]=null,vi=cr[--hr],cr[hr]=null}var Xn=null,Jn=null,Mt=!1,Rr=null;function Qp(r,i){var a=mr(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Gp(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Xn=r,Jn=ji(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Xn=r,Jn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ao!==null?{id:vi,overflow:_i}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=mr(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Xn=r,Jn=null,!0):!1;default:return!1}}function fh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function dh(r){if(Mt){var i=Jn;if(i){var a=i;if(!Gp(r,i)){if(fh(r))throw Error(t(418));i=ji(a.nextSibling);var h=Xn;i&&Gp(r,i)?Qp(h,a):(r.flags=r.flags&-4097|2,Mt=!1,Xn=r)}}else{if(fh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Mt=!1,Xn=r}}}function Yp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Xn=r}function Jl(r){if(r!==Xn)return!1;if(!Mt)return Yp(r),Mt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!ih(r.type,r.memoizedProps)),i&&(i=Jn)){if(fh(r))throw Xp(),Error(t(418));for(;i;)Qp(r,i),i=ji(i.nextSibling)}if(Yp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Jn=ji(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Jn=null}}else Jn=Xn?ji(r.stateNode.nextSibling):null;return!0}function Xp(){for(var r=Jn;r;)r=ji(r.nextSibling)}function Ts(){Jn=Xn=null,Mt=!1}function ph(r){Rr===null?Rr=[r]:Rr.push(r)}var jw=pe.ReactCurrentBatchConfig;function Sa(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(T){var L=d.refs;T===null?delete L[y]:L[y]=T},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Zl(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Jp(r){var i=r._init;return i(r._payload)}function Zp(r){function i(X,H){if(r){var ee=X.deletions;ee===null?(X.deletions=[H],X.flags|=16):ee.push(H)}}function a(X,H){if(!r)return null;for(;H!==null;)i(X,H),H=H.sibling;return null}function h(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function d(X,H){return X=Ji(X,H),X.index=0,X.sibling=null,X}function y(X,H,ee){return X.index=ee,r?(ee=X.alternate,ee!==null?(ee=ee.index,ee<H?(X.flags|=2,H):ee):(X.flags|=2,H)):(X.flags|=1048576,H)}function T(X){return r&&X.alternate===null&&(X.flags|=2),X}function L(X,H,ee,ye){return H===null||H.tag!==6?(H=sf(ee,X.mode,ye),H.return=X,H):(H=d(H,ee),H.return=X,H)}function U(X,H,ee,ye){var Le=ee.type;return Le===b?de(X,H,ee.props.children,ye,ee.key):H!==null&&(H.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Be&&Jp(Le)===H.type)?(ye=d(H,ee.props),ye.ref=Sa(X,H,ee),ye.return=X,ye):(ye=Su(ee.type,ee.key,ee.props,null,X.mode,ye),ye.ref=Sa(X,H,ee),ye.return=X,ye)}function ne(X,H,ee,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=af(ee,X.mode,ye),H.return=X,H):(H=d(H,ee.children||[]),H.return=X,H)}function de(X,H,ee,ye,Le){return H===null||H.tag!==7?(H=bo(ee,X.mode,ye,Le),H.return=X,H):(H=d(H,ee),H.return=X,H)}function me(X,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return H=sf(""+H,X.mode,ee),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ce:return ee=Su(H.type,H.key,H.props,null,X.mode,ee),ee.ref=Sa(X,null,H),ee.return=X,ee;case z:return H=af(H,X.mode,ee),H.return=X,H;case Be:var ye=H._init;return me(X,ye(H._payload),ee)}if(On(H)||Ne(H))return H=bo(H,X.mode,ee,null),H.return=X,H;Zl(X,H)}return null}function fe(X,H,ee,ye){var Le=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Le!==null?null:L(X,H,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ce:return ee.key===Le?U(X,H,ee,ye):null;case z:return ee.key===Le?ne(X,H,ee,ye):null;case Be:return Le=ee._init,fe(X,H,Le(ee._payload),ye)}if(On(ee)||Ne(ee))return Le!==null?null:de(X,H,ee,ye,null);Zl(X,ee)}return null}function Ie(X,H,ee,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return X=X.get(ee)||null,L(H,X,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case ce:return X=X.get(ye.key===null?ee:ye.key)||null,U(H,X,ye,Le);case z:return X=X.get(ye.key===null?ee:ye.key)||null,ne(H,X,ye,Le);case Be:var Oe=ye._init;return Ie(X,H,ee,Oe(ye._payload),Le)}if(On(ye)||Ne(ye))return X=X.get(ee)||null,de(H,X,ye,Le,null);Zl(H,ye)}return null}function Pe(X,H,ee,ye){for(var Le=null,Oe=null,Me=H,ze=H=0,an=null;Me!==null&&ze<ee.length;ze++){Me.index>ze?(an=Me,Me=null):an=Me.sibling;var vt=fe(X,Me,ee[ze],ye);if(vt===null){Me===null&&(Me=an);break}r&&Me&&vt.alternate===null&&i(X,Me),H=y(vt,H,ze),Oe===null?Le=vt:Oe.sibling=vt,Oe=vt,Me=an}if(ze===ee.length)return a(X,Me),Mt&&xo(X,ze),Le;if(Me===null){for(;ze<ee.length;ze++)Me=me(X,ee[ze],ye),Me!==null&&(H=y(Me,H,ze),Oe===null?Le=Me:Oe.sibling=Me,Oe=Me);return Mt&&xo(X,ze),Le}for(Me=h(X,Me);ze<ee.length;ze++)an=Ie(Me,X,ze,ee[ze],ye),an!==null&&(r&&an.alternate!==null&&Me.delete(an.key===null?ze:an.key),H=y(an,H,ze),Oe===null?Le=an:Oe.sibling=an,Oe=an);return r&&Me.forEach(function(Zi){return i(X,Zi)}),Mt&&xo(X,ze),Le}function De(X,H,ee,ye){var Le=Ne(ee);if(typeof Le!="function")throw Error(t(150));if(ee=Le.call(ee),ee==null)throw Error(t(151));for(var Oe=Le=null,Me=H,ze=H=0,an=null,vt=ee.next();Me!==null&&!vt.done;ze++,vt=ee.next()){Me.index>ze?(an=Me,Me=null):an=Me.sibling;var Zi=fe(X,Me,vt.value,ye);if(Zi===null){Me===null&&(Me=an);break}r&&Me&&Zi.alternate===null&&i(X,Me),H=y(Zi,H,ze),Oe===null?Le=Zi:Oe.sibling=Zi,Oe=Zi,Me=an}if(vt.done)return a(X,Me),Mt&&xo(X,ze),Le;if(Me===null){for(;!vt.done;ze++,vt=ee.next())vt=me(X,vt.value,ye),vt!==null&&(H=y(vt,H,ze),Oe===null?Le=vt:Oe.sibling=vt,Oe=vt);return Mt&&xo(X,ze),Le}for(Me=h(X,Me);!vt.done;ze++,vt=ee.next())vt=Ie(Me,X,ze,vt.value,ye),vt!==null&&(r&&vt.alternate!==null&&Me.delete(vt.key===null?ze:vt.key),H=y(vt,H,ze),Oe===null?Le=vt:Oe.sibling=vt,Oe=vt);return r&&Me.forEach(function(wE){return i(X,wE)}),Mt&&xo(X,ze),Le}function $t(X,H,ee,ye){if(typeof ee=="object"&&ee!==null&&ee.type===b&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ce:e:{for(var Le=ee.key,Oe=H;Oe!==null;){if(Oe.key===Le){if(Le=ee.type,Le===b){if(Oe.tag===7){a(X,Oe.sibling),H=d(Oe,ee.props.children),H.return=X,X=H;break e}}else if(Oe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Be&&Jp(Le)===Oe.type){a(X,Oe.sibling),H=d(Oe,ee.props),H.ref=Sa(X,Oe,ee),H.return=X,X=H;break e}a(X,Oe);break}else i(X,Oe);Oe=Oe.sibling}ee.type===b?(H=bo(ee.props.children,X.mode,ye,ee.key),H.return=X,X=H):(ye=Su(ee.type,ee.key,ee.props,null,X.mode,ye),ye.ref=Sa(X,H,ee),ye.return=X,X=ye)}return T(X);case z:e:{for(Oe=ee.key;H!==null;){if(H.key===Oe)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){a(X,H.sibling),H=d(H,ee.children||[]),H.return=X,X=H;break e}else{a(X,H);break}else i(X,H);H=H.sibling}H=af(ee,X.mode,ye),H.return=X,X=H}return T(X);case Be:return Oe=ee._init,$t(X,H,Oe(ee._payload),ye)}if(On(ee))return Pe(X,H,ee,ye);if(Ne(ee))return De(X,H,ee,ye);Zl(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,H!==null&&H.tag===6?(a(X,H.sibling),H=d(H,ee),H.return=X,X=H):(a(X,H),H=sf(ee,X.mode,ye),H.return=X,X=H),T(X)):a(X,H)}return $t}var Ss=Zp(!0),em=Zp(!1),eu=zi(null),tu=null,Is=null,mh=null;function gh(){mh=Is=tu=null}function yh(r){var i=eu.current;Dt(eu),r._currentValue=i}function vh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function Rs(r,i){tu=r,mh=Is=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(jn=!0),r.firstContext=null)}function fr(r){var i=r._currentValue;if(mh!==r)if(r={context:r,memoizedValue:i,next:null},Is===null){if(tu===null)throw Error(t(308));Is=r,tu.dependencies={lanes:0,firstContext:r}}else Is=Is.next=r;return i}var Co=null;function _h(r){Co===null?Co=[r]:Co.push(r)}function tm(r,i,a,h){var d=i.interleaved;return d===null?(a.next=a,_h(i)):(a.next=d.next,d.next=a),i.interleaved=a,wi(r,h)}function wi(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var qi=!1;function wh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ei(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Wi(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,gt&2){var d=h.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),h.pending=i,wi(r,a)}return d=h.interleaved,d===null?(i.next=i,_h(h)):(i.next=d.next,d.next=i),h.interleaved=i,wi(r,a)}function nu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,bi(r,a)}}function rm(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var T={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=T:y=y.next=T,a=a.next}while(a!==null);y===null?d=y=i:y=y.next=i}else d=y=i;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ru(r,i,a,h){var d=r.updateQueue;qi=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var U=L,ne=U.next;U.next=null,T===null?y=ne:T.next=ne,T=U;var de=r.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==T&&(L===null?de.firstBaseUpdate=ne:L.next=ne,de.lastBaseUpdate=U))}if(y!==null){var me=d.baseState;T=0,de=ne=U=null,L=y;do{var fe=L.lane,Ie=L.eventTime;if((h&fe)===fe){de!==null&&(de=de.next={eventTime:Ie,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Pe=r,De=L;switch(fe=i,Ie=a,De.tag){case 1:if(Pe=De.payload,typeof Pe=="function"){me=Pe.call(Ie,me,fe);break e}me=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=De.payload,fe=typeof Pe=="function"?Pe.call(Ie,me,fe):Pe,fe==null)break e;me=_e({},me,fe);break e;case 2:qi=!0}}L.callback!==null&&L.lane!==0&&(r.flags|=64,fe=d.effects,fe===null?d.effects=[L]:fe.push(L))}else Ie={eventTime:Ie,lane:fe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(ne=de=Ie,U=me):de=de.next=Ie,T|=fe;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;fe=L,L=fe.next,fe.next=null,d.lastBaseUpdate=fe,d.shared.pending=null}}while(!0);if(de===null&&(U=me),d.baseState=U,d.firstBaseUpdate=ne,d.lastBaseUpdate=de,i=d.shared.interleaved,i!==null){d=i;do T|=d.lane,d=d.next;while(d!==i)}else y===null&&(d.shared.lanes=0);No|=T,r.lanes=T,r.memoizedState=me}}function im(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Ia={},Kr=zi(Ia),Ra=zi(Ia),Aa=zi(Ia);function Po(r){if(r===Ia)throw Error(t(174));return r}function Eh(r,i){switch(kt(Aa,i),kt(Ra,r),kt(Kr,Ia),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:S(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=S(i,r)}Dt(Kr),kt(Kr,i)}function As(){Dt(Kr),Dt(Ra),Dt(Aa)}function om(r){Po(Aa.current);var i=Po(Kr.current),a=S(i,r.type);i!==a&&(kt(Ra,r),kt(Kr,a))}function Th(r){Ra.current===r&&(Dt(Kr),Dt(Ra))}var Ft=zi(0);function iu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Sh=[];function Ih(){for(var r=0;r<Sh.length;r++)Sh[r]._workInProgressVersionPrimary=null;Sh.length=0}var ou=pe.ReactCurrentDispatcher,Rh=pe.ReactCurrentBatchConfig,ko=0,Ut=null,Xt=null,on=null,su=!1,xa=!1,Ca=0,zw=0;function In(){throw Error(t(321))}function Ah(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Ir(r[a],i[a]))return!1;return!0}function xh(r,i,a,h,d,y){if(ko=y,Ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ou.current=r===null||r.memoizedState===null?Ww:Kw,r=a(h,d),xa){y=0;do{if(xa=!1,Ca=0,25<=y)throw Error(t(301));y+=1,on=Xt=null,i.updateQueue=null,ou.current=Qw,r=a(h,d)}while(xa)}if(ou.current=uu,i=Xt!==null&&Xt.next!==null,ko=0,on=Xt=Ut=null,su=!1,i)throw Error(t(300));return r}function Ch(){var r=Ca!==0;return Ca=0,r}function Qr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ut.memoizedState=on=r:on=on.next=r,on}function dr(){if(Xt===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Xt.next;var i=on===null?Ut.memoizedState:on.next;if(i!==null)on=i,Xt=r;else{if(r===null)throw Error(t(310));Xt=r,r={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},on===null?Ut.memoizedState=on=r:on=on.next=r}return on}function Pa(r,i){return typeof i=="function"?i(r):i}function Ph(r){var i=dr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Xt,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var L=T=null,U=null,ne=y;do{var de=ne.lane;if((ko&de)===de)U!==null&&(U=U.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),h=ne.hasEagerState?ne.eagerState:r(h,ne.action);else{var me={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};U===null?(L=U=me,T=h):U=U.next=me,Ut.lanes|=de,No|=de}ne=ne.next}while(ne!==null&&ne!==y);U===null?T=h:U.next=L,Ir(h,i.memoizedState)||(jn=!0),i.memoizedState=h,i.baseState=T,i.baseQueue=U,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,Ut.lanes|=y,No|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function kh(r){var i=dr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do y=r(y,T.action),T=T.next;while(T!==d);Ir(y,i.memoizedState)||(jn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,h]}function sm(){}function am(r,i){var a=Ut,h=dr(),d=i(),y=!Ir(h.memoizedState,d);if(y&&(h.memoizedState=d,jn=!0),h=h.queue,Nh(cm.bind(null,a,h,r),[r]),h.getSnapshot!==i||y||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,ka(9,um.bind(null,a,h,d,i),void 0,null),sn===null)throw Error(t(349));ko&30||lm(a,i,d)}return d}function lm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ut.updateQueue,i===null?(i={lastEffect:null,stores:null},Ut.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function um(r,i,a,h){i.value=a,i.getSnapshot=h,hm(i)&&fm(r)}function cm(r,i,a){return a(function(){hm(i)&&fm(r)})}function hm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Ir(r,a)}catch{return!0}}function fm(r){var i=wi(r,1);i!==null&&Pr(i,r,1,-1)}function dm(r){var i=Qr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},i.queue=r,r=r.dispatch=qw.bind(null,Ut,r),[i.memoizedState,r]}function ka(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=Ut.updateQueue,i===null?(i={lastEffect:null,stores:null},Ut.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function pm(){return dr().memoizedState}function au(r,i,a,h){var d=Qr();Ut.flags|=r,d.memoizedState=ka(1|i,a,void 0,h===void 0?null:h)}function lu(r,i,a,h){var d=dr();h=h===void 0?null:h;var y=void 0;if(Xt!==null){var T=Xt.memoizedState;if(y=T.destroy,h!==null&&Ah(h,T.deps)){d.memoizedState=ka(i,a,y,h);return}}Ut.flags|=r,d.memoizedState=ka(1|i,a,y,h)}function mm(r,i){return au(8390656,8,r,i)}function Nh(r,i){return lu(2048,8,r,i)}function gm(r,i){return lu(4,2,r,i)}function ym(r,i){return lu(4,4,r,i)}function vm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function _m(r,i,a){return a=a!=null?a.concat([r]):null,lu(4,4,vm.bind(null,i,r),a)}function Dh(){}function wm(r,i){var a=dr();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Ah(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function Em(r,i){var a=dr();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Ah(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function Tm(r,i,a){return ko&21?(Ir(a,i)||(a=_o(),Ut.lanes|=a,No|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,jn=!0),r.memoizedState=a)}function $w(r,i){var a=st;st=a!==0&&4>a?a:4,r(!0);var h=Rh.transition;Rh.transition={};try{r(!1),i()}finally{st=a,Rh.transition=h}}function Sm(){return dr().memoizedState}function Hw(r,i,a){var h=Yi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Im(r))Rm(i,a);else if(a=tm(r,i,a,h),a!==null){var d=bn();Pr(a,r,h,d),Am(a,i,h)}}function qw(r,i,a){var h=Yi(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Im(r))Rm(i,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,L=y(T,a);if(d.hasEagerState=!0,d.eagerState=L,Ir(L,T)){var U=i.interleaved;U===null?(d.next=d,_h(i)):(d.next=U.next,U.next=d),i.interleaved=d;return}}catch{}finally{}a=tm(r,i,d,h),a!==null&&(d=bn(),Pr(a,r,h,d),Am(a,i,h))}}function Im(r){var i=r.alternate;return r===Ut||i!==null&&i===Ut}function Rm(r,i){xa=su=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Am(r,i,a){if(a&4194240){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,bi(r,a)}}var uu={readContext:fr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},Ww={readContext:fr,useCallback:function(r,i){return Qr().memoizedState=[r,i===void 0?null:i],r},useContext:fr,useEffect:mm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,au(4194308,4,vm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return au(4194308,4,r,i)},useInsertionEffect:function(r,i){return au(4,2,r,i)},useMemo:function(r,i){var a=Qr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=Qr();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Hw.bind(null,Ut,r),[h.memoizedState,r]},useRef:function(r){var i=Qr();return r={current:r},i.memoizedState=r},useState:dm,useDebugValue:Dh,useDeferredValue:function(r){return Qr().memoizedState=r},useTransition:function(){var r=dm(!1),i=r[0];return r=$w.bind(null,r[1]),Qr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=Ut,d=Qr();if(Mt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),sn===null)throw Error(t(349));ko&30||lm(h,i,a)}d.memoizedState=a;var y={value:a,getSnapshot:i};return d.queue=y,mm(cm.bind(null,h,y,r),[r]),h.flags|=2048,ka(9,um.bind(null,h,y,a,i),void 0,null),a},useId:function(){var r=Qr(),i=sn.identifierPrefix;if(Mt){var a=_i,h=vi;a=(h&~(1<<32-hn(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ca++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=zw++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Kw={readContext:fr,useCallback:wm,useContext:fr,useEffect:Nh,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:Em,useReducer:Ph,useRef:pm,useState:function(){return Ph(Pa)},useDebugValue:Dh,useDeferredValue:function(r){var i=dr();return Tm(i,Xt.memoizedState,r)},useTransition:function(){var r=Ph(Pa)[0],i=dr().memoizedState;return[r,i]},useMutableSource:sm,useSyncExternalStore:am,useId:Sm,unstable_isNewReconciler:!1},Qw={readContext:fr,useCallback:wm,useContext:fr,useEffect:Nh,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:Em,useReducer:kh,useRef:pm,useState:function(){return kh(Pa)},useDebugValue:Dh,useDeferredValue:function(r){var i=dr();return Xt===null?i.memoizedState=r:Tm(i,Xt.memoizedState,r)},useTransition:function(){var r=kh(Pa)[0],i=dr().memoizedState;return[r,i]},useMutableSource:sm,useSyncExternalStore:am,useId:Sm,unstable_isNewReconciler:!1};function Ar(r,i){if(r&&r.defaultProps){i=_e({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Lh(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:_e({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var cu={isMounted:function(r){return(r=r._reactInternals)?It(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=bn(),d=Yi(r),y=Ei(h,d);y.payload=i,a!=null&&(y.callback=a),i=Wi(r,y,d),i!==null&&(Pr(i,r,d,h),nu(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=bn(),d=Yi(r),y=Ei(h,d);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=Wi(r,y,d),i!==null&&(Pr(i,r,d,h),nu(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=bn(),h=Yi(r),d=Ei(a,h);d.tag=2,i!=null&&(d.callback=i),i=Wi(r,d,h),i!==null&&(Pr(i,r,h,a),nu(i,r,h))}};function xm(r,i,a,h,d,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):i.prototype&&i.prototype.isPureReactComponent?!ga(a,h)||!ga(d,y):!0}function Cm(r,i,a){var h=!1,d=$i,y=i.contextType;return typeof y=="object"&&y!==null?y=fr(y):(d=Bn(i)?Ro:Sn.current,h=i.contextTypes,y=(h=h!=null)?_s(r,d):$i),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cu,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),i}function Pm(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&cu.enqueueReplaceState(i,i.state,null)}function Vh(r,i,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},wh(r);var y=i.contextType;typeof y=="object"&&y!==null?d.context=fr(y):(y=Bn(i)?Ro:Sn.current,d.context=_s(r,y)),d.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Lh(r,i,y,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&cu.enqueueReplaceState(d,d.state,null),ru(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function xs(r,i){try{var a="",h=i;do a+=$e(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:d,digest:null}}function bh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Oh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Gw=typeof WeakMap=="function"?WeakMap:Map;function km(r,i,a){a=Ei(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){yu||(yu=!0,Xh=h),Oh(r,i)},a}function Nm(r,i,a){a=Ei(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=i.value;a.payload=function(){return h(d)},a.callback=function(){Oh(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Oh(r,i),typeof h!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),a}function Dm(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Gw;var d=new Set;h.set(i,d)}else d=h.get(i),d===void 0&&(d=new Set,h.set(i,d));d.has(a)||(d.add(a),r=uE.bind(null,r,i,a),i.then(r,r))}function Lm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Vm(r,i,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ei(-1,1),i.tag=2,Wi(a,i,1))),a.lanes|=1),r)}var Yw=pe.ReactCurrentOwner,jn=!1;function Vn(r,i,a,h){i.child=r===null?em(i,null,a,h):Ss(i,r.child,a,h)}function bm(r,i,a,h,d){a=a.render;var y=i.ref;return Rs(i,d),h=xh(r,i,a,h,y,d),a=Ch(),r!==null&&!jn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Ti(r,i,d)):(Mt&&a&&ch(i),i.flags|=1,Vn(r,i,h,d),i.child)}function Om(r,i,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!of(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Mm(r,i,y,h,d)):(r=Su(a.type,null,h,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!(r.lanes&d)){var T=y.memoizedProps;if(a=a.compare,a=a!==null?a:ga,a(T,h)&&r.ref===i.ref)return Ti(r,i,d)}return i.flags|=1,r=Ji(y,h),r.ref=i.ref,r.return=i,i.child=r}function Mm(r,i,a,h,d){if(r!==null){var y=r.memoizedProps;if(ga(y,h)&&r.ref===i.ref)if(jn=!1,i.pendingProps=h=y,(r.lanes&d)!==0)r.flags&131072&&(jn=!0);else return i.lanes=r.lanes,Ti(r,i,d)}return Mh(r,i,a,h,d)}function Fm(r,i,a){var h=i.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Ps,Zn),Zn|=a;else{if(!(a&1073741824))return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,kt(Ps,Zn),Zn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,kt(Ps,Zn),Zn|=h}else y!==null?(h=y.baseLanes|a,i.memoizedState=null):h=a,kt(Ps,Zn),Zn|=h;return Vn(r,i,d,a),i.child}function Um(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Mh(r,i,a,h,d){var y=Bn(a)?Ro:Sn.current;return y=_s(i,y),Rs(i,d),a=xh(r,i,a,h,y,d),h=Ch(),r!==null&&!jn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Ti(r,i,d)):(Mt&&h&&ch(i),i.flags|=1,Vn(r,i,a,d),i.child)}function Bm(r,i,a,h,d){if(Bn(a)){var y=!0;Ql(i)}else y=!1;if(Rs(i,d),i.stateNode===null)fu(r,i),Cm(i,a,h),Vh(i,a,h,d),h=!0;else if(r===null){var T=i.stateNode,L=i.memoizedProps;T.props=L;var U=T.context,ne=a.contextType;typeof ne=="object"&&ne!==null?ne=fr(ne):(ne=Bn(a)?Ro:Sn.current,ne=_s(i,ne));var de=a.getDerivedStateFromProps,me=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function";me||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==h||U!==ne)&&Pm(i,T,h,ne),qi=!1;var fe=i.memoizedState;T.state=fe,ru(i,h,T,d),U=i.memoizedState,L!==h||fe!==U||Un.current||qi?(typeof de=="function"&&(Lh(i,a,de,h),U=i.memoizedState),(L=qi||xm(i,a,L,h,fe,U,ne))?(me||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=U),T.props=h,T.state=U,T.context=ne,h=L):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{T=i.stateNode,nm(r,i),L=i.memoizedProps,ne=i.type===i.elementType?L:Ar(i.type,L),T.props=ne,me=i.pendingProps,fe=T.context,U=a.contextType,typeof U=="object"&&U!==null?U=fr(U):(U=Bn(a)?Ro:Sn.current,U=_s(i,U));var Ie=a.getDerivedStateFromProps;(de=typeof Ie=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==me||fe!==U)&&Pm(i,T,h,U),qi=!1,fe=i.memoizedState,T.state=fe,ru(i,h,T,d);var Pe=i.memoizedState;L!==me||fe!==Pe||Un.current||qi?(typeof Ie=="function"&&(Lh(i,a,Ie,h),Pe=i.memoizedState),(ne=qi||xm(i,a,ne,h,fe,Pe,U)||!1)?(de||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Pe,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Pe,U)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Pe),T.props=h,T.state=Pe,T.context=U,h=ne):(typeof T.componentDidUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&fe===r.memoizedState||(i.flags|=1024),h=!1)}return Fh(r,i,a,h,y,d)}function Fh(r,i,a,h,d,y){Um(r,i);var T=(i.flags&128)!==0;if(!h&&!T)return d&&qp(i,a,!1),Ti(r,i,y);h=i.stateNode,Yw.current=i;var L=T&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&T?(i.child=Ss(i,r.child,null,y),i.child=Ss(i,null,L,y)):Vn(r,i,L,y),i.memoizedState=h.state,d&&qp(i,a,!0),i.child}function jm(r){var i=r.stateNode;i.pendingContext?$p(r,i.pendingContext,i.pendingContext!==i.context):i.context&&$p(r,i.context,!1),Eh(r,i.containerInfo)}function zm(r,i,a,h,d){return Ts(),ph(d),i.flags|=256,Vn(r,i,a,h),i.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function Bh(r){return{baseLanes:r,cachePool:null,transitions:null}}function $m(r,i,a){var h=i.pendingProps,d=Ft.current,y=!1,T=(i.flags&128)!==0,L;if((L=T)||(L=r!==null&&r.memoizedState===null?!1:(d&2)!==0),L?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),kt(Ft,d&1),r===null)return dh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(T=h.children,r=h.fallback,y?(h=i.mode,y=i.child,T={mode:"hidden",children:T},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Iu(T,h,0,null),r=bo(r,h,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Bh(a),i.memoizedState=Uh,r):jh(i,T));if(d=r.memoizedState,d!==null&&(L=d.dehydrated,L!==null))return Xw(r,i,T,h,L,d,a);if(y){y=h.fallback,T=i.mode,d=r.child,L=d.sibling;var U={mode:"hidden",children:h.children};return!(T&1)&&i.child!==d?(h=i.child,h.childLanes=0,h.pendingProps=U,i.deletions=null):(h=Ji(d,U),h.subtreeFlags=d.subtreeFlags&14680064),L!==null?y=Ji(L,y):(y=bo(y,T,a,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,T=r.child.memoizedState,T=T===null?Bh(a):{baseLanes:T.baseLanes|a,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~a,i.memoizedState=Uh,h}return y=r.child,r=y.sibling,h=Ji(y,{mode:"visible",children:h.children}),!(i.mode&1)&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function jh(r,i){return i=Iu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function hu(r,i,a,h){return h!==null&&ph(h),Ss(i,r.child,null,a),r=jh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Xw(r,i,a,h,d,y,T){if(a)return i.flags&256?(i.flags&=-257,h=bh(Error(t(422))),hu(r,i,T,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=h.fallback,d=i.mode,h=Iu({mode:"visible",children:h.children},d,0,null),y=bo(y,d,T,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,i.mode&1&&Ss(i,r.child,null,T),i.child.memoizedState=Bh(T),i.memoizedState=Uh,y);if(!(i.mode&1))return hu(r,i,T,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var L=h.dgst;return h=L,y=Error(t(419)),h=bh(y,h,void 0),hu(r,i,T,h)}if(L=(T&r.childLanes)!==0,jn||L){if(h=sn,h!==null){switch(T&-T){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|T)?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,wi(r,d),Pr(h,r,d,-1))}return rf(),h=bh(Error(t(421))),hu(r,i,T,h)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=cE.bind(null,r),d._reactRetry=i,null):(r=y.treeContext,Jn=ji(d.nextSibling),Xn=i,Mt=!0,Rr=null,r!==null&&(cr[hr++]=vi,cr[hr++]=_i,cr[hr++]=Ao,vi=r.id,_i=r.overflow,Ao=i),i=jh(i,h.children),i.flags|=4096,i)}function Hm(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),vh(r.return,i,a)}function zh(r,i,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function qm(r,i,a){var h=i.pendingProps,d=h.revealOrder,y=h.tail;if(Vn(r,i,h.children,a),h=Ft.current,h&2)h=h&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Hm(r,a,i);else if(r.tag===19)Hm(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(kt(Ft,h),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&iu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),zh(i,!1,d,a,y);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&iu(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}zh(i,!0,a,null,y);break;case"together":zh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ti(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),No|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Ji(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Ji(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Jw(r,i,a){switch(i.tag){case 3:jm(i),Ts();break;case 5:om(i);break;case 1:Bn(i.type)&&Ql(i);break;case 4:Eh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,d=i.memoizedProps.value;kt(eu,h._currentValue),h._currentValue=d;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(kt(Ft,Ft.current&1),i.flags|=128,null):a&i.child.childLanes?$m(r,i,a):(kt(Ft,Ft.current&1),r=Ti(r,i,a),r!==null?r.sibling:null);kt(Ft,Ft.current&1);break;case 19:if(h=(a&i.childLanes)!==0,r.flags&128){if(h)return qm(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),kt(Ft,Ft.current),h)break;return null;case 22:case 23:return i.lanes=0,Fm(r,i,a)}return Ti(r,i,a)}var Wm,$h,Km,Qm;Wm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},$h=function(){},Km=function(r,i,a,h){var d=r.memoizedProps;if(d!==h){r=i.stateNode,Po(Kr.current);var y=null;switch(a){case"input":d=zt(r,d),h=zt(r,h),y=[];break;case"select":d=_e({},d,{value:void 0}),h=_e({},h,{value:void 0}),y=[];break;case"textarea":d=Vt(r,d),h=Vt(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ql)}pt(a,h);var T;a=null;for(ne in d)if(!h.hasOwnProperty(ne)&&d.hasOwnProperty(ne)&&d[ne]!=null)if(ne==="style"){var L=d[ne];for(T in L)L.hasOwnProperty(T)&&(a||(a={}),a[T]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?y||(y=[]):(y=y||[]).push(ne,null));for(ne in h){var U=h[ne];if(L=d!=null?d[ne]:void 0,h.hasOwnProperty(ne)&&U!==L&&(U!=null||L!=null))if(ne==="style")if(L){for(T in L)!L.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(a||(a={}),a[T]="");for(T in U)U.hasOwnProperty(T)&&L[T]!==U[T]&&(a||(a={}),a[T]=U[T])}else a||(y||(y=[]),y.push(ne,a)),a=U;else ne==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,L=L?L.__html:void 0,U!=null&&L!==U&&(y=y||[]).push(ne,U)):ne==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(ne,""+U):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(U!=null&&ne==="onScroll"&&Nt("scroll",r),y||L===U||(y=[])):(y=y||[]).push(ne,U))}a&&(y=y||[]).push("style",a);var ne=y;(i.updateQueue=ne)&&(i.flags|=4)}},Qm=function(r,i,a,h){a!==h&&(i.flags|=4)};function Na(r,i){if(!Mt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Rn(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function Zw(r,i,a){var h=i.pendingProps;switch(hh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(i),null;case 1:return Bn(i.type)&&Kl(),Rn(i),null;case 3:return h=i.stateNode,As(),Dt(Un),Dt(Sn),Ih(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Jl(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Rr!==null&&(ef(Rr),Rr=null))),$h(r,i),Rn(i),null;case 5:Th(i);var d=Po(Aa.current);if(a=i.type,r!==null&&i.stateNode!=null)Km(r,i,a,h,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Rn(i),null}if(r=Po(Kr.current),Jl(i)){h=i.stateNode,a=i.type;var y=i.memoizedProps;switch(h[Wr]=i,h[Ea]=y,r=(i.mode&1)!==0,a){case"dialog":Nt("cancel",h),Nt("close",h);break;case"iframe":case"object":case"embed":Nt("load",h);break;case"video":case"audio":for(d=0;d<va.length;d++)Nt(va[d],h);break;case"source":Nt("error",h);break;case"img":case"image":case"link":Nt("error",h),Nt("load",h);break;case"details":Nt("toggle",h);break;case"input":br(h,y),Nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Nt("invalid",h);break;case"textarea":wn(h,y),Nt("invalid",h)}pt(a,y),d=null;for(var T in y)if(y.hasOwnProperty(T)){var L=y[T];T==="children"?typeof L=="string"?h.textContent!==L&&(y.suppressHydrationWarning!==!0&&Hl(h.textContent,L,r),d=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(y.suppressHydrationWarning!==!0&&Hl(h.textContent,L,r),d=["children",""+L]):s.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&Nt("scroll",h)}switch(a){case"input":tn(h),Pi(h,y,!0);break;case"textarea":tn(h),nn(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ql)}h=d,i.updateQueue=h,h!==null&&(i.flags|=4)}else{T=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=wt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(a,{is:h.is}):(r=T.createElement(a),a==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,a),r[Wr]=i,r[Ea]=h,Wm(r,i,!1,!1),i.stateNode=r;e:{switch(T=mt(a,h),a){case"dialog":Nt("cancel",r),Nt("close",r),d=h;break;case"iframe":case"object":case"embed":Nt("load",r),d=h;break;case"video":case"audio":for(d=0;d<va.length;d++)Nt(va[d],r);d=h;break;case"source":Nt("error",r),d=h;break;case"img":case"image":case"link":Nt("error",r),Nt("load",r),d=h;break;case"details":Nt("toggle",r),d=h;break;case"input":br(r,h),d=zt(r,h),Nt("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=_e({},h,{value:void 0}),Nt("invalid",r);break;case"textarea":wn(r,h),d=Vt(r,h),Nt("invalid",r);break;default:d=h}pt(a,d),L=d;for(y in L)if(L.hasOwnProperty(y)){var U=L[y];y==="style"?He(r,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&_(r,U)):y==="children"?typeof U=="string"?(a!=="textarea"||U!=="")&&k(r,U):typeof U=="number"&&k(r,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?U!=null&&y==="onScroll"&&Nt("scroll",r):U!=null&&ie(r,y,U,T))}switch(a){case"input":tn(r),Pi(r,h,!1);break;case"textarea":tn(r),nn(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Je(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?_n(r,!!h.multiple,y,!1):h.defaultValue!=null&&_n(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=ql)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Rn(i),null;case 6:if(r&&i.stateNode!=null)Qm(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=Po(Aa.current),Po(Kr.current),Jl(i)){if(h=i.stateNode,a=i.memoizedProps,h[Wr]=i,(y=h.nodeValue!==a)&&(r=Xn,r!==null))switch(r.tag){case 3:Hl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Hl(h.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Wr]=i,i.stateNode=h}return Rn(i),null;case 13:if(Dt(Ft),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Mt&&Jn!==null&&i.mode&1&&!(i.flags&128))Xp(),Ts(),i.flags|=98560,y=!1;else if(y=Jl(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Wr]=i}else Ts(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Rn(i),y=!1}else Rr!==null&&(ef(Rr),Rr=null),y=!0;if(!y)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,i.mode&1&&(r===null||Ft.current&1?Jt===0&&(Jt=3):rf())),i.updateQueue!==null&&(i.flags|=4),Rn(i),null);case 4:return As(),$h(r,i),r===null&&_a(i.stateNode.containerInfo),Rn(i),null;case 10:return yh(i.type._context),Rn(i),null;case 17:return Bn(i.type)&&Kl(),Rn(i),null;case 19:if(Dt(Ft),y=i.memoizedState,y===null)return Rn(i),null;if(h=(i.flags&128)!==0,T=y.rendering,T===null)if(h)Na(y,!1);else{if(Jt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(T=iu(r),T!==null){for(i.flags|=128,Na(y,!1),h=T.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)y=a,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return kt(Ft,Ft.current&1|2),i.child}r=r.sibling}y.tail!==null&&ct()>ks&&(i.flags|=128,h=!0,Na(y,!1),i.lanes=4194304)}else{if(!h)if(r=iu(T),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Na(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Mt)return Rn(i),null}else 2*ct()-y.renderingStartTime>ks&&a!==1073741824&&(i.flags|=128,h=!0,Na(y,!1),i.lanes=4194304);y.isBackwards?(T.sibling=i.child,i.child=T):(a=y.last,a!==null?a.sibling=T:i.child=T,y.last=T)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=ct(),i.sibling=null,a=Ft.current,kt(Ft,h?a&1|2:a&1),i):(Rn(i),null);case 22:case 23:return nf(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&i.mode&1?Zn&1073741824&&(Rn(i),i.subtreeFlags&6&&(i.flags|=8192)):Rn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function eE(r,i){switch(hh(i),i.tag){case 1:return Bn(i.type)&&Kl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return As(),Dt(Un),Dt(Sn),Ih(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Th(i),null;case 13:if(Dt(Ft),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ts()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Dt(Ft),null;case 4:return As(),null;case 10:return yh(i.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var du=!1,An=!1,tE=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Cs(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){jt(r,i,h)}else a.current=null}function Hh(r,i,a){try{a()}catch(h){jt(r,i,h)}}var Gm=!1;function nE(r,i){if(nh=Fi,r=xp(),Qc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var T=0,L=-1,U=-1,ne=0,de=0,me=r,fe=null;t:for(;;){for(var Ie;me!==a||d!==0&&me.nodeType!==3||(L=T+d),me!==y||h!==0&&me.nodeType!==3||(U=T+h),me.nodeType===3&&(T+=me.nodeValue.length),(Ie=me.firstChild)!==null;)fe=me,me=Ie;for(;;){if(me===r)break t;if(fe===a&&++ne===d&&(L=T),fe===y&&++de===h&&(U=T),(Ie=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ie}a=L===-1||U===-1?null:{start:L,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(rh={focusedElem:r,selectionRange:a},Fi=!1,Ce=i;Ce!==null;)if(i=Ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ce=r;else for(;Ce!==null;){i=Ce;try{var Pe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var De=Pe.memoizedProps,$t=Pe.memoizedState,X=i.stateNode,H=X.getSnapshotBeforeUpdate(i.elementType===i.type?De:Ar(i.type,De),$t);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var ee=i.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){jt(i,i.return,ye)}if(r=i.sibling,r!==null){r.return=i.return,Ce=r;break}Ce=i.return}return Pe=Gm,Gm=!1,Pe}function Da(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Hh(i,a,y)}d=d.next}while(d!==h)}}function pu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function qh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Ym(r){var i=r.alternate;i!==null&&(r.alternate=null,Ym(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Wr],delete i[Ea],delete i[ah],delete i[Fw],delete i[Uw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xm(r){return r.tag===5||r.tag===3||r.tag===4}function Jm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ql));else if(h!==4&&(r=r.child,r!==null))for(Wh(r,i,a),r=r.sibling;r!==null;)Wh(r,i,a),r=r.sibling}function Kh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Kh(r,i,a),r=r.sibling;r!==null;)Kh(r,i,a),r=r.sibling}var pn=null,xr=!1;function Ki(r,i,a){for(a=a.child;a!==null;)Zm(r,i,a),a=a.sibling}function Zm(r,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(xt,a)}catch{}switch(a.tag){case 5:An||Cs(a,i);case 6:var h=pn,d=xr;pn=null,Ki(r,i,a),pn=h,xr=d,pn!==null&&(xr?(r=pn,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):pn.removeChild(a.stateNode));break;case 18:pn!==null&&(xr?(r=pn,a=a.stateNode,r.nodeType===8?sh(r.parentNode,a):r.nodeType===1&&sh(r,a),Tr(r)):sh(pn,a.stateNode));break;case 4:h=pn,d=xr,pn=a.stateNode.containerInfo,xr=!0,Ki(r,i,a),pn=h,xr=d;break;case 0:case 11:case 14:case 15:if(!An&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&Hh(a,i,T),d=d.next}while(d!==h)}Ki(r,i,a);break;case 1:if(!An&&(Cs(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(L){jt(a,i,L)}Ki(r,i,a);break;case 21:Ki(r,i,a);break;case 22:a.mode&1?(An=(h=An)||a.memoizedState!==null,Ki(r,i,a),An=h):Ki(r,i,a);break;default:Ki(r,i,a)}}function eg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tE),i.forEach(function(h){var d=hE.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Cr(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,T=i,L=T;e:for(;L!==null;){switch(L.tag){case 5:pn=L.stateNode,xr=!1;break e;case 3:pn=L.stateNode.containerInfo,xr=!0;break e;case 4:pn=L.stateNode.containerInfo,xr=!0;break e}L=L.return}if(pn===null)throw Error(t(160));Zm(y,T,d),pn=null,xr=!1;var U=d.alternate;U!==null&&(U.return=null),d.return=null}catch(ne){jt(d,i,ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)tg(i,r),i=i.sibling}function tg(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cr(i,r),Gr(r),h&4){try{Da(3,r,r.return),pu(3,r)}catch(De){jt(r,r.return,De)}try{Da(5,r,r.return)}catch(De){jt(r,r.return,De)}}break;case 1:Cr(i,r),Gr(r),h&512&&a!==null&&Cs(a,a.return);break;case 5:if(Cr(i,r),Gr(r),h&512&&a!==null&&Cs(a,a.return),r.flags&32){var d=r.stateNode;try{k(d,"")}catch(De){jt(r,r.return,De)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,T=a!==null?a.memoizedProps:y,L=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{L==="input"&&y.type==="radio"&&y.name!=null&&si(d,y),mt(L,T);var ne=mt(L,y);for(T=0;T<U.length;T+=2){var de=U[T],me=U[T+1];de==="style"?He(d,me):de==="dangerouslySetInnerHTML"?_(d,me):de==="children"?k(d,me):ie(d,de,me,ne)}switch(L){case"input":rr(d,y);break;case"textarea":vr(d,y);break;case"select":var fe=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var Ie=y.value;Ie!=null?_n(d,!!y.multiple,Ie,!1):fe!==!!y.multiple&&(y.defaultValue!=null?_n(d,!!y.multiple,y.defaultValue,!0):_n(d,!!y.multiple,y.multiple?[]:"",!1))}d[Ea]=y}catch(De){jt(r,r.return,De)}}break;case 6:if(Cr(i,r),Gr(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(De){jt(r,r.return,De)}}break;case 3:if(Cr(i,r),Gr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(i.containerInfo)}catch(De){jt(r,r.return,De)}break;case 4:Cr(i,r),Gr(r);break;case 13:Cr(i,r),Gr(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(Yh=ct())),h&4&&eg(r);break;case 22:if(de=a!==null&&a.memoizedState!==null,r.mode&1?(An=(ne=An)||de,Cr(i,r),An=ne):Cr(i,r),Gr(r),h&8192){if(ne=r.memoizedState!==null,(r.stateNode.isHidden=ne)&&!de&&r.mode&1)for(Ce=r,de=r.child;de!==null;){for(me=Ce=de;Ce!==null;){switch(fe=Ce,Ie=fe.child,fe.tag){case 0:case 11:case 14:case 15:Da(4,fe,fe.return);break;case 1:Cs(fe,fe.return);var Pe=fe.stateNode;if(typeof Pe.componentWillUnmount=="function"){h=fe,a=fe.return;try{i=h,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(De){jt(h,a,De)}}break;case 5:Cs(fe,fe.return);break;case 22:if(fe.memoizedState!==null){ig(me);continue}}Ie!==null?(Ie.return=fe,Ce=Ie):ig(me)}de=de.sibling}e:for(de=null,me=r;;){if(me.tag===5){if(de===null){de=me;try{d=me.stateNode,ne?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(L=me.stateNode,U=me.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,L.style.display=ae("display",T))}catch(De){jt(r,r.return,De)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(De){jt(r,r.return,De)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===r)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===r)break e;for(;me.sibling===null;){if(me.return===null||me.return===r)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Cr(i,r),Gr(r),h&4&&eg(r);break;case 21:break;default:Cr(i,r),Gr(r)}}function Gr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Xm(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(k(d,""),h.flags&=-33);var y=Jm(r);Kh(r,y,d);break;case 3:case 4:var T=h.stateNode.containerInfo,L=Jm(r);Wh(r,L,T);break;default:throw Error(t(161))}}catch(U){jt(r,r.return,U)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function rE(r,i,a){Ce=r,ng(r)}function ng(r,i,a){for(var h=(r.mode&1)!==0;Ce!==null;){var d=Ce,y=d.child;if(d.tag===22&&h){var T=d.memoizedState!==null||du;if(!T){var L=d.alternate,U=L!==null&&L.memoizedState!==null||An;L=du;var ne=An;if(du=T,(An=U)&&!ne)for(Ce=d;Ce!==null;)T=Ce,U=T.child,T.tag===22&&T.memoizedState!==null?og(d):U!==null?(U.return=T,Ce=U):og(d);for(;y!==null;)Ce=y,ng(y),y=y.sibling;Ce=d,du=L,An=ne}rg(r)}else d.subtreeFlags&8772&&y!==null?(y.return=d,Ce=y):rg(r)}}function rg(r){for(;Ce!==null;){var i=Ce;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:An||pu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!An)if(a===null)h.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Ar(i.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&im(i,y,h);break;case 3:var T=i.updateQueue;if(T!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}im(i,T,a)}break;case 5:var L=i.stateNode;if(a===null&&i.flags&4){a=L;var U=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&a.focus();break;case"img":U.src&&(a.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ne=i.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Tr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||i.flags&512&&qh(i)}catch(fe){jt(i,i.return,fe)}}if(i===r){Ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,Ce=a;break}Ce=i.return}}function ig(r){for(;Ce!==null;){var i=Ce;if(i===r){Ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,Ce=a;break}Ce=i.return}}function og(r){for(;Ce!==null;){var i=Ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{pu(4,i)}catch(U){jt(i,a,U)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var d=i.return;try{h.componentDidMount()}catch(U){jt(i,d,U)}}var y=i.return;try{qh(i)}catch(U){jt(i,y,U)}break;case 5:var T=i.return;try{qh(i)}catch(U){jt(i,T,U)}}}catch(U){jt(i,i.return,U)}if(i===r){Ce=null;break}var L=i.sibling;if(L!==null){L.return=i.return,Ce=L;break}Ce=i.return}}var iE=Math.ceil,mu=pe.ReactCurrentDispatcher,Qh=pe.ReactCurrentOwner,pr=pe.ReactCurrentBatchConfig,gt=0,sn=null,Kt=null,mn=0,Zn=0,Ps=zi(0),Jt=0,La=null,No=0,gu=0,Gh=0,Va=null,zn=null,Yh=0,ks=1/0,Si=null,yu=!1,Xh=null,Qi=null,vu=!1,Gi=null,_u=0,ba=0,Jh=null,wu=-1,Eu=0;function bn(){return gt&6?ct():wu!==-1?wu:wu=ct()}function Yi(r){return r.mode&1?gt&2&&mn!==0?mn&-mn:jw.transition!==null?(Eu===0&&(Eu=_o()),Eu):(r=st,r!==0||(r=window.event,r=r===void 0?16:ua(r.type)),r):1}function Pr(r,i,a,h){if(50<ba)throw ba=0,Jh=null,Error(t(185));Vi(r,a,h),(!(gt&2)||r!==sn)&&(r===sn&&(!(gt&2)&&(gu|=a),Jt===4&&Xi(r,mn)),$n(r,h),a===1&&gt===0&&!(i.mode&1)&&(ks=ct()+500,Gl&&Hi()))}function $n(r,i){var a=r.callbackNode;hi(r,i);var h=vo(r,r===sn?mn:0);if(h===0)a!==null&&Tn(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&Tn(a),i===1)r.tag===0?Bw(ag.bind(null,r)):Wp(ag.bind(null,r)),Ow(function(){!(gt&6)&&Hi()}),a=null;else{switch(Oi(h)){case 1:a=ar;break;case 4:a=ot;break;case 16:a=Rt;break;case 536870912:a=Br;break;default:a=Rt}a=mg(a,sg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function sg(r,i){if(wu=-1,Eu=0,gt&6)throw Error(t(327));var a=r.callbackNode;if(Ns()&&r.callbackNode!==a)return null;var h=vo(r,r===sn?mn:0);if(h===0)return null;if(h&30||h&r.expiredLanes||i)i=Tu(r,h);else{i=h;var d=gt;gt|=2;var y=ug();(sn!==r||mn!==i)&&(Si=null,ks=ct()+500,Lo(r,i));do try{aE();break}catch(L){lg(r,L)}while(!0);gh(),mu.current=y,gt=d,Kt!==null?i=0:(sn=null,mn=0,i=Jt)}if(i!==0){if(i===2&&(d=Qn(r),d!==0&&(h=d,i=Zh(r,d))),i===1)throw a=La,Lo(r,0),Xi(r,h),$n(r,ct()),a;if(i===6)Xi(r,h);else{if(d=r.current.alternate,!(h&30)&&!oE(d)&&(i=Tu(r,h),i===2&&(y=Qn(r),y!==0&&(h=y,i=Zh(r,y))),i===1))throw a=La,Lo(r,0),Xi(r,h),$n(r,ct()),a;switch(r.finishedWork=d,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Vo(r,zn,Si);break;case 3:if(Xi(r,h),(h&130023424)===h&&(i=Yh+500-ct(),10<i)){if(vo(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){bn(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=oh(Vo.bind(null,r,zn,Si),i);break}Vo(r,zn,Si);break;case 4:if(Xi(r,h),(h&4194240)===h)break;for(i=r.eventTimes,d=-1;0<h;){var T=31-hn(h);y=1<<T,T=i[T],T>d&&(d=T),h&=~y}if(h=d,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*iE(h/1960))-h,10<h){r.timeoutHandle=oh(Vo.bind(null,r,zn,Si),h);break}Vo(r,zn,Si);break;case 5:Vo(r,zn,Si);break;default:throw Error(t(329))}}}return $n(r,ct()),r.callbackNode===a?sg.bind(null,r):null}function Zh(r,i){var a=Va;return r.current.memoizedState.isDehydrated&&(Lo(r,i).flags|=256),r=Tu(r,i),r!==2&&(i=zn,zn=a,i!==null&&ef(i)),r}function ef(r){zn===null?zn=r:zn.push.apply(zn,r)}function oE(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!Ir(y(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(r,i){for(i&=~Gh,i&=~gu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-hn(i),h=1<<a;r[a]=-1,i&=~h}}function ag(r){if(gt&6)throw Error(t(327));Ns();var i=vo(r,0);if(!(i&1))return $n(r,ct()),null;var a=Tu(r,i);if(r.tag!==0&&a===2){var h=Qn(r);h!==0&&(i=h,a=Zh(r,h))}if(a===1)throw a=La,Lo(r,0),Xi(r,i),$n(r,ct()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Vo(r,zn,Si),$n(r,ct()),null}function tf(r,i){var a=gt;gt|=1;try{return r(i)}finally{gt=a,gt===0&&(ks=ct()+500,Gl&&Hi())}}function Do(r){Gi!==null&&Gi.tag===0&&!(gt&6)&&Ns();var i=gt;gt|=1;var a=pr.transition,h=st;try{if(pr.transition=null,st=1,r)return r()}finally{st=h,pr.transition=a,gt=i,!(gt&6)&&Hi()}}function nf(){Zn=Ps.current,Dt(Ps)}function Lo(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,bw(a)),Kt!==null)for(a=Kt.return;a!==null;){var h=a;switch(hh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Kl();break;case 3:As(),Dt(Un),Dt(Sn),Ih();break;case 5:Th(h);break;case 4:As();break;case 13:Dt(Ft);break;case 19:Dt(Ft);break;case 10:yh(h.type._context);break;case 22:case 23:nf()}a=a.return}if(sn=r,Kt=r=Ji(r.current,null),mn=Zn=i,Jt=0,La=null,Gh=gu=No=0,zn=Va=null,Co!==null){for(i=0;i<Co.length;i++)if(a=Co[i],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var T=y.next;y.next=d,h.next=T}a.pending=h}Co=null}return r}function lg(r,i){do{var a=Kt;try{if(gh(),ou.current=uu,su){for(var h=Ut.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}su=!1}if(ko=0,on=Xt=Ut=null,xa=!1,Ca=0,Qh.current=null,a===null||a.return===null){Jt=1,La=i,Kt=null;break}e:{var y=r,T=a.return,L=a,U=i;if(i=mn,L.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=U,de=L,me=de.tag;if(!(de.mode&1)&&(me===0||me===11||me===15)){var fe=de.alternate;fe?(de.updateQueue=fe.updateQueue,de.memoizedState=fe.memoizedState,de.lanes=fe.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ie=Lm(T);if(Ie!==null){Ie.flags&=-257,Vm(Ie,T,L,y,i),Ie.mode&1&&Dm(y,ne,i),i=Ie,U=ne;var Pe=i.updateQueue;if(Pe===null){var De=new Set;De.add(U),i.updateQueue=De}else Pe.add(U);break e}else{if(!(i&1)){Dm(y,ne,i),rf();break e}U=Error(t(426))}}else if(Mt&&L.mode&1){var $t=Lm(T);if($t!==null){!($t.flags&65536)&&($t.flags|=256),Vm($t,T,L,y,i),ph(xs(U,L));break e}}y=U=xs(U,L),Jt!==4&&(Jt=2),Va===null?Va=[y]:Va.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var X=km(y,U,i);rm(y,X);break e;case 1:L=U;var H=y.type,ee=y.stateNode;if(!(y.flags&128)&&(typeof H.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Qi===null||!Qi.has(ee)))){y.flags|=65536,i&=-i,y.lanes|=i;var ye=Nm(y,L,i);rm(y,ye);break e}}y=y.return}while(y!==null)}hg(a)}catch(Le){i=Le,Kt===a&&a!==null&&(Kt=a=a.return);continue}break}while(!0)}function ug(){var r=mu.current;return mu.current=uu,r===null?uu:r}function rf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sn===null||!(No&268435455)&&!(gu&268435455)||Xi(sn,mn)}function Tu(r,i){var a=gt;gt|=2;var h=ug();(sn!==r||mn!==i)&&(Si=null,Lo(r,i));do try{sE();break}catch(d){lg(r,d)}while(!0);if(gh(),gt=a,mu.current=h,Kt!==null)throw Error(t(261));return sn=null,mn=0,Jt}function sE(){for(;Kt!==null;)cg(Kt)}function aE(){for(;Kt!==null&&!Ni();)cg(Kt)}function cg(r){var i=pg(r.alternate,r,Zn);r.memoizedProps=r.pendingProps,i===null?hg(r):Kt=i,Qh.current=null}function hg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=eE(a,i),a!==null){a.flags&=32767,Kt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Jt=6,Kt=null;return}}else if(a=Zw(a,i,Zn),a!==null){Kt=a;return}if(i=i.sibling,i!==null){Kt=i;return}Kt=i=r}while(i!==null);Jt===0&&(Jt=5)}function Vo(r,i,a){var h=st,d=pr.transition;try{pr.transition=null,st=1,lE(r,i,a,h)}finally{pr.transition=d,st=h}return null}function lE(r,i,a,h){do Ns();while(Gi!==null);if(gt&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(Ct(r,y),r===sn&&(Kt=sn=null,mn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vu||(vu=!0,mg(Rt,function(){return Ns(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=pr.transition,pr.transition=null;var T=st;st=1;var L=gt;gt|=4,Qh.current=null,nE(r,a),tg(a,r),Cw(rh),Fi=!!nh,rh=nh=null,r.current=a,rE(a),ui(),gt=L,st=T,pr.transition=y}else r.current=a;if(vu&&(vu=!1,Gi=r,_u=d),y=r.pendingLanes,y===0&&(Qi=null),yo(a.stateNode),$n(r,ct()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(yu)throw yu=!1,r=Xh,Xh=null,r;return _u&1&&r.tag!==0&&Ns(),y=r.pendingLanes,y&1?r===Jh?ba++:(ba=0,Jh=r):ba=0,Hi(),null}function Ns(){if(Gi!==null){var r=Oi(_u),i=pr.transition,a=st;try{if(pr.transition=null,st=16>r?16:r,Gi===null)var h=!1;else{if(r=Gi,Gi=null,_u=0,gt&6)throw Error(t(331));var d=gt;for(gt|=4,Ce=r.current;Ce!==null;){var y=Ce,T=y.child;if(Ce.flags&16){var L=y.deletions;if(L!==null){for(var U=0;U<L.length;U++){var ne=L[U];for(Ce=ne;Ce!==null;){var de=Ce;switch(de.tag){case 0:case 11:case 15:Da(8,de,y)}var me=de.child;if(me!==null)me.return=de,Ce=me;else for(;Ce!==null;){de=Ce;var fe=de.sibling,Ie=de.return;if(Ym(de),de===ne){Ce=null;break}if(fe!==null){fe.return=Ie,Ce=fe;break}Ce=Ie}}}var Pe=y.alternate;if(Pe!==null){var De=Pe.child;if(De!==null){Pe.child=null;do{var $t=De.sibling;De.sibling=null,De=$t}while(De!==null)}}Ce=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,Ce=T;else e:for(;Ce!==null;){if(y=Ce,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Da(9,y,y.return)}var X=y.sibling;if(X!==null){X.return=y.return,Ce=X;break e}Ce=y.return}}var H=r.current;for(Ce=H;Ce!==null;){T=Ce;var ee=T.child;if(T.subtreeFlags&2064&&ee!==null)ee.return=T,Ce=ee;else e:for(T=H;Ce!==null;){if(L=Ce,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:pu(9,L)}}catch(Le){jt(L,L.return,Le)}if(L===T){Ce=null;break e}var ye=L.sibling;if(ye!==null){ye.return=L.return,Ce=ye;break e}Ce=L.return}}if(gt=d,Hi(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(xt,r)}catch{}h=!0}return h}finally{st=a,pr.transition=i}}return!1}function fg(r,i,a){i=xs(a,i),i=km(r,i,1),r=Wi(r,i,1),i=bn(),r!==null&&(Vi(r,1,i),$n(r,i))}function jt(r,i,a){if(r.tag===3)fg(r,r,a);else for(;i!==null;){if(i.tag===3){fg(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Qi===null||!Qi.has(h))){r=xs(a,r),r=Nm(i,r,1),i=Wi(i,r,1),r=bn(),i!==null&&(Vi(i,1,r),$n(i,r));break}}i=i.return}}function uE(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=bn(),r.pingedLanes|=r.suspendedLanes&a,sn===r&&(mn&a)===a&&(Jt===4||Jt===3&&(mn&130023424)===mn&&500>ct()-Yh?Lo(r,0):Gh|=a),$n(r,i)}function dg(r,i){i===0&&(r.mode&1?(i=es,es<<=1,!(es&130023424)&&(es=4194304)):i=1);var a=bn();r=wi(r,i),r!==null&&(Vi(r,i,a),$n(r,a))}function cE(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),dg(r,a)}function hE(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),dg(r,a)}var pg;pg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Un.current)jn=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return jn=!1,Jw(r,i,a);jn=!!(r.flags&131072)}else jn=!1,Mt&&i.flags&1048576&&Kp(i,Xl,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;fu(r,i),r=i.pendingProps;var d=_s(i,Sn.current);Rs(i,a),d=xh(null,i,h,r,d,a);var y=Ch();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Bn(h)?(y=!0,Ql(i)):y=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,wh(i),d.updater=cu,i.stateNode=d,d._reactInternals=i,Vh(i,h,r,a),i=Fh(null,i,h,!0,y,a)):(i.tag=0,Mt&&y&&ch(i),Vn(null,i,d,a),i=i.child),i;case 16:h=i.elementType;e:{switch(fu(r,i),r=i.pendingProps,d=h._init,h=d(h._payload),i.type=h,d=i.tag=dE(h),r=Ar(h,r),d){case 0:i=Mh(null,i,h,r,a);break e;case 1:i=Bm(null,i,h,r,a);break e;case 11:i=bm(null,i,h,r,a);break e;case 14:i=Om(null,i,h,Ar(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),Mh(r,i,h,d,a);case 1:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),Bm(r,i,h,d,a);case 3:e:{if(jm(i),r===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,d=y.element,nm(r,i),ru(i,h,null,a);var T=i.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){d=xs(Error(t(423)),i),i=zm(r,i,h,a,d);break e}else if(h!==d){d=xs(Error(t(424)),i),i=zm(r,i,h,a,d);break e}else for(Jn=ji(i.stateNode.containerInfo.firstChild),Xn=i,Mt=!0,Rr=null,a=em(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ts(),h===d){i=Ti(r,i,a);break e}Vn(r,i,h,a)}i=i.child}return i;case 5:return om(i),r===null&&dh(i),h=i.type,d=i.pendingProps,y=r!==null?r.memoizedProps:null,T=d.children,ih(h,d)?T=null:y!==null&&ih(h,y)&&(i.flags|=32),Um(r,i),Vn(r,i,T,a),i.child;case 6:return r===null&&dh(i),null;case 13:return $m(r,i,a);case 4:return Eh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=Ss(i,null,h,a):Vn(r,i,h,a),i.child;case 11:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),bm(r,i,h,d,a);case 7:return Vn(r,i,i.pendingProps,a),i.child;case 8:return Vn(r,i,i.pendingProps.children,a),i.child;case 12:return Vn(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,d=i.pendingProps,y=i.memoizedProps,T=d.value,kt(eu,h._currentValue),h._currentValue=T,y!==null)if(Ir(y.value,T)){if(y.children===d.children&&!Un.current){i=Ti(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var L=y.dependencies;if(L!==null){T=y.child;for(var U=L.firstContext;U!==null;){if(U.context===h){if(y.tag===1){U=Ei(-1,a&-a),U.tag=2;var ne=y.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?U.next=U:(U.next=de.next,de.next=U),ne.pending=U}}y.lanes|=a,U=y.alternate,U!==null&&(U.lanes|=a),vh(y.return,a,i),L.lanes|=a;break}U=U.next}}else if(y.tag===10)T=y.type===i.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=a,L=T.alternate,L!==null&&(L.lanes|=a),vh(T,a,i),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Vn(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,h=i.pendingProps.children,Rs(i,a),d=fr(d),h=h(d),i.flags|=1,Vn(r,i,h,a),i.child;case 14:return h=i.type,d=Ar(h,i.pendingProps),d=Ar(h.type,d),Om(r,i,h,d,a);case 15:return Mm(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:Ar(h,d),fu(r,i),i.tag=1,Bn(h)?(r=!0,Ql(i)):r=!1,Rs(i,a),Cm(i,h,d),Vh(i,h,d,a),Fh(null,i,h,!0,r,a);case 19:return qm(r,i,a);case 22:return Fm(r,i,a)}throw Error(t(156,i.tag))};function mg(r,i){return En(r,i)}function fE(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(r,i,a,h){return new fE(r,i,a,h)}function of(r){return r=r.prototype,!(!r||!r.isReactComponent)}function dE(r){if(typeof r=="function")return of(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Q)return 11;if(r===Qe)return 14}return 2}function Ji(r,i){var a=r.alternate;return a===null?(a=mr(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Su(r,i,a,h,d,y){var T=2;if(h=r,typeof r=="function")of(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case b:return bo(a.children,d,y,i);case P:T=8,d|=8;break;case N:return r=mr(12,a,i,d|2),r.elementType=N,r.lanes=y,r;case V:return r=mr(13,a,i,d),r.elementType=V,r.lanes=y,r;case ut:return r=mr(19,a,i,d),r.elementType=ut,r.lanes=y,r;case Ye:return Iu(a,d,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:T=10;break e;case j:T=9;break e;case Q:T=11;break e;case Qe:T=14;break e;case Be:T=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=mr(T,a,i,d),i.elementType=r,i.type=h,i.lanes=y,i}function bo(r,i,a,h){return r=mr(7,r,h,i),r.lanes=a,r}function Iu(r,i,a,h){return r=mr(22,r,h,i),r.elementType=Ye,r.lanes=a,r.stateNode={isHidden:!1},r}function sf(r,i,a){return r=mr(6,r,null,i),r.lanes=a,r}function af(r,i,a){return i=mr(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function pE(r,i,a,h,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function lf(r,i,a,h,d,y,T,L,U){return r=new pE(r,i,a,L,U),i===1?(i=1,y===!0&&(i|=8)):i=0,y=mr(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(y),r}function mE(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function gg(r){if(!r)return $i;r=r._reactInternals;e:{if(It(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Bn(a))return Hp(r,a,i)}return i}function yg(r,i,a,h,d,y,T,L,U){return r=lf(a,h,!0,r,d,y,T,L,U),r.context=gg(null),a=r.current,h=bn(),d=Yi(a),y=Ei(h,d),y.callback=i??null,Wi(a,y,d),r.current.lanes=d,Vi(r,d,h),$n(r,h),r}function Ru(r,i,a,h){var d=i.current,y=bn(),T=Yi(d);return a=gg(a),i.context===null?i.context=a:i.pendingContext=a,i=Ei(y,T),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=Wi(d,i,T),r!==null&&(Pr(r,d,T,y),nu(r,d,T)),T}function Au(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function vg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function uf(r,i){vg(r,i),(r=r.alternate)&&vg(r,i)}function gE(){return null}var _g=typeof reportError=="function"?reportError:function(r){console.error(r)};function cf(r){this._internalRoot=r}xu.prototype.render=cf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Ru(r,i,null,null)},xu.prototype.unmount=cf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Do(function(){Ru(null,r,null,null)}),i[gi]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var i=xl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,r),a===0&&kl(r)}};function hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wg(){}function yE(r,i,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var ne=Au(T);y.call(ne)}}var T=yg(i,h,r,0,null,!1,!1,"",wg);return r._reactRootContainer=T,r[gi]=T.current,_a(r.nodeType===8?r.parentNode:r),Do(),T}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var L=h;h=function(){var ne=Au(U);L.call(ne)}}var U=lf(r,0,!1,null,null,!1,!1,"",wg);return r._reactRootContainer=U,r[gi]=U.current,_a(r.nodeType===8?r.parentNode:r),Do(function(){Ru(i,U,a,h)}),U}function Pu(r,i,a,h,d){var y=a._reactRootContainer;if(y){var T=y;if(typeof d=="function"){var L=d;d=function(){var U=Au(T);L.call(U)}}Ru(i,T,r,d)}else T=yE(a,i,r,d,h);return Au(T)}Rl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Di(i.pendingLanes);a!==0&&(bi(i,a|1),$n(i,ct()),!(gt&6)&&(ks=ct()+500,Hi()))}break;case 13:Do(function(){var h=wi(r,1);if(h!==null){var d=bn();Pr(h,r,1,d)}}),uf(r,1)}},ts=function(r){if(r.tag===13){var i=wi(r,134217728);if(i!==null){var a=bn();Pr(i,r,134217728,a)}uf(r,134217728)}},Al=function(r){if(r.tag===13){var i=Yi(r),a=wi(r,i);if(a!==null){var h=bn();Pr(a,r,i,h)}uf(r,i)}},xl=function(){return st},Cl=function(r,i){var a=st;try{return st=r,i()}finally{st=a}},ki=function(r,i,a){switch(i){case"input":if(rr(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var d=Wl(h);if(!d)throw Error(t(90));nr(h),rr(h,d)}}}break;case"textarea":vr(r,a);break;case"select":i=a.value,i!=null&&_n(r,!!a.multiple,i,!1)}},li=tf,go=Do;var vE={usingClientEntryPoint:!1,Events:[Ta,ys,Wl,Dn,Fr,tf]},Oa={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_E={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=or(r),r===null?null:r.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||gE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{xt=ku.inject(_E),qt=ku}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE,Hn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(i))throw Error(t(200));return mE(r,i,null,a)},Hn.createRoot=function(r,i){if(!hf(r))throw Error(t(299));var a=!1,h="",d=_g;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=lf(r,1,!1,null,null,a,!1,h,d),r[gi]=i.current,_a(r.nodeType===8?r.parentNode:r),new cf(i)},Hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=or(i),r=r===null?null:r.stateNode,r},Hn.flushSync=function(r){return Do(r)},Hn.hydrate=function(r,i,a){if(!Cu(i))throw Error(t(200));return Pu(null,r,i,!0,a)},Hn.hydrateRoot=function(r,i,a){if(!hf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",T=_g;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),i=yg(i,null,r,1,a??null,d,!1,y,T),r[gi]=i.current,_a(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new xu(i)},Hn.render=function(r,i,a){if(!Cu(i))throw Error(t(200));return Pu(null,r,i,!1,a)},Hn.unmountComponentAtNode=function(r){if(!Cu(r))throw Error(t(40));return r._reactRootContainer?(Do(function(){Pu(null,null,r,!1,function(){r._reactRootContainer=null,r[gi]=null})}),!0):!1},Hn.unstable_batchedUpdates=tf,Hn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!Cu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Pu(r,i,a,!1,h)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var Pg;function Av(){if(Pg)return pf.exports;Pg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pf.exports=kE(),pf.exports}var kg;function NE(){if(kg)return Nu;kg=1;var n=Av();return Nu.createRoot=n.createRoot,Nu.hydrateRoot=n.hydrateRoot,Nu}var DE=NE();function LE(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:o}=n,[s,l]=q.useState(!1),c=q.useRef(t);c.current=t;const f=q.useRef(o);return f.current=o,q.useEffect(()=>{const p=document.createElement("script");return p.src="https://accounts.google.com/gsi/client",p.async=!0,p.defer=!0,p.nonce=e,p.onload=()=>{var m;l(!0),(m=c.current)===null||m===void 0||m.call(c)},p.onerror=()=>{var m;l(!1),(m=f.current)===null||m===void 0||m.call(f)},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[e]),s}const xv=q.createContext(null);function Cv({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:o,children:s}){const l=LE({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:o}),c=q.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:l}),[n,l]);return xE.createElement(xv.Provider,{value:c},s)}function VE(){const n=q.useContext(xv);if(!n)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return n}function Ng(){var n,e,t;(t=(e=(n=window==null?void 0:window.google)===null||n===void 0?void 0:n.accounts)===null||e===void 0?void 0:e.id)===null||t===void 0||t.disableAutoSelect()}function bE({flow:n="implicit",scope:e="",onSuccess:t,onError:o,onNonOAuthError:s,overrideScope:l,state:c,...f}){const{clientId:p,scriptLoadedSuccessfully:m}=VE(),w=q.useRef(),I=q.useRef(t);I.current=t;const R=q.useRef(o);R.current=o;const x=q.useRef(s);x.current=s,q.useEffect(()=>{var D,W;if(!m)return;const Z=n==="implicit"?"initTokenClient":"initCodeClient",ie=(W=(D=window==null?void 0:window.google)===null||D===void 0?void 0:D.accounts)===null||W===void 0?void 0:W.oauth2[Z]({client_id:p,scope:l?e:`openid profile email ${e}`,callback:pe=>{var ce,z;if(pe.error)return(ce=R.current)===null||ce===void 0?void 0:ce.call(R,pe);(z=I.current)===null||z===void 0||z.call(I,pe)},error_callback:pe=>{var ce;(ce=x.current)===null||ce===void 0||ce.call(x,pe)},state:c,...f});w.current=ie},[p,m,n,e,c]);const C=q.useCallback(D=>{var W;return(W=w.current)===null||W===void 0?void 0:W.requestAccessToken(D)},[]),O=q.useCallback(()=>{var D;return(D=w.current)===null||D===void 0?void 0:D.requestCode()},[]);return n==="implicit"?C:O}const Qs=q.createContext({user:null,signin:()=>{},signout:()=>{}}),Gs=q.createContext({tags:new Set,setTags:()=>{},pantry:new Set,setPantry:()=>{}});function OE(){const n=q.useContext(Qs);return n.user?K.jsx("button",{className:"full-btn-red",onClick:n.signout,children:"Logout"}):K.jsx("button",{onClick:n.signin,className:"full-btn-blue",children:"Login as admin"})}function ME({directions:n,setDirections:e}){const t=()=>{const l=[...n,""];e(l)},o=l=>{const c=[...n];c.splice(l,1),e(c)},s=(l,c)=>{const f=[...n];f[l]=c,e(f)};return K.jsxs("div",{className:"flex flex-col",children:[K.jsxs("h2",{children:["Directions ",K.jsx(Us,{type:"utensils"})]}),n.map((l,c)=>K.jsxs("div",{className:"flex flex-row",children:[K.jsxs("div",{className:"flex flex-row input-txt",children:[K.jsx("p",{className:"me-1",children:`${c+1}.`}),K.jsx("textarea",{className:"bg-transparent outline-none w-full pointer-events-auto",rows:1,value:l,onChange:f=>s(c,f.target.value)})]}),K.jsx("div",{onClick:()=>o(c),children:K.jsx(pp,{styles:"input-trash"})})]},c)),K.jsx("button",{className:"placeholder-btn-tan mt-2",onClick:t,children:"Add +"})]})}function FE(n){switch(n){case"utensils":return["🍳","🥄","🍽️","🥢","🥣","🔥","🥘","👩‍🍳","⏲️"];case"ingredients":default:return["🍎","🍌","🍐","🍊","🍋","🍉","🍓","🥑","🥦","🥬","🥒","🌽","🫑","🌶️","🥕","🧄","🧅","🥔","🍠","🫚","🥯","🍞","🥖","🧀","🥚","🧈","🥓","🥩","🍗","🍚","🍫","🍾"]}}function Us({type:n}){const[e,t]=q.useState(0),o=FE(n);return q.useEffect(()=>{const s=setInterval(()=>t(Math.floor(Math.random()*o.length)),1e3);return()=>{clearInterval(s)}}),K.jsx(K.Fragment,{children:o[e]})}function Pv(n,e){return function(){return n.apply(e,arguments)}}const{toString:UE}=Object.prototype,{getPrototypeOf:fd}=Object,vc=(n=>e=>{const t=UE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=n=>(n=n.toLowerCase(),e=>vc(e)===n),_c=n=>e=>typeof e===n,{isArray:Ys}=Array,Za=_c("undefined");function BE(n){return n!==null&&!Za(n)&&n.constructor!==null&&!Za(n.constructor)&&tr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const kv=Vr("ArrayBuffer");function jE(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&kv(n.buffer),e}const zE=_c("string"),tr=_c("function"),Nv=_c("number"),wc=n=>n!==null&&typeof n=="object",$E=n=>n===!0||n===!1,Bu=n=>{if(vc(n)!=="object")return!1;const e=fd(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},HE=Vr("Date"),qE=Vr("File"),WE=Vr("Blob"),KE=Vr("FileList"),QE=n=>wc(n)&&tr(n.pipe),GE=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||tr(n.append)&&((e=vc(n))==="formdata"||e==="object"&&tr(n.toString)&&n.toString()==="[object FormData]"))},YE=Vr("URLSearchParams"),[XE,JE,ZE,eT]=["ReadableStream","Request","Response","Headers"].map(Vr),tT=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let o,s;if(typeof n!="object"&&(n=[n]),Ys(n))for(o=0,s=n.length;o<s;o++)e.call(null,n[o],o,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let f;for(o=0;o<c;o++)f=l[o],e.call(null,n[f],f,n)}}function Dv(n,e){e=e.toLowerCase();const t=Object.keys(n);let o=t.length,s;for(;o-- >0;)if(s=t[o],e===s.toLowerCase())return s;return null}const Fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lv=n=>!Za(n)&&n!==Fo;function Vf(){const{caseless:n}=Lv(this)&&this||{},e={},t=(o,s)=>{const l=n&&Dv(e,s)||s;Bu(e[l])&&Bu(o)?e[l]=Vf(e[l],o):Bu(o)?e[l]=Vf({},o):Ys(o)?e[l]=o.slice():e[l]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&hl(arguments[o],t);return e}const nT=(n,e,t,{allOwnKeys:o}={})=>(hl(e,(s,l)=>{t&&tr(s)?n[l]=Pv(s,t):n[l]=s},{allOwnKeys:o}),n),rT=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iT=(n,e,t,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},oT=(n,e,t,o)=>{let s,l,c;const f={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),l=s.length;l-- >0;)c=s[l],(!o||o(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&fd(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},sT=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const o=n.indexOf(e,t);return o!==-1&&o===t},aT=n=>{if(!n)return null;if(Ys(n))return n;let e=n.length;if(!Nv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},lT=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&fd(Uint8Array)),uT=(n,e)=>{const o=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=o.next())&&!s.done;){const l=s.value;e.call(n,l[0],l[1])}},cT=(n,e)=>{let t;const o=[];for(;(t=n.exec(e))!==null;)o.push(t);return o},hT=Vr("HTMLFormElement"),fT=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,s){return o.toUpperCase()+s}),Dg=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),dT=Vr("RegExp"),Vv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),o={};hl(t,(s,l)=>{let c;(c=e(s,l,n))!==!1&&(o[l]=c||s)}),Object.defineProperties(n,o)},pT=n=>{Vv(n,(e,t)=>{if(tr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=n[t];if(tr(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mT=(n,e)=>{const t={},o=s=>{s.forEach(l=>{t[l]=!0})};return Ys(n)?o(n):o(String(n).split(e)),t},gT=()=>{},yT=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,yf="abcdefghijklmnopqrstuvwxyz",Lg="0123456789",bv={DIGIT:Lg,ALPHA:yf,ALPHA_DIGIT:yf+yf.toUpperCase()+Lg},vT=(n=16,e=bv.ALPHA_DIGIT)=>{let t="";const{length:o}=e;for(;n--;)t+=e[Math.random()*o|0];return t};function _T(n){return!!(n&&tr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const wT=n=>{const e=new Array(10),t=(o,s)=>{if(wc(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const l=Ys(o)?[]:{};return hl(o,(c,f)=>{const p=t(c,s+1);!Za(p)&&(l[f]=p)}),e[s]=void 0,l}}return o};return t(n,0)},ET=Vr("AsyncFunction"),TT=n=>n&&(wc(n)||tr(n))&&tr(n.then)&&tr(n.catch),Ov=((n,e)=>n?setImmediate:e?((t,o)=>(Fo.addEventListener("message",({source:s,data:l})=>{s===Fo&&l===t&&o.length&&o.shift()()},!1),s=>{o.push(s),Fo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",tr(Fo.postMessage)),ST=typeof queueMicrotask<"u"?queueMicrotask.bind(Fo):typeof process<"u"&&process.nextTick||Ov,oe={isArray:Ys,isArrayBuffer:kv,isBuffer:BE,isFormData:GE,isArrayBufferView:jE,isString:zE,isNumber:Nv,isBoolean:$E,isObject:wc,isPlainObject:Bu,isReadableStream:XE,isRequest:JE,isResponse:ZE,isHeaders:eT,isUndefined:Za,isDate:HE,isFile:qE,isBlob:WE,isRegExp:dT,isFunction:tr,isStream:QE,isURLSearchParams:YE,isTypedArray:lT,isFileList:KE,forEach:hl,merge:Vf,extend:nT,trim:tT,stripBOM:rT,inherits:iT,toFlatObject:oT,kindOf:vc,kindOfTest:Vr,endsWith:sT,toArray:aT,forEachEntry:uT,matchAll:cT,isHTMLForm:hT,hasOwnProperty:Dg,hasOwnProp:Dg,reduceDescriptors:Vv,freezeMethods:pT,toObjectSet:mT,toCamelCase:fT,noop:gT,toFiniteNumber:yT,findKey:Dv,global:Fo,isContextDefined:Lv,ALPHABET:bv,generateString:vT,isSpecCompliantForm:_T,toJSONObject:wT,isAsyncFn:ET,isThenable:TT,setImmediate:Ov,asap:ST};function Xe(n,e,t,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Mv=Xe.prototype,Fv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Fv[n]={value:n}});Object.defineProperties(Xe,Fv);Object.defineProperty(Mv,"isAxiosError",{value:!0});Xe.from=(n,e,t,o,s,l)=>{const c=Object.create(Mv);return oe.toFlatObject(n,c,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),Xe.call(c,n.message,e,t,o,s),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const IT=null;function bf(n){return oe.isPlainObject(n)||oe.isArray(n)}function Uv(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function Vg(n,e,t){return n?n.concat(e).map(function(s,l){return s=Uv(s),!t&&l?"["+s+"]":s}).join(t?".":""):e}function RT(n){return oe.isArray(n)&&!n.some(bf)}const AT=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Ec(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,D){return!oe.isUndefined(D[O])});const o=t.metaTokens,s=t.visitor||w,l=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(oe.isDate(C))return C.toISOString();if(!p&&oe.isBlob(C))throw new Xe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(C)||oe.isTypedArray(C)?p&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function w(C,O,D){let W=C;if(C&&!D&&typeof C=="object"){if(oe.endsWith(O,"{}"))O=o?O:O.slice(0,-2),C=JSON.stringify(C);else if(oe.isArray(C)&&RT(C)||(oe.isFileList(C)||oe.endsWith(O,"[]"))&&(W=oe.toArray(C)))return O=Uv(O),W.forEach(function(ie,pe){!(oe.isUndefined(ie)||ie===null)&&e.append(c===!0?Vg([O],pe,l):c===null?O:O+"[]",m(ie))}),!1}return bf(C)?!0:(e.append(Vg(D,O,l),m(C)),!1)}const I=[],R=Object.assign(AT,{defaultVisitor:w,convertValue:m,isVisitable:bf});function x(C,O){if(!oe.isUndefined(C)){if(I.indexOf(C)!==-1)throw Error("Circular reference detected in "+O.join("."));I.push(C),oe.forEach(C,function(W,Z){(!(oe.isUndefined(W)||W===null)&&s.call(e,W,oe.isString(Z)?Z.trim():Z,O,R))===!0&&x(W,O?O.concat(Z):[Z])}),I.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return x(n),e}function bg(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function dd(n,e){this._pairs=[],n&&Ec(n,this,e)}const Bv=dd.prototype;Bv.append=function(e,t){this._pairs.push([e,t])};Bv.toString=function(e){const t=e?function(o){return e.call(this,o,bg)}:bg;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function xT(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jv(n,e,t){if(!e)return n;const o=t&&t.encode||xT;oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let l;if(s?l=s(e,t):l=oe.isURLSearchParams(e)?e.toString():new dd(e,t).toString(o),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class Og{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(o){o!==null&&e(o)})}}const zv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CT=typeof URLSearchParams<"u"?URLSearchParams:dd,PT=typeof FormData<"u"?FormData:null,kT=typeof Blob<"u"?Blob:null,NT={isBrowser:!0,classes:{URLSearchParams:CT,FormData:PT,Blob:kT},protocols:["http","https","file","blob","url","data"]},pd=typeof window<"u"&&typeof document<"u",Of=typeof navigator=="object"&&navigator||void 0,DT=pd&&(!Of||["ReactNative","NativeScript","NS"].indexOf(Of.product)<0),LT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VT=pd&&window.location.href||"http://localhost",bT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pd,hasStandardBrowserEnv:DT,hasStandardBrowserWebWorkerEnv:LT,navigator:Of,origin:VT},Symbol.toStringTag,{value:"Module"})),kn={...bT,...NT};function OT(n,e){return Ec(n,new kn.classes.URLSearchParams,Object.assign({visitor:function(t,o,s,l){return kn.isNode&&oe.isBuffer(t)?(this.append(o,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function MT(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FT(n){const e={},t=Object.keys(n);let o;const s=t.length;let l;for(o=0;o<s;o++)l=t[o],e[l]=n[l];return e}function $v(n){function e(t,o,s,l){let c=t[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),p=l>=t.length;return c=!c&&oe.isArray(s)?s.length:c,p?(oe.hasOwnProp(s,c)?s[c]=[s[c],o]:s[c]=o,!f):((!s[c]||!oe.isObject(s[c]))&&(s[c]=[]),e(t,o,s[c],l)&&oe.isArray(s[c])&&(s[c]=FT(s[c])),!f)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(o,s)=>{e(MT(o),s,t,0)}),t}return null}function UT(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(n)}const fl={transitional:zv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",s=o.indexOf("application/json")>-1,l=oe.isObject(e);if(l&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify($v(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return OT(e,this.formSerializer).toString();if((f=oe.isFileList(e))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Ec(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||s?(t.setContentType("application/json",!1),UT(e)):e}],transformResponse:[function(e){const t=this.transitional||fl.transitional,o=t&&t.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(o&&!this.responseType||s)){const c=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Xe.from(f,Xe.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{fl.headers[n]={}});const BT=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jT=n=>{const e={};let t,o,s;return n&&n.split(`
`).forEach(function(c){s=c.indexOf(":"),t=c.substring(0,s).trim().toLowerCase(),o=c.substring(s+1).trim(),!(!t||e[t]&&BT[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},Mg=Symbol("internals");function Fa(n){return n&&String(n).trim().toLowerCase()}function ju(n){return n===!1||n==null?n:oe.isArray(n)?n.map(ju):String(n)}function zT(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(n);)e[o[1]]=o[2];return e}const $T=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function vf(n,e,t,o,s){if(oe.isFunction(o))return o.call(this,e,t);if(s&&(e=t),!!oe.isString(e)){if(oe.isString(o))return e.indexOf(o)!==-1;if(oe.isRegExp(o))return o.test(e)}}function HT(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function qT(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+t,{value:function(s,l,c){return this[o].call(this,e,s,l,c)},configurable:!0})})}let Wn=class{constructor(e){e&&this.set(e)}set(e,t,o){const s=this;function l(f,p,m){const w=Fa(p);if(!w)throw new Error("header name must be a non-empty string");const I=oe.findKey(s,w);(!I||s[I]===void 0||m===!0||m===void 0&&s[I]!==!1)&&(s[I||p]=ju(f))}const c=(f,p)=>oe.forEach(f,(m,w)=>l(m,w,p));if(oe.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(oe.isString(e)&&(e=e.trim())&&!$T(e))c(jT(e),t);else if(oe.isHeaders(e))for(const[f,p]of e.entries())l(p,f,o);else e!=null&&l(t,e,o);return this}get(e,t){if(e=Fa(e),e){const o=oe.findKey(this,e);if(o){const s=this[o];if(!t)return s;if(t===!0)return zT(s);if(oe.isFunction(t))return t.call(this,s,o);if(oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fa(e),e){const o=oe.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||vf(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let s=!1;function l(c){if(c=Fa(c),c){const f=oe.findKey(o,c);f&&(!t||vf(o,o[f],f,t))&&(delete o[f],s=!0)}}return oe.isArray(e)?e.forEach(l):l(e),s}clear(e){const t=Object.keys(this);let o=t.length,s=!1;for(;o--;){const l=t[o];(!e||vf(this,this[l],l,e,!0))&&(delete this[l],s=!0)}return s}normalize(e){const t=this,o={};return oe.forEach(this,(s,l)=>{const c=oe.findKey(o,l);if(c){t[c]=ju(s),delete t[l];return}const f=e?HT(l):String(l).trim();f!==l&&delete t[l],t[f]=ju(s),o[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(o,s)=>{o!=null&&o!==!1&&(t[s]=e&&oe.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(s=>o.set(s)),o}static accessor(e){const o=(this[Mg]=this[Mg]={accessors:{}}).accessors,s=this.prototype;function l(c){const f=Fa(c);o[f]||(qT(s,c),o[f]=!0)}return oe.isArray(e)?e.forEach(l):l(e),this}};Wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Wn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[t]=o}}});oe.freezeMethods(Wn);function _f(n,e){const t=this||fl,o=e||t,s=Wn.from(o.headers);let l=o.data;return oe.forEach(n,function(f){l=f.call(t,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function Hv(n){return!!(n&&n.__CANCEL__)}function Xs(n,e,t){Xe.call(this,n??"canceled",Xe.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Xs,Xe,{__CANCEL__:!0});function qv(n,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?n(t):e(new Xe("Request failed with status code "+t.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function WT(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function KT(n,e){n=n||10;const t=new Array(n),o=new Array(n);let s=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),w=o[l];c||(c=m),t[s]=p,o[s]=m;let I=l,R=0;for(;I!==s;)R+=t[I++],I=I%n;if(s=(s+1)%n,s===l&&(l=(l+1)%n),m-c<e)return;const x=w&&m-w;return x?Math.round(R*1e3/x):void 0}}function QT(n,e){let t=0,o=1e3/e,s,l;const c=(m,w=Date.now())=>{t=w,s=null,l&&(clearTimeout(l),l=null),n.apply(null,m)};return[(...m)=>{const w=Date.now(),I=w-t;I>=o?c(m,w):(s=m,l||(l=setTimeout(()=>{l=null,c(s)},o-I)))},()=>s&&c(s)]}const Ju=(n,e,t=3)=>{let o=0;const s=KT(50,250);return QT(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,p=c-o,m=s(p),w=c<=f;o=c;const I={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&w?(f-c)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(I)},t)},Fg=(n,e)=>{const t=n!=null;return[o=>e[0]({lengthComputable:t,total:n,loaded:o}),e[1]]},Ug=n=>(...e)=>oe.asap(()=>n(...e)),GT=kn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,kn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(kn.origin),kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent)):()=>!0,YT=kn.hasStandardBrowserEnv?{write(n,e,t,o,s,l){const c=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),oe.isString(o)&&c.push("path="+o),oe.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function JT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Wv(n,e){return n&&!XT(e)?JT(n,e):e}const Bg=n=>n instanceof Wn?{...n}:n;function zo(n,e){e=e||{};const t={};function o(m,w,I,R){return oe.isPlainObject(m)&&oe.isPlainObject(w)?oe.merge.call({caseless:R},m,w):oe.isPlainObject(w)?oe.merge({},w):oe.isArray(w)?w.slice():w}function s(m,w,I,R){if(oe.isUndefined(w)){if(!oe.isUndefined(m))return o(void 0,m,I,R)}else return o(m,w,I,R)}function l(m,w){if(!oe.isUndefined(w))return o(void 0,w)}function c(m,w){if(oe.isUndefined(w)){if(!oe.isUndefined(m))return o(void 0,m)}else return o(void 0,w)}function f(m,w,I){if(I in e)return o(m,w);if(I in n)return o(void 0,m)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(m,w,I)=>s(Bg(m),Bg(w),I,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(w){const I=p[w]||s,R=I(n[w],e[w],w);oe.isUndefined(R)&&I!==f||(t[w]=R)}),t}const Kv=n=>{const e=zo({},n);let{data:t,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:l,headers:c,auth:f}=e;e.headers=c=Wn.from(c),e.url=jv(Wv(e.baseURL,e.url),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(oe.isFormData(t)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...w]=p?p.split(";").map(I=>I.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...w].join("; "))}}if(kn.hasStandardBrowserEnv&&(o&&oe.isFunction(o)&&(o=o(e)),o||o!==!1&&GT(e.url))){const m=s&&l&&YT.read(l);m&&c.set(s,m)}return e},ZT=typeof XMLHttpRequest<"u",e1=ZT&&function(n){return new Promise(function(t,o){const s=Kv(n);let l=s.data;const c=Wn.from(s.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=s,w,I,R,x,C;function O(){x&&x(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(w),s.signal&&s.signal.removeEventListener("abort",w)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function W(){if(!D)return;const ie=Wn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ce={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:ie,config:n,request:D};qv(function(b){t(b),O()},function(b){o(b),O()},ce),D=null}"onloadend"in D?D.onloadend=W:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(W)},D.onabort=function(){D&&(o(new Xe("Request aborted",Xe.ECONNABORTED,n,D)),D=null)},D.onerror=function(){o(new Xe("Network Error",Xe.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let pe=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ce=s.transitional||zv;s.timeoutErrorMessage&&(pe=s.timeoutErrorMessage),o(new Xe(pe,ce.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,n,D)),D=null},l===void 0&&c.setContentType(null),"setRequestHeader"in D&&oe.forEach(c.toJSON(),function(pe,ce){D.setRequestHeader(ce,pe)}),oe.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),f&&f!=="json"&&(D.responseType=s.responseType),m&&([R,C]=Ju(m,!0),D.addEventListener("progress",R)),p&&D.upload&&([I,x]=Ju(p),D.upload.addEventListener("progress",I),D.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(w=ie=>{D&&(o(!ie||ie.type?new Xs(null,n,D):ie),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(w),s.signal&&(s.signal.aborted?w():s.signal.addEventListener("abort",w)));const Z=WT(s.url);if(Z&&kn.protocols.indexOf(Z)===-1){o(new Xe("Unsupported protocol "+Z+":",Xe.ERR_BAD_REQUEST,n));return}D.send(l||null)})},t1=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let o=new AbortController,s;const l=function(m){if(!s){s=!0,f();const w=m instanceof Error?m:this.reason;o.abort(w instanceof Xe?w:new Xs(w instanceof Error?w.message:w))}};let c=e&&setTimeout(()=>{c=null,l(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),n=null)};n.forEach(m=>m.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>oe.asap(f),p}},n1=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let o=0,s;for(;o<t;)s=o+e,yield n.slice(o,s),o=s},r1=async function*(n,e){for await(const t of i1(n))yield*n1(t,e)},i1=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:o}=await e.read();if(t)break;yield o}}finally{await e.cancel()}},jg=(n,e,t,o)=>{const s=r1(n,e);let l=0,c,f=p=>{c||(c=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:m,value:w}=await s.next();if(m){f(),p.close();return}let I=w.byteLength;if(t){let R=l+=I;t(R)}p.enqueue(new Uint8Array(w))}catch(m){throw f(m),m}},cancel(p){return f(p),s.return()}},{highWaterMark:2})},Tc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qv=Tc&&typeof ReadableStream=="function",o1=Tc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Gv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},s1=Qv&&Gv(()=>{let n=!1;const e=new Request(kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),zg=64*1024,Mf=Qv&&Gv(()=>oe.isReadableStream(new Response("").body)),Zu={stream:Mf&&(n=>n.body)};Tc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zu[e]&&(Zu[e]=oe.isFunction(n[e])?t=>t[e]():(t,o)=>{throw new Xe(`Response type '${e}' is not supported`,Xe.ERR_NOT_SUPPORT,o)})})})(new Response);const a1=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(kn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await o1(n)).byteLength},l1=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??a1(e)},u1=Tc&&(async n=>{let{url:e,method:t,data:o,signal:s,cancelToken:l,timeout:c,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:w,withCredentials:I="same-origin",fetchOptions:R}=Kv(n);m=m?(m+"").toLowerCase():"text";let x=t1([s,l&&l.toAbortSignal()],c),C;const O=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let D;try{if(p&&s1&&t!=="get"&&t!=="head"&&(D=await l1(w,o))!==0){let ce=new Request(e,{method:"POST",body:o,duplex:"half"}),z;if(oe.isFormData(o)&&(z=ce.headers.get("content-type"))&&w.setContentType(z),ce.body){const[b,P]=Fg(D,Ju(Ug(p)));o=jg(ce.body,zg,b,P)}}oe.isString(I)||(I=I?"include":"omit");const W="credentials"in Request.prototype;C=new Request(e,{...R,signal:x,method:t.toUpperCase(),headers:w.normalize().toJSON(),body:o,duplex:"half",credentials:W?I:void 0});let Z=await fetch(C);const ie=Mf&&(m==="stream"||m==="response");if(Mf&&(f||ie&&O)){const ce={};["status","statusText","headers"].forEach(N=>{ce[N]=Z[N]});const z=oe.toFiniteNumber(Z.headers.get("content-length")),[b,P]=f&&Fg(z,Ju(Ug(f),!0))||[];Z=new Response(jg(Z.body,zg,b,()=>{P&&P(),O&&O()}),ce)}m=m||"text";let pe=await Zu[oe.findKey(Zu,m)||"text"](Z,n);return!ie&&O&&O(),await new Promise((ce,z)=>{qv(ce,z,{data:pe,headers:Wn.from(Z.headers),status:Z.status,statusText:Z.statusText,config:n,request:C})})}catch(W){throw O&&O(),W&&W.name==="TypeError"&&/fetch/i.test(W.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,n,C),{cause:W.cause||W}):Xe.from(W,W&&W.code,n,C)}}),Ff={http:IT,xhr:e1,fetch:u1};oe.forEach(Ff,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const $g=n=>`- ${n}`,c1=n=>oe.isFunction(n)||n===null||n===!1,Yv={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,o;const s={};for(let l=0;l<e;l++){t=n[l];let c;if(o=t,!c1(t)&&(o=Ff[(c=String(t)).toLowerCase()],o===void 0))throw new Xe(`Unknown adapter '${c}'`);if(o)break;s[c||"#"+l]=o}if(!o){const l=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map($g).join(`
`):" "+$g(l[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:Ff};function wf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Xs(null,n)}function Hg(n){return wf(n),n.headers=Wn.from(n.headers),n.data=_f.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Yv.getAdapter(n.adapter||fl.adapter)(n).then(function(o){return wf(n),o.data=_f.call(n,n.transformResponse,o),o.headers=Wn.from(o.headers),o},function(o){return Hv(o)||(wf(n),o&&o.response&&(o.response.data=_f.call(n,n.transformResponse,o.response),o.response.headers=Wn.from(o.response.headers))),Promise.reject(o)})}const Xv="1.7.9",Sc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Sc[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const qg={};Sc.transitional=function(e,t,o){function s(l,c){return"[Axios v"+Xv+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,f)=>{if(e===!1)throw new Xe(s(c," has been removed"+(t?" in "+t:"")),Xe.ERR_DEPRECATED);return t&&!qg[c]&&(qg[c]=!0,console.warn(s(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,f):!0}};Sc.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function h1(n,e,t){if(typeof n!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let s=o.length;for(;s-- >0;){const l=o[s],c=e[l];if(c){const f=n[l],p=f===void 0||c(f,l,n);if(p!==!0)throw new Xe("option "+l+" must be "+p,Xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Xe("Unknown option "+l,Xe.ERR_BAD_OPTION)}}const zu={assertOptions:h1,validators:Sc},Yr=zu.validators;let jo=class{constructor(e){this.defaults=e,this.interceptors={request:new Og,response:new Og}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zo(this.defaults,t);const{transitional:o,paramsSerializer:s,headers:l}=t;o!==void 0&&zu.assertOptions(o,{silentJSONParsing:Yr.transitional(Yr.boolean),forcedJSONParsing:Yr.transitional(Yr.boolean),clarifyTimeoutError:Yr.transitional(Yr.boolean)},!1),s!=null&&(oe.isFunction(s)?t.paramsSerializer={serialize:s}:zu.assertOptions(s,{encode:Yr.function,serialize:Yr.function},!0)),zu.assertOptions(t,{baseUrl:Yr.spelling("baseURL"),withXsrfToken:Yr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&oe.merge(l.common,l[t.method]);l&&oe.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),t.headers=Wn.concat(c,l);const f=[];let p=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(p=p&&O.synchronous,f.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let w,I=0,R;if(!p){const C=[Hg.bind(this),void 0];for(C.unshift.apply(C,f),C.push.apply(C,m),R=C.length,w=Promise.resolve(t);I<R;)w=w.then(C[I++],C[I++]);return w}R=f.length;let x=t;for(I=0;I<R;){const C=f[I++],O=f[I++];try{x=C(x)}catch(D){O.call(this,D);break}}try{w=Hg.call(this,x)}catch(C){return Promise.reject(C)}for(I=0,R=m.length;I<R;)w=w.then(m[I++],m[I++]);return w}getUri(e){e=zo(this.defaults,e);const t=Wv(e.baseURL,e.url);return jv(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){jo.prototype[e]=function(t,o){return this.request(zo(o||{},{method:e,url:t,data:(o||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(o){return function(l,c,f){return this.request(zo(f||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}jo.prototype[e]=t(),jo.prototype[e+"Form"]=t(!0)});let f1=class Jv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const o=this;this.promise.then(s=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](s);o._listeners=null}),this.promise.then=s=>{let l;const c=new Promise(f=>{o.subscribe(f),l=f}).then(s);return c.cancel=function(){o.unsubscribe(l)},c},e(function(l,c,f){o.reason||(o.reason=new Xs(l,c,f),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jv(function(s){e=s}),cancel:e}}};function d1(n){return function(t){return n.apply(null,t)}}function p1(n){return oe.isObject(n)&&n.isAxiosError===!0}const Uf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uf).forEach(([n,e])=>{Uf[e]=n});function Zv(n){const e=new jo(n),t=Pv(jo.prototype.request,e);return oe.extend(t,jo.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Zv(zo(n,s))},t}const Pt=Zv(fl);Pt.Axios=jo;Pt.CanceledError=Xs;Pt.CancelToken=f1;Pt.isCancel=Hv;Pt.VERSION=Xv;Pt.toFormData=Ec;Pt.AxiosError=Xe;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=d1;Pt.isAxiosError=p1;Pt.mergeConfig=zo;Pt.AxiosHeaders=Wn;Pt.formToJSON=n=>$v(oe.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=Yv.getAdapter;Pt.HttpStatusCode=Uf;Pt.default=Pt;const{Axios:c2,AxiosError:h2,CanceledError:f2,isCancel:d2,CancelToken:p2,VERSION:m2,all:g2,Cancel:y2,isAxiosError:v2,spread:_2,toFormData:w2,AxiosHeaders:E2,HttpStatusCode:T2,formToJSON:S2,getAdapter:I2,mergeConfig:R2}=Pt;var Ef={},Ua={},Wg;function m1(){if(Wg)return Ua;Wg=1,Ua.byteLength=f,Ua.toByteArray=m,Ua.fromByteArray=R;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],e[o.charCodeAt(s)]=s;e[45]=62,e[95]=63;function c(x){var C=x.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=x.indexOf("=");O===-1&&(O=C);var D=O===C?0:4-O%4;return[O,D]}function f(x){var C=c(x),O=C[0],D=C[1];return(O+D)*3/4-D}function p(x,C,O){return(C+O)*3/4-O}function m(x){var C,O=c(x),D=O[0],W=O[1],Z=new t(p(x,D,W)),ie=0,pe=W>0?D-4:D,ce;for(ce=0;ce<pe;ce+=4)C=e[x.charCodeAt(ce)]<<18|e[x.charCodeAt(ce+1)]<<12|e[x.charCodeAt(ce+2)]<<6|e[x.charCodeAt(ce+3)],Z[ie++]=C>>16&255,Z[ie++]=C>>8&255,Z[ie++]=C&255;return W===2&&(C=e[x.charCodeAt(ce)]<<2|e[x.charCodeAt(ce+1)]>>4,Z[ie++]=C&255),W===1&&(C=e[x.charCodeAt(ce)]<<10|e[x.charCodeAt(ce+1)]<<4|e[x.charCodeAt(ce+2)]>>2,Z[ie++]=C>>8&255,Z[ie++]=C&255),Z}function w(x){return n[x>>18&63]+n[x>>12&63]+n[x>>6&63]+n[x&63]}function I(x,C,O){for(var D,W=[],Z=C;Z<O;Z+=3)D=(x[Z]<<16&16711680)+(x[Z+1]<<8&65280)+(x[Z+2]&255),W.push(w(D));return W.join("")}function R(x){for(var C,O=x.length,D=O%3,W=[],Z=16383,ie=0,pe=O-D;ie<pe;ie+=Z)W.push(I(x,ie,ie+Z>pe?pe:ie+Z));return D===1?(C=x[O-1],W.push(n[C>>2]+n[C<<4&63]+"==")):D===2&&(C=(x[O-2]<<8)+x[O-1],W.push(n[C>>10]+n[C>>4&63]+n[C<<2&63]+"=")),W.join("")}return Ua}var Du={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Kg;function g1(){return Kg||(Kg=1,Du.read=function(n,e,t,o,s){var l,c,f=s*8-o-1,p=(1<<f)-1,m=p>>1,w=-7,I=t?s-1:0,R=t?-1:1,x=n[e+I];for(I+=R,l=x&(1<<-w)-1,x>>=-w,w+=f;w>0;l=l*256+n[e+I],I+=R,w-=8);for(c=l&(1<<-w)-1,l>>=-w,w+=o;w>0;c=c*256+n[e+I],I+=R,w-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(x?-1:1)*(1/0);c=c+Math.pow(2,o),l=l-m}return(x?-1:1)*c*Math.pow(2,l-o)},Du.write=function(n,e,t,o,s,l){var c,f,p,m=l*8-s-1,w=(1<<m)-1,I=w>>1,R=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:l-1,C=o?1:-1,O=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=w):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+I>=1?e+=R/p:e+=R*Math.pow(2,1-I),e*p>=2&&(c++,p/=2),c+I>=w?(f=0,c=w):c+I>=1?(f=(e*p-1)*Math.pow(2,s),c=c+I):(f=e*Math.pow(2,I-1)*Math.pow(2,s),c=0));s>=8;n[t+x]=f&255,x+=C,f/=256,s-=8);for(c=c<<s|f,m+=s;m>0;n[t+x]=c&255,x+=C,c/=256,m-=8);n[t+x-C]|=O*128}),Du}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Qg;function y1(){return Qg||(Qg=1,function(n){const e=m1(),t=g1(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=Z,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const S=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(S,v),S.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(S){if(S>s)throw new RangeError('The value "'+S+'" is invalid for option "size"');const v=new Uint8Array(S);return Object.setPrototypeOf(v,f.prototype),v}function f(S,v,_){if(typeof S=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(S)}return p(S,v,_)}f.poolSize=8192;function p(S,v,_){if(typeof S=="string")return R(S,v);if(ArrayBuffer.isView(S))return C(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(Vt(S,ArrayBuffer)||S&&Vt(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Vt(S,SharedArrayBuffer)||S&&Vt(S.buffer,SharedArrayBuffer)))return O(S,v,_);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=S.valueOf&&S.valueOf();if(k!=null&&k!==S)return f.from(k,v,_);const B=D(S);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return f.from(S[Symbol.toPrimitive]("string"),v,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}f.from=function(S,v,_){return p(S,v,_)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function w(S,v,_){return m(S),S<=0?c(S):v!==void 0?typeof _=="string"?c(S).fill(v,_):c(S).fill(v):c(S)}f.alloc=function(S,v,_){return w(S,v,_)};function I(S){return m(S),c(S<0?0:W(S)|0)}f.allocUnsafe=function(S){return I(S)},f.allocUnsafeSlow=function(S){return I(S)};function R(S,v){if((typeof v!="string"||v==="")&&(v="utf8"),!f.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const _=ie(S,v)|0;let k=c(_);const B=k.write(S,v);return B!==_&&(k=k.slice(0,B)),k}function x(S){const v=S.length<0?0:W(S.length)|0,_=c(v);for(let k=0;k<v;k+=1)_[k]=S[k]&255;return _}function C(S){if(Vt(S,Uint8Array)){const v=new Uint8Array(S);return O(v.buffer,v.byteOffset,v.byteLength)}return x(S)}function O(S,v,_){if(v<0||S.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<v+(_||0))throw new RangeError('"length" is outside of buffer bounds');let k;return v===void 0&&_===void 0?k=new Uint8Array(S):_===void 0?k=new Uint8Array(S,v):k=new Uint8Array(S,v,_),Object.setPrototypeOf(k,f.prototype),k}function D(S){if(f.isBuffer(S)){const v=W(S.length)|0,_=c(v);return _.length===0||S.copy(_,0,0,v),_}if(S.length!==void 0)return typeof S.length!="number"||wn(S.length)?c(0):x(S);if(S.type==="Buffer"&&Array.isArray(S.data))return x(S.data)}function W(S){if(S>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return S|0}function Z(S){return+S!=S&&(S=0),f.alloc(+S)}f.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==f.prototype},f.compare=function(v,_){if(Vt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),Vt(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(v)||!f.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===_)return 0;let k=v.length,B=_.length;for(let te=0,ae=Math.min(k,B);te<ae;++te)if(v[te]!==_[te]){k=v[te],B=_[te];break}return k<B?-1:B<k?1:0},f.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(v,_){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return f.alloc(0);let k;if(_===void 0)for(_=0,k=0;k<v.length;++k)_+=v[k].length;const B=f.allocUnsafe(_);let te=0;for(k=0;k<v.length;++k){let ae=v[k];if(Vt(ae,Uint8Array))te+ae.length>B.length?(f.isBuffer(ae)||(ae=f.from(ae)),ae.copy(B,te)):Uint8Array.prototype.set.call(B,ae,te);else if(f.isBuffer(ae))ae.copy(B,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ae.length}return B};function ie(S,v){if(f.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||Vt(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const _=S.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&_===0)return 0;let B=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return rr(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return On(S).length;default:if(B)return k?-1:rr(S).length;v=(""+v).toLowerCase(),B=!0}}f.byteLength=ie;function pe(S,v,_){let k=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,v>>>=0,_<=v))return"";for(S||(S="utf8");;)switch(S){case"hex":return Ne(this,v,_);case"utf8":case"utf-8":return ut(this,v,_);case"ascii":return Ye(this,v,_);case"latin1":case"binary":return ge(this,v,_);case"base64":return V(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,v,_);default:if(k)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),k=!0}}f.prototype._isBuffer=!0;function ce(S,v,_){const k=S[v];S[v]=S[_],S[_]=k}f.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<v;_+=2)ce(this,_,_+1);return this},f.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<v;_+=4)ce(this,_,_+3),ce(this,_+1,_+2);return this},f.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<v;_+=8)ce(this,_,_+7),ce(this,_+1,_+6),ce(this,_+2,_+5),ce(this,_+3,_+4);return this},f.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?ut(this,0,v):pe.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(v){if(!f.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:f.compare(this,v)===0},f.prototype.inspect=function(){let v="";const _=n.INSPECT_MAX_BYTES;return v=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(v+=" ... "),"<Buffer "+v+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(v,_,k,B,te){if(Vt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(_===void 0&&(_=0),k===void 0&&(k=v?v.length:0),B===void 0&&(B=0),te===void 0&&(te=this.length),_<0||k>v.length||B<0||te>this.length)throw new RangeError("out of range index");if(B>=te&&_>=k)return 0;if(B>=te)return-1;if(_>=k)return 1;if(_>>>=0,k>>>=0,B>>>=0,te>>>=0,this===v)return 0;let ae=te-B,He=k-_;const Et=Math.min(ae,He),pt=this.slice(B,te),mt=v.slice(_,k);for(let Ze=0;Ze<Et;++Ze)if(pt[Ze]!==mt[Ze]){ae=pt[Ze],He=mt[Ze];break}return ae<He?-1:He<ae?1:0};function z(S,v,_,k,B){if(S.length===0)return-1;if(typeof _=="string"?(k=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,wn(_)&&(_=B?0:S.length-1),_<0&&(_=S.length+_),_>=S.length){if(B)return-1;_=S.length-1}else if(_<0)if(B)_=0;else return-1;if(typeof v=="string"&&(v=f.from(v,k)),f.isBuffer(v))return v.length===0?-1:b(S,v,_,k,B);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(S,v,_):Uint8Array.prototype.lastIndexOf.call(S,v,_):b(S,[v],_,k,B);throw new TypeError("val must be string, number or Buffer")}function b(S,v,_,k,B){let te=1,ae=S.length,He=v.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(S.length<2||v.length<2)return-1;te=2,ae/=2,He/=2,_/=2}function Et(mt,Ze){return te===1?mt[Ze]:mt.readUInt16BE(Ze*te)}let pt;if(B){let mt=-1;for(pt=_;pt<ae;pt++)if(Et(S,pt)===Et(v,mt===-1?0:pt-mt)){if(mt===-1&&(mt=pt),pt-mt+1===He)return mt*te}else mt!==-1&&(pt-=pt-mt),mt=-1}else for(_+He>ae&&(_=ae-He),pt=_;pt>=0;pt--){let mt=!0;for(let Ze=0;Ze<He;Ze++)if(Et(S,pt+Ze)!==Et(v,Ze)){mt=!1;break}if(mt)return pt}return-1}f.prototype.includes=function(v,_,k){return this.indexOf(v,_,k)!==-1},f.prototype.indexOf=function(v,_,k){return z(this,v,_,k,!0)},f.prototype.lastIndexOf=function(v,_,k){return z(this,v,_,k,!1)};function P(S,v,_,k){_=Number(_)||0;const B=S.length-_;k?(k=Number(k),k>B&&(k=B)):k=B;const te=v.length;k>te/2&&(k=te/2);let ae;for(ae=0;ae<k;++ae){const He=parseInt(v.substr(ae*2,2),16);if(wn(He))return ae;S[_+ae]=He}return ae}function N(S,v,_,k){return _n(rr(v,S.length-_),S,_,k)}function M(S,v,_,k){return _n(Pi(v),S,_,k)}function j(S,v,_,k){return _n(On(v),S,_,k)}function Q(S,v,_,k){return _n(Or(v,S.length-_),S,_,k)}f.prototype.write=function(v,_,k,B){if(_===void 0)B="utf8",k=this.length,_=0;else if(k===void 0&&typeof _=="string")B=_,k=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(k)?(k=k>>>0,B===void 0&&(B="utf8")):(B=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const te=this.length-_;if((k===void 0||k>te)&&(k=te),v.length>0&&(k<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let ae=!1;for(;;)switch(B){case"hex":return P(this,v,_,k);case"utf8":case"utf-8":return N(this,v,_,k);case"ascii":case"latin1":case"binary":return M(this,v,_,k);case"base64":return j(this,v,_,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,v,_,k);default:if(ae)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),ae=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(S,v,_){return v===0&&_===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(v,_))}function ut(S,v,_){_=Math.min(S.length,_);const k=[];let B=v;for(;B<_;){const te=S[B];let ae=null,He=te>239?4:te>223?3:te>191?2:1;if(B+He<=_){let Et,pt,mt,Ze;switch(He){case 1:te<128&&(ae=te);break;case 2:Et=S[B+1],(Et&192)===128&&(Ze=(te&31)<<6|Et&63,Ze>127&&(ae=Ze));break;case 3:Et=S[B+1],pt=S[B+2],(Et&192)===128&&(pt&192)===128&&(Ze=(te&15)<<12|(Et&63)<<6|pt&63,Ze>2047&&(Ze<55296||Ze>57343)&&(ae=Ze));break;case 4:Et=S[B+1],pt=S[B+2],mt=S[B+3],(Et&192)===128&&(pt&192)===128&&(mt&192)===128&&(Ze=(te&15)<<18|(Et&63)<<12|(pt&63)<<6|mt&63,Ze>65535&&Ze<1114112&&(ae=Ze))}}ae===null?(ae=65533,He=1):ae>65535&&(ae-=65536,k.push(ae>>>10&1023|55296),ae=56320|ae&1023),k.push(ae),B+=He}return Be(k)}const Qe=4096;function Be(S){const v=S.length;if(v<=Qe)return String.fromCharCode.apply(String,S);let _="",k=0;for(;k<v;)_+=String.fromCharCode.apply(String,S.slice(k,k+=Qe));return _}function Ye(S,v,_){let k="";_=Math.min(S.length,_);for(let B=v;B<_;++B)k+=String.fromCharCode(S[B]&127);return k}function ge(S,v,_){let k="";_=Math.min(S.length,_);for(let B=v;B<_;++B)k+=String.fromCharCode(S[B]);return k}function Ne(S,v,_){const k=S.length;(!v||v<0)&&(v=0),(!_||_<0||_>k)&&(_=k);let B="";for(let te=v;te<_;++te)B+=vr[S[te]];return B}function _e(S,v,_){const k=S.slice(v,_);let B="";for(let te=0;te<k.length-1;te+=2)B+=String.fromCharCode(k[te]+k[te+1]*256);return B}f.prototype.slice=function(v,_){const k=this.length;v=~~v,_=_===void 0?k:~~_,v<0?(v+=k,v<0&&(v=0)):v>k&&(v=k),_<0?(_+=k,_<0&&(_=0)):_>k&&(_=k),_<v&&(_=v);const B=this.subarray(v,_);return Object.setPrototypeOf(B,f.prototype),B};function $(S,v,_){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+v>_)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(v,_,k){v=v>>>0,_=_>>>0,k||$(v,_,this.length);let B=this[v],te=1,ae=0;for(;++ae<_&&(te*=256);)B+=this[v+ae]*te;return B},f.prototype.readUintBE=f.prototype.readUIntBE=function(v,_,k){v=v>>>0,_=_>>>0,k||$(v,_,this.length);let B=this[v+--_],te=1;for(;_>0&&(te*=256);)B+=this[v+--_]*te;return B},f.prototype.readUint8=f.prototype.readUInt8=function(v,_){return v=v>>>0,_||$(v,1,this.length),this[v]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(v,_){return v=v>>>0,_||$(v,2,this.length),this[v]|this[v+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(v,_){return v=v>>>0,_||$(v,2,this.length),this[v]<<8|this[v+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(v,_){return v=v>>>0,_||$(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(v,_){return v=v>>>0,_||$(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},f.prototype.readBigUInt64LE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,te=this[++v]+this[++v]*2**8+this[++v]*2**16+k*2**24;return BigInt(B)+(BigInt(te)<<BigInt(32))}),f.prototype.readBigUInt64BE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=_*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],te=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+k;return(BigInt(B)<<BigInt(32))+BigInt(te)}),f.prototype.readIntLE=function(v,_,k){v=v>>>0,_=_>>>0,k||$(v,_,this.length);let B=this[v],te=1,ae=0;for(;++ae<_&&(te*=256);)B+=this[v+ae]*te;return te*=128,B>=te&&(B-=Math.pow(2,8*_)),B},f.prototype.readIntBE=function(v,_,k){v=v>>>0,_=_>>>0,k||$(v,_,this.length);let B=_,te=1,ae=this[v+--B];for(;B>0&&(te*=256);)ae+=this[v+--B]*te;return te*=128,ae>=te&&(ae-=Math.pow(2,8*_)),ae},f.prototype.readInt8=function(v,_){return v=v>>>0,_||$(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},f.prototype.readInt16LE=function(v,_){v=v>>>0,_||$(v,2,this.length);const k=this[v]|this[v+1]<<8;return k&32768?k|4294901760:k},f.prototype.readInt16BE=function(v,_){v=v>>>0,_||$(v,2,this.length);const k=this[v+1]|this[v]<<8;return k&32768?k|4294901760:k},f.prototype.readInt32LE=function(v,_){return v=v>>>0,_||$(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},f.prototype.readInt32BE=function(v,_){return v=v>>>0,_||$(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},f.prototype.readBigInt64LE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(k<<24);return(BigInt(B)<<BigInt(32))+BigInt(_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),f.prototype.readBigInt64BE=nn(function(v){v=v>>>0,cn(v,"offset");const _=this[v],k=this[v+7];(_===void 0||k===void 0)&&zt(v,this.length-8);const B=(_<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(B)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+k)}),f.prototype.readFloatLE=function(v,_){return v=v>>>0,_||$(v,4,this.length),t.read(this,v,!0,23,4)},f.prototype.readFloatBE=function(v,_){return v=v>>>0,_||$(v,4,this.length),t.read(this,v,!1,23,4)},f.prototype.readDoubleLE=function(v,_){return v=v>>>0,_||$(v,8,this.length),t.read(this,v,!0,52,8)},f.prototype.readDoubleBE=function(v,_){return v=v>>>0,_||$(v,8,this.length),t.read(this,v,!1,52,8)};function se(S,v,_,k,B,te){if(!f.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>B||v<te)throw new RangeError('"value" argument is out of bounds');if(_+k>S.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(v,_,k,B){if(v=+v,_=_>>>0,k=k>>>0,!B){const He=Math.pow(2,8*k)-1;se(this,v,_,k,He,0)}let te=1,ae=0;for(this[_]=v&255;++ae<k&&(te*=256);)this[_+ae]=v/te&255;return _+k},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(v,_,k,B){if(v=+v,_=_>>>0,k=k>>>0,!B){const He=Math.pow(2,8*k)-1;se(this,v,_,k,He,0)}let te=k-1,ae=1;for(this[_+te]=v&255;--te>=0&&(ae*=256);)this[_+te]=v/ae&255;return _+k},f.prototype.writeUint8=f.prototype.writeUInt8=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,1,255,0),this[_]=v&255,_+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,65535,0),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,65535,0),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,4294967295,0),this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=v&255,_+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,4294967295,0),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4};function Te(S,v,_,k,B){nr(v,k,B,S,_,7);let te=Number(v&BigInt(4294967295));S[_++]=te,te=te>>8,S[_++]=te,te=te>>8,S[_++]=te,te=te>>8,S[_++]=te;let ae=Number(v>>BigInt(32)&BigInt(4294967295));return S[_++]=ae,ae=ae>>8,S[_++]=ae,ae=ae>>8,S[_++]=ae,ae=ae>>8,S[_++]=ae,_}function Fe(S,v,_,k,B){nr(v,k,B,S,_,7);let te=Number(v&BigInt(4294967295));S[_+7]=te,te=te>>8,S[_+6]=te,te=te>>8,S[_+5]=te,te=te>>8,S[_+4]=te;let ae=Number(v>>BigInt(32)&BigInt(4294967295));return S[_+3]=ae,ae=ae>>8,S[_+2]=ae,ae=ae>>8,S[_+1]=ae,ae=ae>>8,S[_]=ae,_+8}f.prototype.writeBigUInt64LE=nn(function(v,_=0){return Te(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=nn(function(v,_=0){return Fe(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(v,_,k,B){if(v=+v,_=_>>>0,!B){const Et=Math.pow(2,8*k-1);se(this,v,_,k,Et-1,-Et)}let te=0,ae=1,He=0;for(this[_]=v&255;++te<k&&(ae*=256);)v<0&&He===0&&this[_+te-1]!==0&&(He=1),this[_+te]=(v/ae>>0)-He&255;return _+k},f.prototype.writeIntBE=function(v,_,k,B){if(v=+v,_=_>>>0,!B){const Et=Math.pow(2,8*k-1);se(this,v,_,k,Et-1,-Et)}let te=k-1,ae=1,He=0;for(this[_+te]=v&255;--te>=0&&(ae*=256);)v<0&&He===0&&this[_+te+1]!==0&&(He=1),this[_+te]=(v/ae>>0)-He&255;return _+k},f.prototype.writeInt8=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,1,127,-128),v<0&&(v=255+v+1),this[_]=v&255,_+1},f.prototype.writeInt16LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,32767,-32768),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeInt16BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,2,32767,-32768),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeInt32LE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,2147483647,-2147483648),this[_]=v&255,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24,_+4},f.prototype.writeInt32BE=function(v,_,k){return v=+v,_=_>>>0,k||se(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4},f.prototype.writeBigInt64LE=nn(function(v,_=0){return Te(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=nn(function(v,_=0){return Fe(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $e(S,v,_,k,B,te){if(_+k>S.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function qe(S,v,_,k,B){return v=+v,_=_>>>0,B||$e(S,v,_,4),t.write(S,v,_,k,23,4),_+4}f.prototype.writeFloatLE=function(v,_,k){return qe(this,v,_,!0,k)},f.prototype.writeFloatBE=function(v,_,k){return qe(this,v,_,!1,k)};function rt(S,v,_,k,B){return v=+v,_=_>>>0,B||$e(S,v,_,8),t.write(S,v,_,k,52,8),_+8}f.prototype.writeDoubleLE=function(v,_,k){return rt(this,v,_,!0,k)},f.prototype.writeDoubleBE=function(v,_,k){return rt(this,v,_,!1,k)},f.prototype.copy=function(v,_,k,B){if(!f.isBuffer(v))throw new TypeError("argument should be a Buffer");if(k||(k=0),!B&&B!==0&&(B=this.length),_>=v.length&&(_=v.length),_||(_=0),B>0&&B<k&&(B=k),B===k||v.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),v.length-_<B-k&&(B=v.length-_+k);const te=B-k;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,k,B):Uint8Array.prototype.set.call(v,this.subarray(k,B),_),te},f.prototype.fill=function(v,_,k,B){if(typeof v=="string"){if(typeof _=="string"?(B=_,_=0,k=this.length):typeof k=="string"&&(B=k,k=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!f.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(v.length===1){const ae=v.charCodeAt(0);(B==="utf8"&&ae<128||B==="latin1")&&(v=ae)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(_<0||this.length<_||this.length<k)throw new RangeError("Out of range index");if(k<=_)return this;_=_>>>0,k=k===void 0?this.length:k>>>0,v||(v=0);let te;if(typeof v=="number")for(te=_;te<k;++te)this[te]=v;else{const ae=f.isBuffer(v)?v:f.from(v,B),He=ae.length;if(He===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(te=0;te<k-_;++te)this[te+_]=ae[te%He]}return this};const Je={};function yt(S,v,_){Je[S]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}yt("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yt("ERR_INVALID_ARG_TYPE",function(S,v){return`The "${S}" argument must be of type number. Received type ${typeof v}`},TypeError),yt("ERR_OUT_OF_RANGE",function(S,v,_){let k=`The value of "${S}" is out of range.`,B=_;return Number.isInteger(_)&&Math.abs(_)>2**32?B=tt(String(_)):typeof _=="bigint"&&(B=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(B=tt(B)),B+="n"),k+=` It must be ${v}. Received ${B}`,k},RangeError);function tt(S){let v="",_=S.length;const k=S[0]==="-"?1:0;for(;_>=k+4;_-=3)v=`_${S.slice(_-3,_)}${v}`;return`${S.slice(0,_)}${v}`}function tn(S,v,_){cn(v,"offset"),(S[v]===void 0||S[v+_]===void 0)&&zt(v,S.length-(_+1))}function nr(S,v,_,k,B,te){if(S>_||S<v){const ae=typeof v=="bigint"?"n":"";let He;throw v===0||v===BigInt(0)?He=`>= 0${ae} and < 2${ae} ** ${(te+1)*8}${ae}`:He=`>= -(2${ae} ** ${(te+1)*8-1}${ae}) and < 2 ** ${(te+1)*8-1}${ae}`,new Je.ERR_OUT_OF_RANGE("value",He,S)}tn(k,B,te)}function cn(S,v){if(typeof S!="number")throw new Je.ERR_INVALID_ARG_TYPE(v,"number",S)}function zt(S,v,_){throw Math.floor(S)!==S?(cn(S,_),new Je.ERR_OUT_OF_RANGE("offset","an integer",S)):v<0?new Je.ERR_BUFFER_OUT_OF_BOUNDS:new Je.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,S)}const br=/[^+/0-9A-Za-z-_]/g;function si(S){if(S=S.split("=")[0],S=S.trim().replace(br,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function rr(S,v){v=v||1/0;let _;const k=S.length;let B=null;const te=[];for(let ae=0;ae<k;++ae){if(_=S.charCodeAt(ae),_>55295&&_<57344){if(!B){if(_>56319){(v-=3)>-1&&te.push(239,191,189);continue}else if(ae+1===k){(v-=3)>-1&&te.push(239,191,189);continue}B=_;continue}if(_<56320){(v-=3)>-1&&te.push(239,191,189),B=_;continue}_=(B-55296<<10|_-56320)+65536}else B&&(v-=3)>-1&&te.push(239,191,189);if(B=null,_<128){if((v-=1)<0)break;te.push(_)}else if(_<2048){if((v-=2)<0)break;te.push(_>>6|192,_&63|128)}else if(_<65536){if((v-=3)<0)break;te.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((v-=4)<0)break;te.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return te}function Pi(S){const v=[];for(let _=0;_<S.length;++_)v.push(S.charCodeAt(_)&255);return v}function Or(S,v){let _,k,B;const te=[];for(let ae=0;ae<S.length&&!((v-=2)<0);++ae)_=S.charCodeAt(ae),k=_>>8,B=_%256,te.push(B),te.push(k);return te}function On(S){return e.toByteArray(si(S))}function _n(S,v,_,k){let B;for(B=0;B<k&&!(B+_>=v.length||B>=S.length);++B)v[B+_]=S[B];return B}function Vt(S,v){return S instanceof v||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===v.name}function wn(S){return S!==S}const vr=function(){const S="0123456789abcdef",v=new Array(256);for(let _=0;_<16;++_){const k=_*16;for(let B=0;B<16;++B)v[k+B]=S[_]+S[B]}return v}();function nn(S){return typeof BigInt>"u"?wt:S}function wt(){throw new Error("BigInt not supported")}}(Ef)),Ef}var v1=y1();const md="https://photospicker.googleapis.com/v1/sessions/",_1="https://photospicker.googleapis.com/v1/mediaItems",w1="https://api.cloudinary.com/v1_1/drtml4wg7/",Ic=n=>({headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});function E1(n,e){Pt.delete(md+e,Ic(n.accessToken)).then(t=>{console.log("deleted session id "+e),console.log(t)})}function T1(n){return Pt.post(md,{},Ic(n.accessToken)).then(e=>(console.log("Created new session %s",e.data.toString()),e.data))}function S1(n,e){return Pt.get(md+e,Ic(n.accessToken)).then(t=>(console.log("Pinging session %s",t.data.toString()),t.data))}function I1(n,e){const t={params:{sessionId:e,pageSize:1},...Ic(n.accessToken)};return Pt.get(_1,t).then(o=>(console.log("Retrieving media items"),o.data))}function R1(n,e){return Pt.get(n+"=w1920-h1920-d",{headers:{Authorization:`Bearer ${e.accessToken}`},responseType:"arraybuffer"}).then(t=>v1.Buffer.from(t.data,"binary").toString("base64"))}function Gg(n){return Pt.post(w1+"auto/upload",{file:n,upload_preset:"cooking-unsigned"}).then(e=>e.data.secure_url)}function e0({style:n}){return K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}function A1({onSelectImage:n,selectedImage:e}){const[t,o]=q.useState(e||""),[s,l]=q.useState(null),[c,f]=q.useState(!1),p=q.useContext(Qs),m=()=>{p.user&&(s?window.open(s.pickerUri):(f(!0),T1(p.user).then(R=>{l(R),window.open(R.pickerUri);const x=parseInt(R.pollingConfig.timeoutIn.slice(0,-1))*1e3,C=parseInt(R.pollingConfig.pollInterval.slice(0,-1))*1e3,O=Math.floor(x/C);I(R.id,C,O)}).finally(()=>f(!1))))},w=R=>{p.user&&E1(p.user,R),l(null)},I=(R,x,C)=>{setTimeout(()=>{console.log("Polling sesssion. Attempts left: %s",C),p.user&&S1(p.user,R).then(O=>{O.mediaItemsSet&&p.user?(console.log("Media items chosen"),f(!0),I1(p.user,R).then(D=>{if(p.user){const W=D.mediaItems[0].mediaFile.baseUrl;R1(W,p.user).then(Z=>{const ie="data:image/jpeg;base64,"+Z;n(ie),o(ie)})}w(R)}).finally(()=>f(!1))):C>0?I(R,x,C-1):(console.log("Session expired. Try again."),w(R))})},x)};return K.jsxs("button",{className:"flex flex-col p-4 justify-center items-center rounded-lg bg-light-gray cursor-pointer text-tan-dark/50 enabled:hover:opacity-70 enabled:active:bg-tan-1 enabled:active:text-tan-dark disabled:opacity-70 disabled:cursor-wait",onClick:m,disabled:c,children:[t&&K.jsx("img",{src:t,className:"w-auto h-full outline-dashed outline-tan-dark/50 outline-2"}),!t&&K.jsx(e0,{style:"size-16"}),K.jsx("p",{className:"pt-4",children:t&&"Update Image"||"Pick Image"})]})}function dl({tags:n,setTags:e}){return[...n].map(t=>{let o;return e&&(o=()=>{const s=new Set(n);s.delete(t),e(s)}),K.jsx(dp,{text:t.name,color:t.color,onCancel:o},t.name)})}class x1{constructor(e,t="",o=new Set,s=0,l=[],c=[],f,p){Eg(this,"toString",()=>JSON.stringify(this,null," "));this.metadata=e,this.name=t,this.tags=o,this.cooktime=s,this.ingredients=l,this.directions=c,this.image=f,this.source=p}}class ec{constructor(e="",t=""){this.name=e,this.color=t}}function C1(n){return n.name!=null&&n.color!=null}function P1(){const{pantry:n}=q.useContext(Gs),e=new Set;return n.forEach(t=>e.add(new ec(t))),K.jsxs("div",{className:"flex flex-col",children:[K.jsx("h2",{children:"Ingredients"}),K.jsx("div",{className:"flex flex-row flex-wrap",children:K.jsx(dl,{tags:e})})]})}function k1({name:n,index:e,onEditIngredientName:t}){const[o,s]=q.useState(new Set),[l,c]=q.useState(!1),{pantry:f}=q.useContext(Gs);return q.useEffect(()=>{const p=new Set,m=n.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");n.length>1&&f.forEach(w=>{w.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").match(new RegExp(`^${m}`,"i"))&&w!=m&&p.add(w)}),s(p)},[n,f]),K.jsxs("div",{className:"relative w-full",onFocus:()=>c(!0),onBlur:p=>p.relatedTarget==null&&c(!1),children:[K.jsx("input",{className:"input-txt",type:"text",value:n.toLowerCase(),placeholder:"sugar",onChange:p=>t(e,p.target.value)},`${e}-name`),o.size>0&&l&&K.jsx("div",{className:"absolute flex flex-col max-h-30 overflow-y-scroll z-40 w-full bg-white border-2 border-t-0 border-light-gray shadow-lg",children:[...o].map(p=>K.jsx("button",{className:"cursor-pointer ps-2 py-1 text-start w-full border-b-2 border-light-gray hover:bg-light-gray",onClick:()=>t(e,p),children:p},p))})]})}const N1=["","clove","slice","stalk"],D1=["cup","pinch","tb","ts"],L1=["g","lb"];function V1(n){return n.name!=null&&n.measurement!=null}function b1({ingredients:n,setIngredients:e}){const t=(p,m)=>{const w=structuredClone(n);w[p].name=m.toLowerCase(),e(w)},o=(p,m)=>{const w=structuredClone(n);w[p].measurement.unit=m,e(w)},s=(p,m)=>{const w=structuredClone(n);w[p].measurement.quantity=m,e(w)},l=p=>{const m=structuredClone(n);m.splice(p,1),e(m)},c=()=>{e([...structuredClone(n),{name:"",measurement:{quantity:0,unit:""}}])},f=p=>{const m=w=>n[p].measurement.unit==w;return K.jsxs("select",{onChange:w=>o(p,w.target.value),className:"picker",children:[K.jsx("option",{disabled:!0,children:"- unit -"}),N1.map(w=>K.jsx("option",{selected:m(w),children:w},`${p}-${w}`)),K.jsx("option",{disabled:!0,children:"- volume -"}),D1.map(w=>K.jsx("option",{selected:m(w),children:w},`${p}-${w}`)),K.jsx("option",{disabled:!0,children:"- weight -"}),L1.map(w=>K.jsx("option",{selected:m(w),children:w},`${p}-${w}`))]},`${p}-unit`)};return K.jsxs("div",{className:"flex flex-col",children:[K.jsxs("h2",{children:["Ingredients ",K.jsx(Us,{type:"ingredients"})]}),n.map((p,m)=>{var w;return K.jsxs("div",{className:"flex flex-row",children:[K.jsx("input",{className:"number-picker",type:"number",min:0,max:1e3,value:(w=p.measurement)==null?void 0:w.quantity,onChange:I=>s(m,I.target.valueAsNumber)},`${m}-quantity`),f(m),K.jsx(k1,{name:p.name,onEditIngredientName:t,index:m}),K.jsx("div",{onClick:()=>l(m),children:K.jsx(pp,{styles:"input-trash"})},`${m}-x`)]})}),K.jsx("button",{className:"placeholder-btn-tan mt-2",onClick:c,children:"Add +"})]})}var Ba={},Yg;function O1(){if(Yg)return Ba;Yg=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=c,Ba.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function c(R,x){const C=new l,O=R.length;if(O<2)return C;const D=(x==null?void 0:x.decode)||w;let W=0;do{const Z=R.indexOf("=",W);if(Z===-1)break;const ie=R.indexOf(";",W),pe=ie===-1?O:ie;if(Z>pe){W=R.lastIndexOf(";",Z-1)+1;continue}const ce=f(R,W,Z),z=p(R,Z,ce),b=R.slice(ce,z);if(C[b]===void 0){let P=f(R,Z+1,pe),N=p(R,pe,P);const M=D(R.slice(P,N));C[b]=M}W=pe+1}while(W<O);return C}function f(R,x,C){do{const O=R.charCodeAt(x);if(O!==32&&O!==9)return x}while(++x<C);return C}function p(R,x,C){for(;x>C;){const O=R.charCodeAt(--x);if(O!==32&&O!==9)return x+1}return C}function m(R,x,C){const O=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(R))throw new TypeError(`argument name is invalid: ${R}`);const D=O(x);if(!e.test(D))throw new TypeError(`argument val is invalid: ${x}`);let W=R+"="+D;if(!C)return W;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);W+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);W+="; Domain="+C.domain}if(C.path){if(!o.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);W+="; Path="+C.path}if(C.expires){if(!I(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);W+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(W+="; HttpOnly"),C.secure&&(W+="; Secure"),C.partitioned&&(W+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return W}function w(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function I(R){return s.call(R)==="[object Date]"}return Ba}O1();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xg="popstate";function M1(n={}){function e(s,l){let{pathname:c="/",search:f="",hash:p=""}=Ci(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),el("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=s.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:ao(l))}function o(s,l){un(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return U1(e,t,o,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F1(){return Math.random().toString(36).substring(2,10)}function Jg(n,e){return{usr:n.state,key:n.key,idx:e}}function el(n,e,t=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ci(e):e,state:t,key:e&&e.key||o||F1()}}function ao({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ci(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function U1(n,e,t,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,c=s.history,f="POP",p=null,m=w();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function w(){return(c.state||{idx:null}).idx}function I(){f="POP";let D=w(),W=D==null?null:D-m;m=D,p&&p({action:f,location:O.location,delta:W})}function R(D,W){f="PUSH";let Z=el(O.location,D,W);t&&t(Z,D),m=w()+1;let ie=Jg(Z,m),pe=O.createHref(Z);try{c.pushState(ie,"",pe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;s.location.assign(pe)}l&&p&&p({action:f,location:O.location,delta:1})}function x(D,W){f="REPLACE";let Z=el(O.location,D,W);t&&t(Z,D),m=w();let ie=Jg(Z,m),pe=O.createHref(Z);c.replaceState(ie,"",pe),l&&p&&p({action:f,location:O.location,delta:0})}function C(D){let W=s.location.origin!=="null"?s.location.origin:s.location.href,Z=typeof D=="string"?D:ao(D);return Z=Z.replace(/ $/,"%20"),lt(W,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,W)}let O={get action(){return f},get location(){return n(s,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Xg,I),p=D,()=>{s.removeEventListener(Xg,I),p=null}},createHref(D){return e(s,D)},createURL:C,encodeLocation(D){let W=C(D);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:R,replace:x,go(D){return c.go(D)}};return O}var B1=new Set(["lazy","caseSensitive","path","id","index","children"]);function j1(n){return n.index===!0}function tc(n,e,t=[],o={}){return n.map((s,l)=>{let c=[...t,String(l)],f=typeof s.id=="string"?s.id:c.join("-");if(lt(s.index!==!0||!s.children,"Cannot specify children on an index route"),lt(!o[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),j1(s)){let p={...s,...e(s),id:f};return o[f]=p,p}else{let p={...s,...e(s),id:f,children:void 0};return o[f]=p,s.children&&(p.children=tc(s.children,e,c,o)),p}})}function to(n,e,t="/"){return $u(n,e,t,!1)}function $u(n,e,t,o){let s=typeof e=="string"?Ci(e):e,l=Dr(s.pathname||"/",t);if(l==null)return null;let c=t0(n);$1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=eS(l);f=J1(c[p],m,o)}return f}function z1(n,e){let{route:t,pathname:o,params:s}=n;return{id:t.id,pathname:o,params:s,data:e[t.id],handle:t.handle}}function t0(n,e=[],t=[],o=""){let s=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let m=Jr([o,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),t0(l.children,e,w,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:Y1(m,l.index),routesMeta:w})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,c);else for(let p of n0(l.path))s(l,c,p)}),e}function n0(n){let e=n.split("/");if(e.length===0)return[];let[t,...o]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let c=n0(o.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function $1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:X1(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}var H1=/^:[\w-]+$/,q1=3,W1=2,K1=1,Q1=10,G1=-2,Zg=n=>n==="*";function Y1(n,e){let t=n.split("/"),o=t.length;return t.some(Zg)&&(o+=G1),e&&(o+=W1),t.filter(s=>!Zg(s)).reduce((s,l)=>s+(H1.test(l)?q1:l===""?K1:Q1),o)}function X1(n,e){return n.length===e.length&&n.slice(0,-1).every((o,s)=>o===e[s])?n[n.length-1]-e[e.length-1]:0}function J1(n,e,t=!1){let{routesMeta:o}=n,s={},l="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],m=f===o.length-1,w=l==="/"?e:e.slice(l.length)||"/",I=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},w),R=p.route;if(!I&&m&&t&&!o[o.length-1].route.index&&(I=nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!I)return null;Object.assign(s,I.params),c.push({params:s,pathname:Jr([l,I.pathname]),pathnameBase:rS(Jr([l,I.pathnameBase])),route:R}),I.pathnameBase!=="/"&&(l=Jr([l,I.pathnameBase]))}return c}function nc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,o]=Z1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((m,{paramName:w,isOptional:I},R)=>{if(w==="*"){let C=f[R]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const x=f[R];return I&&!x?m[w]=void 0:m[w]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function Z1(n,e=!1,t=!0){un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function eS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=n.charAt(t);return o&&o!=="/"?null:n.slice(t)||"/"}function tS(n,e="/"){let{pathname:t,search:o="",hash:s=""}=typeof n=="string"?Ci(n):n;return{pathname:t?t.startsWith("/")?t:nS(t,e):e,search:iS(o),hash:oS(s)}}function nS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Tf(n,e,t,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gd(n){let e=r0(n);return e.map((t,o)=>o===e.length-1?t.pathname:t.pathnameBase)}function yd(n,e,t,o=!1){let s;typeof n=="string"?s=Ci(n):(s={...n},lt(!s.pathname||!s.pathname.includes("?"),Tf("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Tf("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Tf("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=t;else{let I=e.length-1;if(!o&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),I-=1;s.pathname=R.join("/")}f=I>=0?e[I]:"/"}let p=tS(s,f),m=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||w)&&(p.pathname+="/"),p}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),rS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,rc=class{constructor(n,e,t,o=!1){this.status=n,this.statusText=e||"",this.internal=o,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var i0=["POST","PUT","PATCH","DELETE"],sS=new Set(i0),aS=["GET",...i0],lS=new Set(aS),uS=new Set([301,302,303,307,308]),cS=new Set([307,308]),Sf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),o0="remix-router-transitions",s0=Symbol("ResetLoaderData");function dS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";lt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=n.mapRouteProperties||fS,s={},l=tc(n.routes,o,void 0,s),c,f=n.basename||"/",p=n.dataStrategy||vS,m=n.patchRoutesOnNavigation,w={...n.future},I=null,R=new Set,x=null,C=null,O=null,D=n.hydrationData!=null,W=to(l,n.history.location,f),Z=!1,ie=null;if(W==null&&!m){let F=gr(404,{pathname:n.history.location.pathname}),{matches:G,route:J}=cy(l);W=G,ie={[J.id]:F}}W&&!n.hydrationData&&Dn(W,l,n.history.location.pathname).active&&(W=null);let pe;if(W)if(W.some(F=>F.route.lazy))pe=!1;else if(!W.some(F=>F.route.loader))pe=!0;else{let F=n.hydrationData?n.hydrationData.loaderData:null,G=n.hydrationData?n.hydrationData.errors:null;if(G){let J=W.findIndex(he=>G[he.route.id]!==void 0);pe=W.slice(0,J+1).every(he=>!jf(he.route,F,G))}else pe=W.every(J=>!jf(J.route,F,G))}else{pe=!1,W=[];let F=Dn(null,l,n.history.location.pathname);F.active&&F.matches&&(Z=!0,W=F.matches)}let ce,z={historyAction:n.history.action,location:n.history.location,matches:W,initialized:pe,navigation:Sf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ie,fetchers:new Map,blockers:new Map},b="POP",P=!1,N,M=!1,j=new Map,Q=null,V=!1,ut=!1,Qe=new Set,Be=new Map,Ye=0,ge=-1,Ne=new Map,_e=new Set,$=new Map,se=new Map,Te=new Set,Fe=new Map,$e,qe=null;function rt(){if(I=n.history.listen(({action:F,location:G,delta:J})=>{if($e){$e(),$e=void 0;return}un(Fe.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=Ze({currentLocation:z.location,nextLocation:G,historyAction:F});if(he&&J!=null){let we=new Promise(ke=>{$e=ke});n.history.go(J*-1),mt(he,{state:"blocked",location:G,proceed(){mt(he,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),we.then(()=>n.history.go(J))},reset(){let ke=new Map(z.blockers);ke.set(he,ja),tt({blockers:ke})}});return}return zt(F,G)}),t){PS(e,j);let F=()=>kS(e,j);e.addEventListener("pagehide",F),Q=()=>e.removeEventListener("pagehide",F)}return z.initialized||zt("POP",z.location,{initialHydration:!0}),ce}function Je(){I&&I(),Q&&Q(),R.clear(),N&&N.abort(),z.fetchers.forEach((F,G)=>_(G)),z.blockers.forEach((F,G)=>pt(G))}function yt(F){return R.add(F),()=>R.delete(F)}function tt(F,G={}){z={...z,...F};let J=[],he=[];z.fetchers.forEach((we,ke)=>{we.state==="idle"&&(Te.has(ke)?J.push(ke):he.push(ke))}),Te.forEach(we=>{!z.fetchers.has(we)&&!Be.has(we)&&J.push(we)}),[...R].forEach(we=>we(z,{deletedFetchers:J,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),J.forEach(we=>_(we)),he.forEach(we=>z.fetchers.delete(we))}function tn(F,G,{flushSync:J}={}){var Ee,je;let he=z.actionData!=null&&z.navigation.formMethod!=null&&kr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((Ee=F.state)==null?void 0:Ee._isRedirect)!==!0,we;G.actionData?Object.keys(G.actionData).length>0?we=G.actionData:we=null:he?we=z.actionData:we=null;let ke=G.loaderData?ly(z.loaderData,G.loaderData,G.matches||[],G.errors):z.loaderData,be=z.blockers;be.size>0&&(be=new Map(be),be.forEach((We,St)=>be.set(St,ja)));let Re=P===!0||z.navigation.formMethod!=null&&kr(z.navigation.formMethod)&&((je=F.state)==null?void 0:je._isRedirect)!==!0;c&&(l=c,c=void 0),V||b==="POP"||(b==="PUSH"?n.history.push(F,F.state):b==="REPLACE"&&n.history.replace(F,F.state));let Se;if(b==="POP"){let We=j.get(z.location.pathname);We&&We.has(F.pathname)?Se={currentLocation:z.location,nextLocation:F}:j.has(F.pathname)&&(Se={currentLocation:F,nextLocation:z.location})}else if(M){let We=j.get(z.location.pathname);We?We.add(F.pathname):(We=new Set([F.pathname]),j.set(z.location.pathname,We)),Se={currentLocation:z.location,nextLocation:F}}tt({...G,actionData:we,loaderData:ke,historyAction:b,location:F,initialized:!0,navigation:Sf,revalidation:"idle",restoreScrollPosition:ai(F,G.matches||z.matches),preventScrollReset:Re,blockers:be},{viewTransitionOpts:Se,flushSync:J===!0}),b="POP",P=!1,M=!1,V=!1,ut=!1,qe==null||qe.resolve(),qe=null}async function nr(F,G){if(typeof F=="number"){n.history.go(F);return}let J=Bf(z.location,z.matches,f,F,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:he,submission:we,error:ke}=ey(!1,J,G),be=z.location,Re=el(z.location,he,G&&G.state);Re={...Re,...n.history.encodeLocation(Re)};let Se=G&&G.replace!=null?G.replace:void 0,Ee="PUSH";Se===!0?Ee="REPLACE":Se===!1||we!=null&&kr(we.formMethod)&&we.formAction===z.location.pathname+z.location.search&&(Ee="REPLACE");let je=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,We=(G&&G.flushSync)===!0,St=Ze({currentLocation:be,nextLocation:Re,historyAction:Ee});if(St){mt(St,{state:"blocked",location:Re,proceed(){mt(St,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),nr(F,G)},reset(){let It=new Map(z.blockers);It.set(St,ja),tt({blockers:It})}});return}await zt(Ee,Re,{submission:we,pendingError:ke,preventScrollReset:je,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:We})}function cn(){qe||(qe=NS()),nn(),tt({revalidation:"loading"});let F=qe.promise;return z.navigation.state==="submitting"?F:z.navigation.state==="idle"?(zt(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),F):(zt(b||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:M===!0}),F)}async function zt(F,G,J){N&&N.abort(),N=null,b=F,V=(J&&J.startUninterruptedRevalidation)===!0,ir(z.location,z.matches),P=(J&&J.preventScrollReset)===!0,M=(J&&J.enableViewTransition)===!0;let he=c||l,we=J&&J.overrideNavigation,ke=J!=null&&J.initialHydration&&z.matches&&z.matches.length>0&&!Z?z.matches:to(he,G,f),be=(J&&J.flushSync)===!0;if(ke&&z.initialized&&!ut&&IS(z.location,G)&&!(J&&J.submission&&kr(J.submission.formMethod))){tn(G,{matches:ke},{flushSync:be});return}let Re=Dn(ke,he,G.pathname);if(Re.active&&Re.matches&&(ke=Re.matches),!ke){let{error:_t,notFoundMatches:nt,route:bt}=Mr(G.pathname);tn(G,{matches:nt,loaderData:{},errors:{[bt.id]:_t}},{flushSync:be});return}N=new AbortController;let Se=Ds(n.history,G,N.signal,J&&J.submission),Ee;if(J&&J.pendingError)Ee=[Mo(ke).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&kr(J.submission.formMethod)){let _t=await br(Se,G,J.submission,ke,Re.active,{replace:J.replace,flushSync:be});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[nt,bt]=_t.pendingActionResult;if(er(bt)&&tl(bt.error)&&bt.error.status===404){N=null,tn(G,{matches:_t.matches,loaderData:{},errors:{[nt]:bt.error}});return}}ke=_t.matches||ke,Ee=_t.pendingActionResult,we=If(G,J.submission),be=!1,Re.active=!1,Se=Ds(n.history,Se.url,Se.signal)}let{shortCircuited:je,matches:We,loaderData:St,errors:It}=await si(Se,G,ke,Re.active,we,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,Ee);je||(N=null,tn(G,{matches:We||ke,...uy(Ee),loaderData:St,errors:It}))}async function br(F,G,J,he,we,ke={}){nn();let be=xS(G,J);if(tt({navigation:be},{flushSync:ke.flushSync===!0}),we){let Ee=await Fr(he,G.pathname,F.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let je=Mo(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[je,{type:"error",error:Ee.error}]}}else if(Ee.matches)he=Ee.matches;else{let{notFoundMatches:je,error:We,route:St}=Mr(G.pathname);return{matches:je,pendingActionResult:[St.id,{type:"error",error:We}]}}}let Re,Se=Ha(he,G);if(!Se.route.action&&!Se.route.lazy)Re={type:"error",error:gr(405,{method:F.method,pathname:G.pathname,routeId:Se.route.id})};else if(Re=(await wn("action",z,F,[Se],he,null))[Se.route.id],F.signal.aborted)return{shortCircuited:!0};if(Uo(Re)){let Ee;return ke&&ke.replace!=null?Ee=ke.replace:Ee=oy(Re.response.headers.get("Location"),new URL(F.url),f)===z.location.pathname+z.location.search,await Vt(F,Re,!0,{submission:J,replace:Ee}),{shortCircuited:!0}}if(er(Re)){let Ee=Mo(he,Se.route.id);return(ke&&ke.replace)!==!0&&(b="PUSH"),{matches:he,pendingActionResult:[Ee.route.id,Re]}}return{matches:he,pendingActionResult:[Se.route.id,Re]}}async function si(F,G,J,he,we,ke,be,Re,Se,Ee,je){let We=we||If(G,ke),St=ke||be||fy(We),It=!V&&!Se;if(he){if(It){let Rt=rr(je);tt({navigation:We,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:Ee})}let ot=await Fr(J,G.pathname,F.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let Rt=Mo(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[Rt]:ot.error}}}else if(ot.matches)J=ot.matches;else{let{error:Rt,notFoundMatches:Ur,route:Br}=Mr(G.pathname);return{matches:Ur,loaderData:{},errors:{[Br.id]:Rt}}}}let _t=c||l,[nt,bt]=ny(n.history,z,J,St,G,Se===!0,ut,Qe,Te,$,_e,_t,f,je);if(ge=++Ye,nt.length===0&&bt.length===0){let ot=ae();return tn(G,{matches:J,loaderData:{},errors:je&&er(je[1])?{[je[0]]:je[1].error}:null,...uy(je),...ot?{fetchers:new Map(z.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(It){let ot={};if(!he){ot.navigation=We;let Rt=rr(je);Rt!==void 0&&(ot.actionData=Rt)}bt.length>0&&(ot.fetchers=Pi(bt)),tt(ot,{flushSync:Ee})}bt.forEach(ot=>{B(ot.key),ot.controller&&Be.set(ot.key,ot.controller)});let or=()=>bt.forEach(ot=>B(ot.key));N&&N.signal.addEventListener("abort",or);let{loaderResults:sr,fetcherResults:En}=await vr(z,J,nt,bt,F);if(F.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",or),bt.forEach(ot=>Be.delete(ot.key));let Tn=Lu(sr);if(Tn)return await Vt(F,Tn.result,!0,{replace:Re}),{shortCircuited:!0};if(Tn=Lu(En),Tn)return _e.add(Tn.key),await Vt(F,Tn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:Ni,errors:ui}=ay(z,J,sr,je,bt,En);Se&&z.errors&&(ui={...z.errors,...ui});let ct=ae(),ci=He(ge),ar=ct||ci||bt.length>0;return{matches:J,loaderData:Ni,errors:ui,...ar?{fetchers:new Map(z.fetchers)}:{}}}function rr(F){if(F&&!er(F[1]))return{[F[0]]:F[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function Pi(F){return F.forEach(G=>{let J=z.fetchers.get(G.key),he=za(void 0,J?J.data:void 0);z.fetchers.set(G.key,he)}),new Map(z.fetchers)}async function Or(F,G,J,he){B(F);let we=(he&&he.flushSync)===!0,ke=c||l,be=Bf(z.location,z.matches,f,J,G,he==null?void 0:he.relative),Re=to(ke,be,f),Se=Dn(Re,ke,be);if(Se.active&&Se.matches&&(Re=Se.matches),!Re){S(F,G,gr(404,{pathname:be}),{flushSync:we});return}let{path:Ee,submission:je,error:We}=ey(!0,be,he);if(We){S(F,G,We,{flushSync:we});return}let St=Ha(Re,Ee),It=(he&&he.preventScrollReset)===!0;if(je&&kr(je.formMethod)){await On(F,G,Ee,St,Re,Se.active,we,It,je);return}$.set(F,{routeId:G,path:Ee}),await _n(F,G,Ee,St,Re,Se.active,we,It,je)}async function On(F,G,J,he,we,ke,be,Re,Se){nn(),$.delete(F);function Ee(xt){if(!xt.route.action&&!xt.route.lazy){let qt=gr(405,{method:Se.formMethod,pathname:J,routeId:G});return S(F,G,qt,{flushSync:be}),!0}return!1}if(!ke&&Ee(he))return;let je=z.fetchers.get(F);wt(F,CS(Se,je),{flushSync:be});let We=new AbortController,St=Ds(n.history,J,We.signal,Se);if(ke){let xt=await Fr(we,J,St.signal);if(xt.type==="aborted")return;if(xt.type==="error"){S(F,G,xt.error,{flushSync:be});return}else if(xt.matches){if(we=xt.matches,he=Ha(we,J),Ee(he))return}else{S(F,G,gr(404,{pathname:J}),{flushSync:be});return}}Be.set(F,We);let It=Ye,nt=(await wn("action",z,St,[he],we,F))[he.route.id];if(St.signal.aborted){Be.get(F)===We&&Be.delete(F);return}if(Te.has(F)){if(Uo(nt)||er(nt)){wt(F,eo(void 0));return}}else{if(Uo(nt))if(Be.delete(F),ge>It){wt(F,eo(void 0));return}else return _e.add(F),wt(F,za(Se)),Vt(St,nt,!1,{fetcherSubmission:Se,preventScrollReset:Re});if(er(nt)){S(F,G,nt.error);return}}let bt=z.navigation.location||z.location,or=Ds(n.history,bt,We.signal),sr=c||l,En=z.navigation.state!=="idle"?to(sr,z.navigation.location,f):z.matches;lt(En,"Didn't find any matches after fetcher action");let Tn=++Ye;Ne.set(F,Tn);let Ni=za(Se,nt.data);z.fetchers.set(F,Ni);let[ui,ct]=ny(n.history,z,En,Se,bt,!1,ut,Qe,Te,$,_e,sr,f,[he.route.id,nt]);ct.filter(xt=>xt.key!==F).forEach(xt=>{let qt=xt.key,yo=z.fetchers.get(qt),hn=za(void 0,yo?yo.data:void 0);z.fetchers.set(qt,hn),B(qt),xt.controller&&Be.set(qt,xt.controller)}),tt({fetchers:new Map(z.fetchers)});let ci=()=>ct.forEach(xt=>B(xt.key));We.signal.addEventListener("abort",ci);let{loaderResults:ar,fetcherResults:ot}=await vr(z,En,ui,ct,or);if(We.signal.aborted)return;We.signal.removeEventListener("abort",ci),Ne.delete(F),Be.delete(F),ct.forEach(xt=>Be.delete(xt.key));let Rt=Lu(ar);if(Rt)return Vt(or,Rt.result,!1,{preventScrollReset:Re});if(Rt=Lu(ot),Rt)return _e.add(Rt.key),Vt(or,Rt.result,!1,{preventScrollReset:Re});let{loaderData:Ur,errors:Br}=ay(z,En,ar,void 0,ct,ot);if(z.fetchers.has(F)){let xt=eo(nt.data);z.fetchers.set(F,xt)}He(Tn),z.navigation.state==="loading"&&Tn>ge?(lt(b,"Expected pending action"),N&&N.abort(),tn(z.navigation.location,{matches:En,loaderData:Ur,errors:Br,fetchers:new Map(z.fetchers)})):(tt({errors:Br,loaderData:ly(z.loaderData,Ur,En,Br),fetchers:new Map(z.fetchers)}),ut=!1)}async function _n(F,G,J,he,we,ke,be,Re,Se){let Ee=z.fetchers.get(F);wt(F,za(Se,Ee?Ee.data:void 0),{flushSync:be});let je=new AbortController,We=Ds(n.history,J,je.signal);if(ke){let nt=await Fr(we,J,We.signal);if(nt.type==="aborted")return;if(nt.type==="error"){S(F,G,nt.error,{flushSync:be});return}else if(nt.matches)we=nt.matches,he=Ha(we,J);else{S(F,G,gr(404,{pathname:J}),{flushSync:be});return}}Be.set(F,je);let St=Ye,_t=(await wn("loader",z,We,[he],we,F))[he.route.id];if(Be.get(F)===je&&Be.delete(F),!We.signal.aborted){if(Te.has(F)){wt(F,eo(void 0));return}if(Uo(_t))if(ge>St){wt(F,eo(void 0));return}else{_e.add(F),await Vt(We,_t,!1,{preventScrollReset:Re});return}if(er(_t)){S(F,G,_t.error);return}wt(F,eo(_t.data))}}async function Vt(F,G,J,{submission:he,fetcherSubmission:we,preventScrollReset:ke,replace:be}={}){G.response.headers.has("X-Remix-Revalidate")&&(ut=!0);let Re=G.response.headers.get("Location");lt(Re,"Expected a Location header on the redirect Response"),Re=oy(Re,new URL(F.url),f);let Se=el(z.location,Re,{_isRedirect:!0});if(t){let _t=!1;if(G.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(vd.test(Re)){const nt=n.history.createURL(Re);_t=nt.origin!==e.location.origin||Dr(nt.pathname,f)==null}if(_t){be?e.location.replace(Re):e.location.assign(Re);return}}N=null;let Ee=be===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:We,formEncType:St}=z.navigation;!he&&!we&&je&&We&&St&&(he=fy(z.navigation));let It=he||we;if(cS.has(G.response.status)&&It&&kr(It.formMethod))await zt(Ee,Se,{submission:{...It,formAction:Re},preventScrollReset:ke||P,enableViewTransition:J?M:void 0});else{let _t=If(Se,he);await zt(Ee,Se,{overrideNavigation:_t,fetcherSubmission:we,preventScrollReset:ke||P,enableViewTransition:J?M:void 0})}}async function wn(F,G,J,he,we,ke){let be,Re={};try{be=await _S(p,F,G,J,he,we,ke,s,o)}catch(Se){return he.forEach(Ee=>{Re[Ee.route.id]={type:"error",error:Se}}),Re}for(let[Se,Ee]of Object.entries(be))if(RS(Ee)){let je=Ee.result;Re[Se]={type:"redirect",response:TS(je,J,Se,we,f)}}else Re[Se]=await ES(Ee);return Re}async function vr(F,G,J,he,we){let ke=wn("loader",F,we,J,G,null),be=Promise.all(he.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.controller){let We=(await wn("loader",F,Ds(n.history,Ee.path,Ee.controller.signal),[Ee.match],Ee.matches,Ee.key))[Ee.match.route.id];return{[Ee.key]:We}}else return Promise.resolve({[Ee.key]:{type:"error",error:gr(404,{pathname:Ee.path})}})})),Re=await ke,Se=(await be).reduce((Ee,je)=>Object.assign(Ee,je),{});return{loaderResults:Re,fetcherResults:Se}}function nn(){ut=!0,$.forEach((F,G)=>{Be.has(G)&&Qe.add(G),B(G)})}function wt(F,G,J={}){z.fetchers.set(F,G),tt({fetchers:new Map(z.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function S(F,G,J,he={}){let we=Mo(z.matches,G);_(F),tt({errors:{[we.route.id]:J},fetchers:new Map(z.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function v(F){return se.set(F,(se.get(F)||0)+1),Te.has(F)&&Te.delete(F),z.fetchers.get(F)||hS}function _(F){let G=z.fetchers.get(F);Be.has(F)&&!(G&&G.state==="loading"&&Ne.has(F))&&B(F),$.delete(F),Ne.delete(F),_e.delete(F),Te.delete(F),Qe.delete(F),z.fetchers.delete(F)}function k(F){let G=(se.get(F)||0)-1;G<=0?(se.delete(F),Te.add(F)):se.set(F,G),tt({fetchers:new Map(z.fetchers)})}function B(F){let G=Be.get(F);G&&(G.abort(),Be.delete(F))}function te(F){for(let G of F){let J=v(G),he=eo(J.data);z.fetchers.set(G,he)}}function ae(){let F=[],G=!1;for(let J of _e){let he=z.fetchers.get(J);lt(he,`Expected fetcher: ${J}`),he.state==="loading"&&(_e.delete(J),F.push(J),G=!0)}return te(F),G}function He(F){let G=[];for(let[J,he]of Ne)if(he<F){let we=z.fetchers.get(J);lt(we,`Expected fetcher: ${J}`),we.state==="loading"&&(B(J),Ne.delete(J),G.push(J))}return te(G),G.length>0}function Et(F,G){let J=z.blockers.get(F)||ja;return Fe.get(F)!==G&&Fe.set(F,G),J}function pt(F){z.blockers.delete(F),Fe.delete(F)}function mt(F,G){let J=z.blockers.get(F)||ja;lt(J.state==="unblocked"&&G.state==="blocked"||J.state==="blocked"&&G.state==="blocked"||J.state==="blocked"&&G.state==="proceeding"||J.state==="blocked"&&G.state==="unblocked"||J.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${G.state}`);let he=new Map(z.blockers);he.set(F,G),tt({blockers:he})}function Ze({currentLocation:F,nextLocation:G,historyAction:J}){if(Fe.size===0)return;Fe.size>1&&un(!1,"A router only supports one blocker at a time");let he=Array.from(Fe.entries()),[we,ke]=he[he.length-1],be=z.blockers.get(we);if(!(be&&be.state==="proceeding")&&ke({currentLocation:F,nextLocation:G,historyAction:J}))return we}function Mr(F){let G=gr(404,{pathname:F}),J=c||l,{matches:he,route:we}=cy(J);return{notFoundMatches:he,route:we,error:G}}function ki(F,G,J){if(x=F,O=G,C=J||null,!D&&z.navigation===Sf){D=!0;let he=ai(z.location,z.matches);he!=null&&tt({restoreScrollPosition:he})}return()=>{x=null,O=null,C=null}}function Nn(F,G){return C&&C(F,G.map(he=>z1(he,z.loaderData)))||F.key}function ir(F,G){if(x&&O){let J=Nn(F,G);x[J]=O()}}function ai(F,G){if(x){let J=Nn(F,G),he=x[J];if(typeof he=="number")return he}return null}function Dn(F,G,J){if(m)if(F){if(Object.keys(F[0].params).length>0)return{active:!0,matches:$u(G,J,f,!0)}}else return{active:!0,matches:$u(G,J,f,!0)||[]};return{active:!1,matches:null}}async function Fr(F,G,J){if(!m)return{type:"success",matches:F};let he=F;for(;;){let we=c==null,ke=c||l,be=s;try{await m({path:G,matches:he,patch:(Ee,je)=>{J.aborted||iy(Ee,je,ke,be,o)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:he}}finally{we&&!J.aborted&&(l=[...l])}if(J.aborted)return{type:"aborted"};let Re=to(ke,G,f);if(Re)return{type:"success",matches:Re};let Se=$u(ke,G,f,!0);if(!Se||he.length===Se.length&&he.every((Ee,je)=>Ee.route.id===Se[je].route.id))return{type:"success",matches:null};he=Se}}function li(F){s={},c=tc(F,o,void 0,s)}function go(F,G){let J=c==null;iy(F,G,c||l,s,o),J&&(l=[...l],tt({}))}return ce={get basename(){return f},get future(){return w},get state(){return z},get routes(){return l},get window(){return e},initialize:rt,subscribe:yt,enableScrollRestoration:ki,navigate:nr,fetch:Or,revalidate:cn,createHref:F=>n.history.createHref(F),encodeLocation:F=>n.history.encodeLocation(F),getFetcher:v,deleteFetcher:k,dispose:Je,getBlocker:Et,deleteBlocker:pt,patchRoutes:go,_internalFetchControllers:Be,_internalSetRoutes:li},ce}function pS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Bf(n,e,t,o,s,l){let c,f;if(s){c=[];for(let m of e)if(c.push(m),m.route.id===s){f=m;break}}else c=e,f=e[e.length-1];let p=yd(o||".",gd(c),Dr(n.pathname,t)||n.pathname,l==="path");if(o==null&&(p.search=n.search,p.hash=n.hash),(o==null||o===""||o===".")&&f){let m=_d(p.search);if(f.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let w=new URLSearchParams(p.search),I=w.getAll("index");w.delete("index"),I.filter(x=>x).forEach(x=>w.append("index",x));let R=w.toString();p.search=R?`?${R}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Jr([t,p.pathname])),ao(p)}function ey(n,e,t){if(!t||!pS(t))return{path:e};if(t.formMethod&&!AS(t.formMethod))return{path:e,error:gr(405,{method:t.formMethod})};let o=()=>({path:e,error:gr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=l0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!kr(l))return o();let I=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((R,[x,C])=>`${R}${x}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:I}}}else if(t.formEncType==="application/json"){if(!kr(l))return o();try{let I=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:I,text:void 0}}}catch{return o()}}}lt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=zf(t.formData),p=t.formData;else if(t.body instanceof FormData)f=zf(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=sy(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=sy(f)}catch{return o()}let m={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(kr(m.formMethod))return{path:e,submission:m};let w=Ci(e);return n&&w.search&&_d(w.search)&&f.append("index",""),w.search=`?${f}`,{path:ao(w),submission:m}}function ty(n,e,t=!1){let o=n.findIndex(s=>s.route.id===e);return o>=0?n.slice(0,t?o+1:o):n}function ny(n,e,t,o,s,l,c,f,p,m,w,I,R,x){let C=x?er(x[1])?x[1].error:x[1].data:void 0,O=n.createURL(e.location),D=n.createURL(s),W=t;l&&e.errors?W=ty(t,Object.keys(e.errors)[0],!0):x&&er(x[1])&&(W=ty(t,x[0]));let Z=x?x[1].statusCode:void 0,ie=Z&&Z>=400,pe=W.filter((z,b)=>{let{route:P}=z;if(P.lazy)return!0;if(P.loader==null)return!1;if(l)return jf(P,e.loaderData,e.errors);if(mS(e.loaderData,e.matches[b],z))return!0;let N=e.matches[b],M=z;return ry(z,{currentUrl:O,currentParams:N.params,nextUrl:D,nextParams:M.params,...o,actionResult:C,actionStatus:Z,defaultShouldRevalidate:ie?!1:c||O.pathname+O.search===D.pathname+D.search||O.search!==D.search||gS(N,M)})}),ce=[];return m.forEach((z,b)=>{if(l||!t.some(Q=>Q.route.id===z.routeId)||p.has(b))return;let P=to(I,z.path,R);if(!P){ce.push({key:b,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(b),M=Ha(P,z.path),j=!1;w.has(b)?j=!1:f.has(b)?(f.delete(b),j=!0):N&&N.state!=="idle"&&N.data===void 0?j=c:j=ry(M,{currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...o,actionResult:C,actionStatus:Z,defaultShouldRevalidate:ie?!1:c}),j&&ce.push({key:b,routeId:z.routeId,path:z.path,matches:P,match:M,controller:new AbortController})}),[pe,ce]}function jf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let o=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!o&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!o&&!s}function mS(n,e,t){let o=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return o||s}function gS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ry(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function iy(n,e,t,o,s){let l;if(n){let p=o[n];lt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(m=>a0(p,m))),f=tc(c,s,[n||"_","patch",String((l==null?void 0:l.length)||"0")],o);l.push(...f)}function a0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,o)=>{var s;return(s=e.children)==null?void 0:s.some(l=>a0(t,l))}):!1}async function yS(n,e,t){if(!n.lazy)return;let o=await n.lazy();if(!n.lazy)return;let s=t[n.id];lt(s,"No route found in manifest");let l={};for(let c in o){let p=s[c]!==void 0&&c!=="hasErrorBoundary";un(!p,`Route "${s.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!B1.has(c)&&(l[c]=o[c])}Object.assign(s,l),Object.assign(s,{...e(s),lazy:void 0})}async function vS({matches:n}){let e=n.filter(o=>o.shouldLoad);return(await Promise.all(e.map(o=>o.resolve()))).reduce((o,s,l)=>Object.assign(o,{[e[l].route.id]:s}),{})}async function _S(n,e,t,o,s,l,c,f,p,m){let w=l.map(x=>x.route.lazy?yS(x.route,p,f):void 0),I=l.map((x,C)=>{let O=w[C],D=s.some(Z=>Z.route.id===x.route.id);return{...x,shouldLoad:D,resolve:async Z=>(Z&&o.method==="GET"&&(x.route.lazy||x.route.loader)&&(D=!0),D?wS(e,o,x,O,Z,m):Promise.resolve({type:"data",result:void 0}))}}),R=await n({matches:I,request:o,params:l[0].params,fetcherKey:c,context:m});try{await Promise.all(w)}catch{}return R}async function wS(n,e,t,o,s,l){let c,f,p=m=>{let w,I=new Promise((C,O)=>w=O);f=()=>w(),e.signal.addEventListener("abort",f);let R=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:l},...C!==void 0?[C]:[]),x=(async()=>{try{return{type:"data",result:await(s?s(O=>R(O)):R())}}catch(C){return{type:"error",result:C}}})();return Promise.race([x,I])};try{let m=t.route[n];if(o)if(m){let w,[I]=await Promise.all([p(m).catch(R=>{w=R}),o]);if(w!==void 0)throw w;c=I}else if(await o,m=t.route[n],m)c=await p(m);else if(n==="action"){let w=new URL(e.url),I=w.pathname+w.search;throw gr(405,{method:e.method,pathname:I,routeId:t.route.id})}else return{type:"data",result:void 0};else if(m)c=await p(m);else{let w=new URL(e.url),I=w.pathname+w.search;throw gr(404,{pathname:I})}}catch(m){return{type:"error",result:m}}finally{f&&e.signal.removeEventListener("abort",f)}return c}async function ES(n){var o,s,l,c,f,p;let{result:e,type:t}=n;if(u0(e)){let m;try{let w=e.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(w){return{type:"error",error:w}}return t==="error"?{type:"error",error:new rc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?hy(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new rc(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:tl(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:tl(e)?e.status:void 0}:hy(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function TS(n,e,t,o,s){let l=n.headers.get("Location");if(lt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!vd.test(l)){let c=o.slice(0,o.findIndex(f=>f.route.id===t)+1);l=Bf(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function oy(n,e,t){if(vd.test(n)){let o=n,s=o.startsWith("//")?new URL(e.protocol+o):new URL(o),l=Dr(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Ds(n,e,t,o){let s=n.createURL(l0(e)).toString(),l={signal:t};if(o&&kr(o.formMethod)){let{formMethod:c,formEncType:f}=o;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(o.json)):f==="text/plain"?l.body=o.text:f==="application/x-www-form-urlencoded"&&o.formData?l.body=zf(o.formData):l.body=o.formData}return new Request(s,l)}function zf(n){let e=new URLSearchParams;for(let[t,o]of n.entries())e.append(t,typeof o=="string"?o:o.name);return e}function sy(n){let e=new FormData;for(let[t,o]of n.entries())e.append(t,o);return e}function SS(n,e,t,o=!1,s=!1){let l={},c=null,f,p=!1,m={},w=t&&er(t[1])?t[1].error:void 0;return n.forEach(I=>{if(!(I.route.id in e))return;let R=I.route.id,x=e[R];if(lt(!Uo(x),"Cannot handle redirect results in processLoaderData"),er(x)){let C=x.error;if(w!==void 0&&(C=w,w=void 0),c=c||{},s)c[R]=C;else{let O=Mo(n,R);c[O.route.id]==null&&(c[O.route.id]=C)}o||(l[R]=s0),p||(p=!0,f=tl(x.error)?x.error.status:500),x.headers&&(m[R]=x.headers)}else l[R]=x.data,x.statusCode&&x.statusCode!==200&&!p&&(f=x.statusCode),x.headers&&(m[R]=x.headers)}),w!==void 0&&t&&(c={[t[0]]:w},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:m}}function ay(n,e,t,o,s,l){let{loaderData:c,errors:f}=SS(e,t,o);return s.forEach(p=>{let{key:m,match:w,controller:I}=p,R=l[m];if(lt(R,"Did not find corresponding fetcher result"),!(I&&I.signal.aborted))if(er(R)){let x=Mo(n.matches,w==null?void 0:w.route.id);f&&f[x.route.id]||(f={...f,[x.route.id]:R.error}),n.fetchers.delete(m)}else if(Uo(R))lt(!1,"Unhandled fetcher revalidation redirect");else{let x=eo(R.data);n.fetchers.set(m,x)}}),{loaderData:c,errors:f}}function ly(n,e,t,o){let s=Object.entries(e).filter(([,l])=>l!==s0).reduce((l,[c,f])=>(l[c]=f,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),o&&o.hasOwnProperty(c))break}return s}function uy(n){return n?er(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Mo(n,e){return(e?n.slice(0,n.findIndex(o=>o.route.id===e)+1):[...n]).reverse().find(o=>o.route.hasErrorBoundary===!0)||n[0]}function cy(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(n,{pathname:e,routeId:t,method:o,type:s,message:l}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",o&&e&&t?f=`You made a ${o} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",f=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",o&&e&&t?f=`You made a ${o.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:o&&(f=`Invalid request method "${o.toUpperCase()}"`)),new rc(n||500,c,new Error(f),!0)}function Lu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[o,s]=e[t];if(Uo(s))return{key:o,result:s}}}function l0(n){let e=typeof n=="string"?Ci(n):n;return ao({...e,hash:""})}function IS(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function RS(n){return u0(n.result)&&uS.has(n.result.status)}function er(n){return n.type==="error"}function Uo(n){return(n&&n.type)==="redirect"}function hy(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function u0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function AS(n){return lS.has(n.toUpperCase())}function kr(n){return sS.has(n.toUpperCase())}function _d(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ha(n,e){let t=typeof e=="string"?Ci(e).search:e.search;if(n[n.length-1].route.index&&_d(t||""))return n[n.length-1];let o=r0(n);return o[o.length-1]}function fy(n){let{formMethod:e,formAction:t,formEncType:o,text:s,formData:l,json:c}=n;if(!(!e||!t||!o)){if(s!=null)return{formMethod:e,formAction:t,formEncType:o,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:o,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:o,formData:void 0,json:c,text:void 0}}}function If(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xS(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function za(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function eo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function PS(n,e){try{let t=n.sessionStorage.getItem(o0);if(t){let o=JSON.parse(t);for(let[s,l]of Object.entries(o||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function kS(n,e){if(e.size>0){let t={};for(let[o,s]of e)t[o]=[...s];try{n.sessionStorage.setItem(o0,JSON.stringify(t))}catch(o){un(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function NS(){let n,e,t=new Promise((o,s)=>{n=async l=>{o(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var qo=q.createContext(null);qo.displayName="DataRouter";var pl=q.createContext(null);pl.displayName="DataRouterState";var wd=q.createContext({isTransitioning:!1});wd.displayName="ViewTransition";var c0=q.createContext(new Map);c0.displayName="Fetchers";var DS=q.createContext(null);DS.displayName="Await";var ii=q.createContext(null);ii.displayName="Navigation";var Rc=q.createContext(null);Rc.displayName="Location";var oi=q.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Ed=q.createContext(null);Ed.displayName="RouteError";function LS(n,{relative:e}={}){lt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:o}=q.useContext(ii),{hash:s,pathname:l,search:c}=gl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Jr([t,l])),o.createHref({pathname:f,search:c,hash:s})}function ml(){return q.useContext(Rc)!=null}function Wo(){return lt(ml(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Rc).location}var h0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(n){q.useContext(ii).static||q.useLayoutEffect(n)}function Js(){let{isDataRoute:n}=q.useContext(oi);return n?WS():VS()}function VS(){lt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(qo),{basename:e,navigator:t}=q.useContext(ii),{matches:o}=q.useContext(oi),{pathname:s}=Wo(),l=JSON.stringify(gd(o)),c=q.useRef(!1);return f0(()=>{c.current=!0}),q.useCallback((p,m={})=>{if(un(c.current,h0),!c.current)return;if(typeof p=="number"){t.go(p);return}let w=yd(p,JSON.parse(l),s,m.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Jr([e,w.pathname])),(m.replace?t.replace:t.push)(w,m.state,m)},[e,t,l,s,n])}var bS=q.createContext(null);function OS(n){let e=q.useContext(oi).outlet;return e&&q.createElement(bS.Provider,{value:n},e)}function gl(n,{relative:e}={}){let{matches:t}=q.useContext(oi),{pathname:o}=Wo(),s=JSON.stringify(gd(t));return q.useMemo(()=>yd(n,JSON.parse(s),o,e==="path"),[n,s,o,e])}function MS(n,e,t,o){lt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=q.useContext(ii),{matches:c}=q.useContext(oi),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",w=f?f.pathnameBase:"/",I=f&&f.route;{let Z=I&&I.path||"";m0(m,!I||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let R=Wo(),x;x=R;let C=x.pathname||"/",O=C;if(w!=="/"){let Z=w.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(Z.length).join("/")}let D=!l&&t&&t.matches&&t.matches.length>0?t.matches:to(n,{pathname:O});return un(I||D!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),un(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),zS(D&&D.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Jr([w,s.encodeLocation?s.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?w:Jr([w,s.encodeLocation?s.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,t,o)}function FS(){let n=p0(),e=tl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,c)}var US=q.createElement(FS,null),BS=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(oi.Provider,{value:this.props.routeContext},q.createElement(Ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jS({routeContext:n,match:e,children:t}){let o=q.useContext(qo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(oi.Provider,{value:n},t)}function zS(n,e=[],t=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:w,errors:I}=t,R=m.route.loader&&!w.hasOwnProperty(m.route.id)&&(!I||I[m.route.id]===void 0);if(m.route.lazy||R){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,w)=>{let I,R=!1,x=null,C=null;t&&(I=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||US,c&&(f<0&&w===0?(m0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,C=null):f===w&&(R=!0,C=m.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,w+1)),D=()=>{let W;return I?W=x:R?W=C:m.route.Component?W=q.createElement(m.route.Component,null):m.route.element?W=m.route.element:W=p,q.createElement(jS,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:W})};return t&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?q.createElement(BS,{location:t.location,revalidation:t.revalidation,component:x,error:I,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function Td(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(n){let e=q.useContext(qo);return lt(e,Td(n)),e}function d0(n){let e=q.useContext(pl);return lt(e,Td(n)),e}function HS(n){let e=q.useContext(oi);return lt(e,Td(n)),e}function Ac(n){let e=HS(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qS(){return Ac("useRouteId")}function Sd(){let n=d0("useLoaderData"),e=Ac("useLoaderData");return n.loaderData[e]}function p0(){var o;let n=q.useContext(Ed),e=d0("useRouteError"),t=Ac("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[t]}function WS(){let{router:n}=$S("useNavigate"),e=Ac("useNavigate"),t=q.useRef(!1);return f0(()=>{t.current=!0}),q.useCallback(async(s,l={})=>{un(t.current,h0),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var dy={};function m0(n,e,t){!e&&!dy[n]&&(dy[n]=!0,un(!1,t))}var py={};function my(n,e){!n&&!py[e]&&(py[e]=!0,console.warn(e))}function KS(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var QS=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",t(o))}})}};function GS({router:n,flushSync:e}){let[t,o]=q.useState(n.state),[s,l]=q.useState(),[c,f]=q.useState({isTransitioning:!1}),[p,m]=q.useState(),[w,I]=q.useState(),[R,x]=q.useState(),C=q.useRef(new Map),O=q.useCallback((ie,{deletedFetchers:pe,flushSync:ce,viewTransitionOpts:z})=>{ie.fetchers.forEach((P,N)=>{P.data!==void 0&&C.current.set(N,P.data)}),pe.forEach(P=>C.current.delete(P)),my(ce===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let b=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(my(z==null||b,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!b){e&&ce?e(()=>o(ie)):q.startTransition(()=>o(ie));return}if(e&&ce){e(()=>{w&&(p&&p.resolve(),w.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let P=n.window.document.startViewTransition(()=>{e(()=>o(ie))});P.finished.finally(()=>{e(()=>{m(void 0),I(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>I(P));return}w?(p&&p.resolve(),w.skipTransition(),x({state:ie,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(l(ie),f({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,e,w,p]);q.useLayoutEffect(()=>n.subscribe(O),[n,O]),q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new QS)},[c]),q.useEffect(()=>{if(p&&s&&n.window){let ie=s,pe=p.promise,ce=n.window.document.startViewTransition(async()=>{q.startTransition(()=>o(ie)),await pe});ce.finished.finally(()=>{m(void 0),I(void 0),l(void 0),f({isTransitioning:!1})}),I(ce)}},[s,p,n.window]),q.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,w,t.location,s]),q.useEffect(()=>{!c.isTransitioning&&R&&(l(R.state),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),x(void 0))},[c.isTransitioning,R]);let D=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ie=>n.navigate(ie),push:(ie,pe,ce)=>n.navigate(ie,{state:pe,preventScrollReset:ce==null?void 0:ce.preventScrollReset}),replace:(ie,pe,ce)=>n.navigate(ie,{replace:!0,state:pe,preventScrollReset:ce==null?void 0:ce.preventScrollReset})}),[n]),W=n.basename||"/",Z=q.useMemo(()=>({router:n,navigator:D,static:!1,basename:W}),[n,D,W]);return q.createElement(q.Fragment,null,q.createElement(qo.Provider,{value:Z},q.createElement(pl.Provider,{value:t},q.createElement(c0.Provider,{value:C.current},q.createElement(wd.Provider,{value:c},q.createElement(ZS,{basename:W,location:t.location,navigationType:t.historyAction,navigator:D},q.createElement(YS,{routes:n.routes,future:n.future,state:t})))))),null)}var YS=q.memo(XS);function XS({routes:n,future:e,state:t}){return MS(n,void 0,t,e)}function JS(n){return OS(n.context)}function ZS({basename:n="/",children:e=null,location:t,navigationType:o="POP",navigator:s,static:l=!1}){lt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Ci(t));let{pathname:p="/",search:m="",hash:w="",state:I=null,key:R="default"}=t,x=q.useMemo(()=>{let C=Dr(p,c);return C==null?null:{location:{pathname:C,search:m,hash:w,state:I,key:R},navigationType:o}},[c,p,m,w,I,R,o]);return un(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${w}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:q.createElement(ii.Provider,{value:f},q.createElement(Rc.Provider,{children:e,value:x}))}var Hu="get",qu="application/x-www-form-urlencoded";function xc(n){return n!=null&&typeof n.tagName=="string"}function eI(n){return xc(n)&&n.tagName.toLowerCase()==="button"}function tI(n){return xc(n)&&n.tagName.toLowerCase()==="form"}function nI(n){return xc(n)&&n.tagName.toLowerCase()==="input"}function rI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iI(n,e){return n.button===0&&(!e||e==="_self")&&!rI(n)}var Vu=null;function oI(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var sI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(n){return n!=null&&!sI.has(n)?(un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):n}function aI(n,e){let t,o,s,l,c;if(tI(n)){let f=n.getAttribute("action");o=f?Dr(f,e):null,t=n.getAttribute("method")||Hu,s=Rf(n.getAttribute("enctype"))||qu,l=new FormData(n)}else if(eI(n)||nI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(o=p?Dr(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Hu,s=Rf(n.getAttribute("formenctype"))||Rf(f.getAttribute("enctype"))||qu,l=new FormData(f,n),!oI()){let{name:m,type:w,value:I}=n;if(w==="image"){let R=m?`${m}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else m&&l.append(m,I)}}else{if(xc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hu,o=null,s=qu,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:o,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Id(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cI(n,e,t){let o=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await lI(l,t);return c.links?c.links():[]}return[]}));return pI(o.flat(1).filter(uI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gy(n,e,t,o,s,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>{var w;return t[m].pathname!==p.pathname||((w=t[m].route.path)==null?void 0:w.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var I;let w=o.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function hI(n,e){return fI(n.map(t=>{let o=e.routes[t.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function fI(n){return[...new Set(n)]}function dI(n){let e={},t=Object.keys(n).sort();for(let o of t)e[o]=n[o];return e}function pI(n,e){let t=new Set;return new Set(e),n.reduce((o,s)=>{let l=JSON.stringify(dI(s));return t.has(l)||(t.add(l),o.push({key:l,link:s})),o},[])}function mI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gI(){let n=q.useContext(qo);return Id(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yI(){let n=q.useContext(pl);return Id(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Rd=q.createContext(void 0);Rd.displayName="FrameworkContext";function g0(){let n=q.useContext(Rd);return Id(n,"You must render this element inside a <HydratedRouter> element"),n}function vI(n,e){let t=q.useContext(Rd),[o,s]=q.useState(!1),[l,c]=q.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:w,onTouchStart:I}=e,R=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=W=>{W.forEach(Z=>{c(Z.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return R.current&&D.observe(R.current),()=>{D.disconnect()}}},[n]),q.useEffect(()=>{if(o){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[o]);let x=()=>{s(!0)},C=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,R,{}]:[l,R,{onFocus:$a(f,x),onBlur:$a(p,C),onMouseEnter:$a(m,x),onMouseLeave:$a(w,C),onTouchStart:$a(I,x)}]:[!1,R,{}]}function $a(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _I({page:n,...e}){let{router:t}=gI(),o=q.useMemo(()=>to(t.routes,n,t.basename),[t.routes,n,t.basename]);return o?q.createElement(EI,{page:n,matches:o,...e}):null}function wI(n){let{manifest:e,routeModules:t}=g0(),[o,s]=q.useState([]);return q.useEffect(()=>{let l=!1;return cI(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),o}function EI({page:n,matches:e,...t}){let o=Wo(),{manifest:s,routeModules:l}=g0(),{loaderData:c,matches:f}=yI(),p=q.useMemo(()=>gy(n,e,f,s,o,"data"),[n,e,f,s,o]),m=q.useMemo(()=>gy(n,e,f,s,o,"assets"),[n,e,f,s,o]),w=q.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let x=new Set,C=!1;if(e.forEach(D=>{var Z;let W=s.routes[D.route.id];!W||!W.hasLoader||(!p.some(ie=>ie.route.id===D.route.id)&&D.route.id in c&&((Z=l[D.route.id])!=null&&Z.shouldRevalidate)||W.hasClientLoader?C=!0:x.add(D.route.id))}),x.size===0)return[];let O=mI(n);return C&&x.size>0&&O.searchParams.set("_routes",e.filter(D=>x.has(D.route.id)).map(D=>D.route.id).join(",")),[O.pathname+O.search]},[c,o,s,p,e,n,l]),I=q.useMemo(()=>hI(m,s),[m,s]),R=wI(m);return q.createElement(q.Fragment,null,w.map(x=>q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),I.map(x=>q.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),R.map(({key:x,link:C})=>q.createElement("link",{key:x,...C})))}function TI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y0&&(window.__reactRouterVersion="7.1.5")}catch{}function SI(n,e){return dS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:M1({window:e==null?void 0:e.window}),hydrationData:II(),routes:n,mapRouteProperties:KS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function II(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:RI(n.errors)}),n}function RI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[o,s]of e)if(s&&s.__type==="RouteErrorResponse")t[o]=new rc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[o]=c}catch{}}if(t[o]==null){let l=new Error(s.message);l.stack="",t[o]=l}}else t[o]=s;return t}var v0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=q.forwardRef(function({onClick:e,discover:t="render",prefetch:o="none",relative:s,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:w,viewTransition:I,...R},x){let{basename:C}=q.useContext(ii),O=typeof m=="string"&&v0.test(m),D,W=!1;if(typeof m=="string"&&O&&(D=m,y0))try{let N=new URL(window.location.href),M=m.startsWith("//")?new URL(N.protocol+m):new URL(m),j=Dr(M.pathname,C);M.origin===N.origin&&j!=null?m=j+M.search+M.hash:W=!0}catch{un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=LS(m,{relative:s}),[ie,pe,ce]=vI(o,R),z=PI(m,{replace:c,state:f,target:p,preventScrollReset:w,relative:s,viewTransition:I});function b(N){e&&e(N),N.defaultPrevented||z(N)}let P=q.createElement("a",{...R,...ce,href:D||Z,onClick:W||l?e:b,ref:TI(x,pe),target:p,"data-discover":!O&&t==="render"?"true":void 0});return ie&&!O?q.createElement(q.Fragment,null,P,q.createElement(_I,{page:Z})):P});_0.displayName="Link";var AI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:o="",end:s=!1,style:l,to:c,viewTransition:f,children:p,...m},w){let I=gl(c,{relative:m.relative}),R=Wo(),x=q.useContext(pl),{navigator:C,basename:O}=q.useContext(ii),D=x!=null&&VI(I)&&f===!0,W=C.encodeLocation?C.encodeLocation(I).pathname:I.pathname,Z=R.pathname,ie=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),ie=ie?ie.toLowerCase():null,W=W.toLowerCase()),ie&&O&&(ie=Dr(ie,O)||ie);const pe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ce=Z===W||!s&&Z.startsWith(W)&&Z.charAt(pe)==="/",z=ie!=null&&(ie===W||!s&&ie.startsWith(W)&&ie.charAt(W.length)==="/"),b={isActive:ce,isPending:z,isTransitioning:D},P=ce?e:void 0,N;typeof o=="function"?N=o(b):N=[o,ce?"active":null,z?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(b):l;return q.createElement(_0,{...m,"aria-current":P,className:N,ref:w,style:M,to:c,viewTransition:f},typeof p=="function"?p(b):p)});AI.displayName="NavLink";var xI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:o,replace:s,state:l,method:c=Hu,action:f,onSubmit:p,relative:m,preventScrollReset:w,viewTransition:I,...R},x)=>{let C=DI(),O=LI(f,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&v0.test(f),Z=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,ce=(pe==null?void 0:pe.getAttribute("formmethod"))||c;C(pe||ie.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:s,state:l,relative:m,preventScrollReset:w,viewTransition:I})};return q.createElement("form",{ref:x,method:D,action:O,onSubmit:o?p:Z,...R,"data-discover":!W&&n==="render"?"true":void 0})});xI.displayName="Form";function CI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(n){let e=q.useContext(qo);return lt(e,CI(n)),e}function PI(n,{target:e,replace:t,state:o,preventScrollReset:s,relative:l,viewTransition:c}={}){let f=Js(),p=Wo(),m=gl(n,{relative:l});return q.useCallback(w=>{if(iI(w,e)){w.preventDefault();let I=t!==void 0?t:ao(p)===ao(m);f(n,{replace:I,state:o,preventScrollReset:s,relative:l,viewTransition:c})}},[p,f,m,t,o,e,n,s,l,c])}var kI=0,NI=()=>`__${String(++kI)}__`;function DI(){let{router:n}=w0("useSubmit"),{basename:e}=q.useContext(ii),t=qS();return q.useCallback(async(o,s={})=>{let{action:l,method:c,encType:f,formData:p,body:m}=aI(o,e);if(s.navigate===!1){let w=s.fetcherKey||NI();await n.fetch(w,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function LI(n,{relative:e}={}){let{basename:t}=q.useContext(ii),o=q.useContext(oi);lt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...gl(n||".",{relative:e})},c=Wo();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let w=f.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Jr([t,l.pathname])),ao(l)}function VI(n,e={}){let t=q.useContext(wd);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=w0("useViewTransitionState"),s=gl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Dr(t.currentLocation.pathname,o)||t.currentLocation.pathname,c=Dr(t.nextLocation.pathname,o)||t.nextLocation.pathname;return nc(s.pathname,c)!=null||nc(s.pathname,l)!=null}new TextEncoder;var Ad=Av();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bI(n){return q.createElement(GS,{flushSync:Ad.flushSync,...n})}function OI(){const n=Js();return K.jsxs("div",{className:"flex flex-row justify-between gap-8 p-4 mb-8 bg-white items-center",children:[K.jsx("button",{className:"full-btn-tan",onClick:()=>n("/recipes"),children:"Recipes"}),K.jsx(XP,{}),K.jsx(OE,{})]})}function E0(n){var l,c;const{recipe:e}=n,t=Js(),o=(e==null?void 0:e.image)!=""&&((l=e.image)==null?void 0:l.split("upload/")),s=()=>{var f;t(`/recipes/${(f=e.metadata)==null?void 0:f.id}`)};return K.jsxs("div",{className:"flex flex-col shadow rounded-md p-3 bg-white hover:animate-wiggle hover:shadow-tan-1 hover:shadow-md hover:cursor-pointer",onClick:s,children:[K.jsx("h2",{className:"text-center line-clamp-1",children:(e==null?void 0:e.name)||""}),o&&K.jsx("img",{className:"",src:`${o[0]}upload/ar_1.0,c_fill/${o[1]}`}),!o&&K.jsx("div",{children:K.jsx(e0,{style:"text-dark-gray/50"})}),K.jsx("div",{className:"flex flex-row flex-wrap",children:K.jsx(dl,{tags:e.tags})})]},`card-${(c=e==null?void 0:e.metadata)==null?void 0:c.id}`)}var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(n){const e=[];let t=0;for(let o=0;o<n.length;o++){let s=n.charCodeAt(o);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++o)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},MI=function(n){const e=[];let t=0,o=0;for(;t<n.length;){const s=n[t++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],f=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(p>>10)),e[o++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,f=c?n[s+1]:0,p=s+2<n.length,m=p?n[s+2]:0,w=l>>2,I=(l&3)<<4|f>>4;let R=(f&15)<<2|m>>6,x=m&63;p||(x=64,c||(R=64)),o.push(t[w],t[I],t[R],t[x])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(T0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const I=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||f==null||m==null||I==null)throw new FI;const R=l<<2|f>>4;if(o.push(R),m!==64){const x=f<<4&240|m>>2;if(o.push(x),I!==64){const C=m<<6&192|I;o.push(C)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(n){const e=T0(n);return S0.encodeByteArray(e,!0)},ic=function(n){return UI(n).replace(/\./g,"")},BI=function(n){try{return S0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=()=>jI().__FIREBASE_DEFAULTS__,$I=()=>{if(typeof process>"u"||typeof yy>"u")return;const n=yy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&BI(n[1]);return e&&JSON.parse(e)},xd=()=>{try{return zI()||$I()||HI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qI=n=>{var e,t;return(t=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},WI=n=>{const e=qI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),o]:[e.substring(0,t),o]},I0=()=>{var n;return(n=xd())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},o=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ic(JSON.stringify(t)),ic(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YI(){var n;const e=(n=xd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XI(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JI(){try{return typeof indexedDB=="object"}catch{return!1}}function ZI(){return new Promise((n,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(o),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class Zs extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=eR,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R0.prototype.create)}}class R0{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?tR(l,o):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new Zs(s,f,o)}}function tR(n,e){return n.replace(nR,(t,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const nR=/\{\$([^}]+)}/g;function $f(n,e){if(n===e)return!0;const t=Object.keys(n),o=Object.keys(e);for(const s of t){if(!o.includes(s))return!1;const l=n[s],c=e[s];if(vy(l)&&vy(c)){if(!$f(l,c))return!1}else if(l!==c)return!1}for(const s of o)if(!t.includes(s))return!1;return!0}function vy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n){return n&&n._delegate?n._delegate:n}class nl{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new KI;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);o===f&&c.resolve(s)}return s}onInit(e,t){var o;const s=this.normalizeInstanceIdentifier(t),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const s of o)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:iR(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iR(n){return n===Oo?void 0:n}function oR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const aR={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},lR=dt.INFO,uR={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},cR=(n,e,...t)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),s=uR[e];if(s)console[s](`[${o}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A0{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const hR=(n,e)=>e.some(t=>n instanceof t);let _y,wy;function fR(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,Hf=new WeakMap,C0=new WeakMap,Af=new WeakMap,Cd=new WeakMap;function pR(n){const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ro(n.result)),s()},c=()=>{o(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&x0.set(t,n)}).catch(()=>{}),Cd.set(e,n),e}function mR(n){if(Hf.has(n))return;const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{o(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Hf.set(n,e)}let qf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||C0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gR(n){qf=n(qf)}function yR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=n.call(xf(this),e,...t);return C0.set(o,e.sort?e.sort():[e]),ro(o)}:dR().includes(n)?function(...e){return n.apply(xf(this),e),ro(x0.get(this))}:function(...e){return ro(n.apply(xf(this),e))}}function vR(n){return typeof n=="function"?yR(n):(n instanceof IDBTransaction&&mR(n),hR(n,fR())?new Proxy(n,qf):n)}function ro(n){if(n instanceof IDBRequest)return pR(n);if(Af.has(n))return Af.get(n);const e=vR(n);return e!==n&&(Af.set(n,e),Cd.set(e,n)),e}const xf=n=>Cd.get(n);function _R(n,e,{blocked:t,upgrade:o,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),f=ro(c);return o&&c.addEventListener("upgradeneeded",p=>{o(ro(c.result),p.oldVersion,p.newVersion,ro(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const wR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Cf=new Map;function Ey(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,s=ER.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(s||wR.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return o&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),s&&p.done]))[0]};return Cf.set(e,l),l}gR(n=>({...n,get:(e,t,o)=>Ey(e,t)||n.get(e,t,o),has:(e,t)=>!!Ey(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SR(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function SR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",Ty="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new A0("@firebase/app"),IR="@firebase/app-compat",RR="@firebase/analytics-compat",AR="@firebase/analytics",xR="@firebase/app-check-compat",CR="@firebase/app-check",PR="@firebase/auth",kR="@firebase/auth-compat",NR="@firebase/database",DR="@firebase/data-connect",LR="@firebase/database-compat",VR="@firebase/functions",bR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",FR="@firebase/messaging",UR="@firebase/messaging-compat",BR="@firebase/performance",jR="@firebase/performance-compat",zR="@firebase/remote-config",$R="@firebase/remote-config-compat",HR="@firebase/storage",qR="@firebase/storage-compat",WR="@firebase/firestore",KR="@firebase/vertexai",QR="@firebase/firestore-compat",GR="firebase",YR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",XR={[Wf]:"fire-core",[IR]:"fire-core-compat",[AR]:"fire-analytics",[RR]:"fire-analytics-compat",[CR]:"fire-app-check",[xR]:"fire-app-check-compat",[PR]:"fire-auth",[kR]:"fire-auth-compat",[NR]:"fire-rtdb",[DR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[VR]:"fire-fn",[bR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[FR]:"fire-fcm",[UR]:"fire-fcm-compat",[BR]:"fire-perf",[jR]:"fire-perf-compat",[zR]:"fire-rc",[$R]:"fire-rc-compat",[HR]:"fire-gcs",[qR]:"fire-gcs-compat",[WR]:"fire-fst",[QR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,JR=new Map,Qf=new Map;function Sy(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sc(n){const e=n.name;if(Qf.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,n);for(const t of oc.values())Sy(t,n);for(const t of JR.values())Sy(t,n);return!0}function ZR(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function eA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new R0("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=YR;function P0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw io.create("bad-app-name",{appName:String(s)});if(t||(t=I0()),!t)throw io.create("no-options");const l=oc.get(s);if(l){if($f(t,l.options)&&$f(o,l.config))return l;throw io.create("duplicate-app",{appName:s})}const c=new sR(s);for(const p of Qf.values())c.addComponent(p);const f=new nA(t,o,c);return oc.set(s,f),f}function iA(n=Kf){const e=oc.get(n);if(!e&&n===Kf&&I0())return P0();if(!e)throw io.create("no-app",{appName:n});return e}function Ms(n,e,t){var o;let s=(o=XR[n])!==null&&o!==void 0?o:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(f.join(" "));return}sc(new nl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebase-heartbeat-database",sA=1,rl="firebase-heartbeat-store";let Pf=null;function k0(){return Pf||(Pf=_R(oA,sA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw io.create("idb-open",{originalErrorMessage:n.message})})),Pf}async function aA(n){try{const t=(await k0()).transaction(rl),o=await t.objectStore(rl).get(N0(n));return await t.done,o}catch(e){if(e instanceof Zs)Ri.warn(e.message);else{const t=io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function Iy(n,e){try{const o=(await k0()).transaction(rl,"readwrite");await o.objectStore(rl).put(e,N0(n)),await o.done}catch(t){if(t instanceof Zs)Ri.warn(t.message);else{const o=io.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(o.message)}}}function N0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=1024,uA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fA(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ry();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>uA){const c=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Ri.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ry(),{heartbeatsToSend:o,unsentEntries:s}=hA(this._heartbeatsCache.heartbeats),l=ic(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ri.warn(t),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function hA(n,e=lA){const t=[];let o=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Ay(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ay(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class fA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JI()?ZI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ay(n){return ic(JSON.stringify({version:2,heartbeats:n})).length}function dA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let o=1;o<n.length;o++)n[o].date<t&&(t=n[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){sc(new nl("platform-logger",e=>new TR(e),"PRIVATE")),sc(new nl("heartbeat",e=>new cA(e),"PRIVATE")),Ms(Wf,Ty,n),Ms(Wf,Ty,"esm2017"),Ms("fire-js","")}pA("");var mA="firebase",gA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(mA,gA,"app");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,D0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,P){function N(){}N.prototype=P.prototype,b.D=P.prototype,b.prototype=new N,b.prototype.constructor=b,b.C=function(M,j,Q){for(var V=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)V[ut-2]=arguments[ut];return P.prototype[j].apply(M,V)}}function t(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,t),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,P,N){N||(N=0);var M=Array(16);if(typeof P=="string")for(var j=0;16>j;++j)M[j]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(j=0;16>j;++j)M[j]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=b.g[0],N=b.g[1],j=b.g[2];var Q=b.g[3],V=P+(Q^N&(j^Q))+M[0]+3614090360&4294967295;P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[1]+3905402710&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[2]+606105819&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[3]+3250441966&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(Q^N&(j^Q))+M[4]+4118548399&4294967295,P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[5]+1200080426&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[6]+2821735955&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[7]+4249261313&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(Q^N&(j^Q))+M[8]+1770035416&4294967295,P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[9]+2336552879&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[10]+4294925233&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[11]+2304563134&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(Q^N&(j^Q))+M[12]+1804603682&4294967295,P=N+(V<<7&4294967295|V>>>25),V=Q+(j^P&(N^j))+M[13]+4254626195&4294967295,Q=P+(V<<12&4294967295|V>>>20),V=j+(N^Q&(P^N))+M[14]+2792965006&4294967295,j=Q+(V<<17&4294967295|V>>>15),V=N+(P^j&(Q^P))+M[15]+1236535329&4294967295,N=j+(V<<22&4294967295|V>>>10),V=P+(j^Q&(N^j))+M[1]+4129170786&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[6]+3225465664&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[11]+643717713&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[0]+3921069994&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^Q&(N^j))+M[5]+3593408605&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[10]+38016083&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[15]+3634488961&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[4]+3889429448&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^Q&(N^j))+M[9]+568446438&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[14]+3275163606&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[3]+4107603335&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[8]+1163531501&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(j^Q&(N^j))+M[13]+2850285829&4294967295,P=N+(V<<5&4294967295|V>>>27),V=Q+(N^j&(P^N))+M[2]+4243563512&4294967295,Q=P+(V<<9&4294967295|V>>>23),V=j+(P^N&(Q^P))+M[7]+1735328473&4294967295,j=Q+(V<<14&4294967295|V>>>18),V=N+(Q^P&(j^Q))+M[12]+2368359562&4294967295,N=j+(V<<20&4294967295|V>>>12),V=P+(N^j^Q)+M[5]+4294588738&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[8]+2272392833&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[11]+1839030562&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[14]+4259657740&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^Q)+M[1]+2763975236&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[4]+1272893353&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[7]+4139469664&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[10]+3200236656&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^Q)+M[13]+681279174&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[0]+3936430074&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[3]+3572445317&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[6]+76029189&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(N^j^Q)+M[9]+3654602809&4294967295,P=N+(V<<4&4294967295|V>>>28),V=Q+(P^N^j)+M[12]+3873151461&4294967295,Q=P+(V<<11&4294967295|V>>>21),V=j+(Q^P^N)+M[15]+530742520&4294967295,j=Q+(V<<16&4294967295|V>>>16),V=N+(j^Q^P)+M[2]+3299628645&4294967295,N=j+(V<<23&4294967295|V>>>9),V=P+(j^(N|~Q))+M[0]+4096336452&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[7]+1126891415&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[14]+2878612391&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[5]+4237533241&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~Q))+M[12]+1700485571&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[3]+2399980690&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[10]+4293915773&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[1]+2240044497&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~Q))+M[8]+1873313359&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[15]+4264355552&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[6]+2734768916&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[13]+1309151649&4294967295,N=j+(V<<21&4294967295|V>>>11),V=P+(j^(N|~Q))+M[4]+4149444226&4294967295,P=N+(V<<6&4294967295|V>>>26),V=Q+(N^(P|~j))+M[11]+3174756917&4294967295,Q=P+(V<<10&4294967295|V>>>22),V=j+(P^(Q|~N))+M[2]+718787259&4294967295,j=Q+(V<<15&4294967295|V>>>17),V=N+(Q^(j|~P))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+P&4294967295,b.g[1]=b.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+Q&4294967295}o.prototype.u=function(b,P){P===void 0&&(P=b.length);for(var N=P-this.blockSize,M=this.B,j=this.h,Q=0;Q<P;){if(j==0)for(;Q<=N;)s(this,b,Q),Q+=this.blockSize;if(typeof b=="string"){for(;Q<P;)if(M[j++]=b.charCodeAt(Q++),j==this.blockSize){s(this,M),j=0;break}}else for(;Q<P;)if(M[j++]=b[Q++],j==this.blockSize){s(this,M),j=0;break}}this.h=j,this.o+=P},o.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var P=1;P<b.length-8;++P)b[P]=0;var N=8*this.o;for(P=b.length-8;P<b.length;++P)b[P]=N&255,N/=256;for(this.u(b),b=Array(16),P=N=0;4>P;++P)for(var M=0;32>M;M+=8)b[N++]=this.g[P]>>>M&255;return b};function l(b,P){var N=f;return Object.prototype.hasOwnProperty.call(N,b)?N[b]:N[b]=P(b)}function c(b,P){this.h=P;for(var N=[],M=!0,j=b.length-1;0<=j;j--){var Q=b[j]|0;M&&Q==P||(N[j]=Q,M=!1)}this.g=N}var f={};function p(b){return-128<=b&&128>b?l(b,function(P){return new c([P|0],0>P?-1:0)}):new c([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return I;if(0>b)return D(m(-b));for(var P=[],N=1,M=0;b>=N;M++)P[M]=b/N|0,N*=4294967296;return new c(P,0)}function w(b,P){if(b.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b.charAt(0)=="-")return D(w(b.substring(1),P));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(P,8)),M=I,j=0;j<b.length;j+=8){var Q=Math.min(8,b.length-j),V=parseInt(b.substring(j,j+Q),P);8>Q?(Q=m(Math.pow(P,Q)),M=M.j(Q).add(m(V))):(M=M.j(N),M=M.add(m(V)))}return M}var I=p(0),R=p(1),x=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-D(this).m();for(var b=0,P=1,N=0;N<this.g.length;N++){var M=this.i(N);b+=(0<=M?M:4294967296+M)*P,P*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(O(this))return"-"+D(this).toString(b);for(var P=m(Math.pow(b,6)),N=this,M="";;){var j=pe(N,P).g;N=W(N,j.j(P));var Q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(b);if(N=j,C(N))return Q+M;for(;6>Q.length;)Q="0"+Q;M=Q+M}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var P=0;P<b.g.length;P++)if(b.g[P]!=0)return!1;return!0}function O(b){return b.h==-1}n.l=function(b){return b=W(this,b),O(b)?-1:C(b)?0:1};function D(b){for(var P=b.g.length,N=[],M=0;M<P;M++)N[M]=~b.g[M];return new c(N,~b.h).add(R)}n.abs=function(){return O(this)?D(this):this},n.add=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0,j=0;j<=P;j++){var Q=M+(this.i(j)&65535)+(b.i(j)&65535),V=(Q>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);M=V>>>16,Q&=65535,V&=65535,N[j]=V<<16|Q}return new c(N,N[N.length-1]&-2147483648?-1:0)};function W(b,P){return b.add(D(P))}n.j=function(b){if(C(this)||C(b))return I;if(O(this))return O(b)?D(this).j(D(b)):D(D(this).j(b));if(O(b))return D(this.j(D(b)));if(0>this.l(x)&&0>b.l(x))return m(this.m()*b.m());for(var P=this.g.length+b.g.length,N=[],M=0;M<2*P;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<b.g.length;j++){var Q=this.i(M)>>>16,V=this.i(M)&65535,ut=b.i(j)>>>16,Qe=b.i(j)&65535;N[2*M+2*j]+=V*Qe,Z(N,2*M+2*j),N[2*M+2*j+1]+=Q*Qe,Z(N,2*M+2*j+1),N[2*M+2*j+1]+=V*ut,Z(N,2*M+2*j+1),N[2*M+2*j+2]+=Q*ut,Z(N,2*M+2*j+2)}for(M=0;M<P;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=P;M<2*P;M++)N[M]=0;return new c(N,0)};function Z(b,P){for(;(b[P]&65535)!=b[P];)b[P+1]+=b[P]>>>16,b[P]&=65535,P++}function ie(b,P){this.g=b,this.h=P}function pe(b,P){if(C(P))throw Error("division by zero");if(C(b))return new ie(I,I);if(O(b))return P=pe(D(b),P),new ie(D(P.g),D(P.h));if(O(P))return P=pe(b,D(P)),new ie(D(P.g),P.h);if(30<b.g.length){if(O(b)||O(P))throw Error("slowDivide_ only works with positive integers.");for(var N=R,M=P;0>=M.l(b);)N=ce(N),M=ce(M);var j=z(N,1),Q=z(M,1);for(M=z(M,2),N=z(N,2);!C(M);){var V=Q.add(M);0>=V.l(b)&&(j=j.add(N),Q=V),M=z(M,1),N=z(N,1)}return P=W(b,j.j(P)),new ie(j,P)}for(j=I;0<=b.l(P);){for(N=Math.max(1,Math.floor(b.m()/P.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),Q=m(N),V=Q.j(P);O(V)||0<V.l(b);)N-=M,Q=m(N),V=Q.j(P);C(Q)&&(Q=R),j=j.add(Q),b=W(b,V)}return new ie(j,b)}n.A=function(b){return pe(this,b).h},n.and=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0;M<P;M++)N[M]=this.i(M)&b.i(M);return new c(N,this.h&b.h)},n.or=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0;M<P;M++)N[M]=this.i(M)|b.i(M);return new c(N,this.h|b.h)},n.xor=function(b){for(var P=Math.max(this.g.length,b.g.length),N=[],M=0;M<P;M++)N[M]=this.i(M)^b.i(M);return new c(N,this.h^b.h)};function ce(b){for(var P=b.g.length+1,N=[],M=0;M<P;M++)N[M]=b.i(M)<<1|b.i(M-1)>>>31;return new c(N,b.h)}function z(b,P){var N=P>>5;P%=32;for(var M=b.g.length-N,j=[],Q=0;Q<M;Q++)j[Q]=0<P?b.i(Q+N)>>>P|b.i(Q+N+1)<<32-P:b.i(Q+N);return new c(j,b.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,D0=o,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=w,oo=c}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L0,qa,V0,Wu,Gf,b0,O0,M0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,E){return u==Array.prototype||u==Object.prototype||(u[g]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bu=="object"&&bu];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var o=t(this);function s(u,g){if(g)e:{var E=o;u=u.split(".");for(var A=0;A<u.length-1;A++){var Y=u[A];if(!(Y in E))break e;E=E[Y]}u=u[u.length-1],A=E[u],g=g(A),g!=A&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var E=0,A=!1,Y={next:function(){if(!A&&E<u.length){var re=E++;return{value:g(re,u[re]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(u){return u||function(){return l(this,function(g,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function w(u,g,E){return u.call.apply(u.bind,arguments)}function I(u,g,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,A),u.apply(g,Y)}}return function(){return u.apply(g,arguments)}}function R(u,g,E){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,R.apply(null,arguments)}function x(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function C(u,g){function E(){}E.prototype=g.prototype,u.aa=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,Y,re){for(var ve=Array(arguments.length-2),At=2;At<arguments.length;At++)ve[At-2]=arguments[At];return g.prototype[Y].apply(A,ve)}}function O(u){const g=u.length;if(0<g){const E=Array(g);for(let A=0;A<g;A++)E[A]=u[A];return E}return[]}function D(u,g){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const Y=u.length||0,re=A.length||0;u.length=Y+re;for(let ve=0;ve<re;ve++)u[Y+ve]=A[ve]}else u.push(A)}}class W{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var ce=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function z(u,g,E){for(const A in u)g.call(E,u[A],A,u)}function b(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function P(u){const g={};for(const E in u)g[E]=u[E];return g}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let E,A;for(let Y=1;Y<arguments.length;Y++){A=arguments[Y];for(E in A)u[E]=A[E];for(let re=0;re<N.length;re++)E=N[re],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function j(u){var g=1;u=u.split(":");const E=[];for(;0<g&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function Q(u){f.setTimeout(()=>{throw u},0)}function V(){var u=Ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ut{constructor(){this.h=this.g=null}add(g,E){const A=Qe.get();A.set(g,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Qe=new W(()=>new Be,u=>u.reset());class Be{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,ge=!1,Ne=new ut,_e=()=>{const u=f.Promise.resolve(void 0);Ye=()=>{u.then($)}};var $=()=>{for(var u;u=V();){try{u.h.call(u.g)}catch(E){Q(E)}var g=Qe;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ge=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,g),f.removeEventListener("test",E,g)}catch{}return u}();function $e(u,g){if(Te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ce){e:{try{pe(g.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(g=null)}}else E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:qe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&$e.aa.h.call(this)}}C($e,Te);var qe={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function yt(u,g,E,A,Y){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!A,this.ha=Y,this.key=++Je,this.da=this.fa=!1}function tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tn(u){this.src=u,this.g={},this.h=0}tn.prototype.add=function(u,g,E,A,Y){var re=u.toString();u=this.g[re],u||(u=this.g[re]=[],this.h++);var ve=cn(u,g,A,Y);return-1<ve?(g=u[ve],E||(g.fa=!1)):(g=new yt(g,this.src,re,!!A,Y),g.fa=E,u.push(g)),g};function nr(u,g){var E=g.type;if(E in u.g){var A=u.g[E],Y=Array.prototype.indexOf.call(A,g,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(A,Y,1),re&&(tt(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function cn(u,g,E,A){for(var Y=0;Y<u.length;++Y){var re=u[Y];if(!re.da&&re.listener==g&&re.capture==!!E&&re.ha==A)return Y}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),br={};function si(u,g,E,A,Y){if(Array.isArray(g)){for(var re=0;re<g.length;re++)si(u,g[re],E,A,Y);return null}return E=nn(E),u&&u[rt]?u.K(g,E,m(A)?!!A.capture:!1,Y):rr(u,g,E,!1,A,Y)}function rr(u,g,E,A,Y,re){if(!g)throw Error("Invalid event type");var ve=m(Y)?!!Y.capture:!!Y,At=wn(u);if(At||(u[zt]=At=new tn(u)),E=At.add(g,E,A,ve,re),E.proxy)return E;if(A=Pi(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)Fe||(Y=ve),Y===void 0&&(Y=!1),u.addEventListener(g.toString(),A,Y);else if(u.attachEvent)u.attachEvent(_n(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Pi(){function u(E){return g.call(u.src,u.listener,E)}const g=Vt;return u}function Or(u,g,E,A,Y){if(Array.isArray(g))for(var re=0;re<g.length;re++)Or(u,g[re],E,A,Y);else A=m(A)?!!A.capture:!!A,E=nn(E),u&&u[rt]?(u=u.i,g=String(g).toString(),g in u.g&&(re=u.g[g],E=cn(re,E,A,Y),-1<E&&(tt(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete u.g[g],u.h--)))):u&&(u=wn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=cn(g,E,A,Y)),(E=-1<u?g[u]:null)&&On(E))}function On(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[rt])nr(g.i,u);else{var E=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(E,A,u.capture):g.detachEvent?g.detachEvent(_n(E),A):g.addListener&&g.removeListener&&g.removeListener(A),(E=wn(g))?(nr(E,u),E.h==0&&(E.src=null,g[zt]=null)):tt(u)}}}function _n(u){return u in br?br[u]:br[u]="on"+u}function Vt(u,g){if(u.da)u=!0;else{g=new $e(g,this);var E=u.listener,A=u.ha||u.src;u.fa&&On(u),u=E.call(A,g)}return u}function wn(u){return u=u[zt],u instanceof tn?u:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(u){return typeof u=="function"?u:(u[vr]||(u[vr]=function(g){return u.handleEvent(g)}),u[vr])}function wt(){se.call(this),this.i=new tn(this),this.M=this,this.F=null}C(wt,se),wt.prototype[rt]=!0,wt.prototype.removeEventListener=function(u,g,E,A){Or(this,u,g,E,A)};function S(u,g){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new Te(g,u);else if(g instanceof Te)g.target=g.target||u;else{var Y=g;g=new Te(A,u),M(g,Y)}if(Y=!0,E)for(var re=E.length-1;0<=re;re--){var ve=g.g=E[re];Y=v(ve,A,!0,g)&&Y}if(ve=g.g=u,Y=v(ve,A,!0,g)&&Y,Y=v(ve,A,!1,g)&&Y,E)for(re=0;re<E.length;re++)ve=g.g=E[re],Y=v(ve,A,!1,g)&&Y}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var E=u.g[g],A=0;A<E.length;A++)tt(E[A]);delete u.g[g],u.h--}}this.F=null},wt.prototype.K=function(u,g,E,A){return this.i.add(String(u),g,!1,E,A)},wt.prototype.L=function(u,g,E,A){return this.i.add(String(u),g,!0,E,A)};function v(u,g,E,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Y=!0,re=0;re<g.length;++re){var ve=g[re];if(ve&&!ve.da&&ve.capture==E){var At=ve.listener,Yt=ve.ha||ve.src;ve.fa&&nr(u.i,ve),Y=At.call(Yt,A)!==!1&&Y}}return Y&&!A.defaultPrevented}function _(u,g,E){if(typeof u=="function")E&&(u=R(u,E));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function k(u){u.g=_(()=>{u.g=null,u.i&&(u.i=!1,k(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class B extends se{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:k(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(u){se.call(this),this.h=u,this.g={}}C(te,se);var ae=[];function He(u){z(u.g,function(g,E){this.g.hasOwnProperty(E)&&On(g)},u),u.g={}}te.prototype.N=function(){te.aa.N.call(this),He(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=f.JSON.stringify,pt=f.JSON.parse,mt=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ze(){}Ze.prototype.h=null;function Mr(u){return u.h||(u.h=u.i())}function ki(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){Te.call(this,"d")}C(ir,Te);function ai(){Te.call(this,"c")}C(ai,Te);var Dn={},Fr=null;function li(){return Fr=Fr||new wt}Dn.La="serverreachability";function go(u){Te.call(this,Dn.La,u)}C(go,Te);function F(u){const g=li();S(g,new go(g))}Dn.STAT_EVENT="statevent";function G(u,g){Te.call(this,Dn.STAT_EVENT,u),this.stat=g}C(G,Te);function J(u){const g=li();S(g,new G(g,u))}Dn.Ma="timingevent";function he(u,g){Te.call(this,Dn.Ma,u),this.size=g}C(he,Te);function we(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function ke(){this.g=!0}ke.prototype.xa=function(){this.g=!1};function be(u,g,E,A,Y,re){u.info(function(){if(u.g)if(re)for(var ve="",At=re.split("&"),Yt=0;Yt<At.length;Yt++){var ht=At[Yt].split("=");if(1<ht.length){var rn=ht[0];ht=ht[1];var Wt=rn.split("_");ve=2<=Wt.length&&Wt[1]=="type"?ve+(rn+"="+ht+"&"):ve+(rn+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+A+") [attempt "+Y+"]: "+g+`
`+E+`
`+ve})}function Re(u,g,E,A,Y,re,ve){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Y+"]: "+g+`
`+E+`
`+re+" "+ve})}function Se(u,g,E,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+je(u,E)+(A?" "+A:"")})}function Ee(u,g){u.info(function(){return"TIMEOUT: "+g})}ke.prototype.info=function(){};function je(u,g){if(!u.g)return g;if(!g)return null;try{var E=JSON.parse(g);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var Y=A[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return Et(E)}catch{return g}}var We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},It;function _t(){}C(_t,Ze),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},It=new _t;function nt(u,g,E,A){this.j=u,this.i=g,this.l=E,this.R=A||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var or={},sr={};function En(u,g,E){u.L=1,u.v=bi(Qn(g)),u.m=E,u.P=!0,Tn(u,null)}function Tn(u,g){u.F=Date.now(),ct(u),u.A=Qn(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Mi(E.i,"t",A),u.C=0,E=u.j.J,u.h=new bt,u.g=Ol(u.j,E?g:null,!u.m),0<u.O&&(u.M=new B(R(u.Y,u,u.g),u.O)),g=u.U,E=u.g,A=u.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ae[0]=Y.toString()),Y=ae);for(var re=0;re<Y.length;re++){var ve=si(E,Y[re],A||g.handleEvent,!1,g.h||g);if(!ve)break;g.g[ve.key]=ve}g=u.H?P(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),F(),be(u.i,u.u,u.A,u.l,u.R,u.m)}nt.prototype.ca=function(u){u=u.target;const g=this.M;g&&Fn(u)==3?g.j():this.Y(u)},nt.prototype.Y=function(u){try{if(u==this.g)e:{const Wt=Fn(this.g);var g=this.g.Ba();const ur=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||Wt!=4||g==7||(g==8||0>=ur?F(3):F(2)),ar(this);var E=this.g.Z();this.X=E;t:if(Ni(this)){var A=ca(this.g);u="";var Y=A.length,re=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rt(this),ot(this);var ve="";break t}this.h.i=new f.TextDecoder}for(g=0;g<Y;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(re&&g==Y-1)});A.length=0,this.h.g+=u,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,Re(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Yt=this.g;if((At=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(At)){var ht=At;break t}}ht=null}if(E=ht)Se(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,E);else{this.o=!1,this.s=3,J(12),Rt(this),ot(this);break e}}if(this.P){E=!0;let Yn;for(;!this.J&&this.C<ve.length;)if(Yn=ui(this,ve),Yn==sr){Wt==4&&(this.s=4,J(14),E=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==or){this.s=4,J(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else Se(this.i,this.l,Yn,null),Ur(this,Yn);if(Ni(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ve.length!=0||this.h.h||(this.s=1,J(16),E=!1),this.o=this.o&&E,!E)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),Rt(this),ot(this);else if(0<ve.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),fa(rn),rn.M=!0,J(11))}}else Se(this.i,this.l,ve,null),Ur(this,ve);Wt==4&&Rt(this),this.o&&!this.J&&(Wt==4?us(this.j,this):(this.o=!1,ct(this)))}else is(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),Rt(this),ot(this)}}}catch{}finally{}};function Ni(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ui(u,g){var E=u.C,A=g.indexOf(`
`,E);return A==-1?sr:(E=Number(g.substring(E,A)),isNaN(E)?or:(A+=1,A+E>g.length?sr:(g=g.slice(A,A+E),u.C=A+E,g)))}nt.prototype.cancel=function(){this.J=!0,Rt(this)};function ct(u){u.S=Date.now()+u.I,ci(u,u.I)}function ci(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(R(u.ba,u),g)}function ar(u){u.B&&(f.clearTimeout(u.B),u.B=null)}nt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ee(this.i,this.A),this.L!=2&&(F(),J(17)),Rt(this),this.s=2,ot(this)):ci(this,this.S-u)};function ot(u){u.j.G==0||u.J||us(u.j,u)}function Rt(u){ar(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,He(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Ur(u,g){try{var E=u.j;if(E.G!=0&&(E.g==u||hn(E.h,u))){if(!u.K&&hn(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Y=A;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)ls(E),Sr(E);else break e;as(E),J(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=we(R(E.Za,E),6e3));if(1>=yo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else mi(E,11)}else if((u.K||E.g==u)&&ls(E),!Z(g))for(Y=E.Da.g.parse(g),g=0;g<Y.length;g++){let ht=Y[g];if(E.T=ht[0],ht=ht[1],E.G==2)if(ht[0]=="c"){E.K=ht[1],E.ia=ht[2];const rn=ht[3];rn!=null&&(E.la=rn,E.j.info("VER="+E.la));const Wt=ht[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const ur=ht[5];ur!=null&&typeof ur=="number"&&0<ur&&(A=1.5*ur,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Yn=u.g;if(Yn){const So=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var re=A.h;re.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(sa(re,re.h),re.h=null))}if(A.D){const hs=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;hs&&(A.ya=hs,Ct(A.I,A.D,hs))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ve=u;if(A.qa=bl(A,A.J?A.ia:null,A.W),ve.K){Sl(A.h,ve);var At=ve,Yt=A.L;Yt&&(At.I=Yt),At.B&&(ar(At),ct(At)),A.g=ve}else To(A);0<E.i.length&&Hr(E)}else ht[0]!="stop"&&ht[0]!="close"||mi(E,7);else E.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?mi(E,7):dn(E):ht[0]!="noop"&&E.l&&E.l.ta(ht),E.v=0)}}F(4)}catch{}}var Br=class{constructor(u,g){this.g=u,this.map=g}};function xt(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yo(u){return u.h?1:u.g?u.g.size:0}function hn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function sa(u,g){u.g?u.g.add(g):u.h=g}function Sl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}xt.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.D);return g}return O(u.i)}function Zo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],E=u.length,A=0;A<E;A++)g.push(u[A]);return g}g=[],E=0;for(A in u)g[E++]=u[A];return g}function es(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var E=0;E<u;E++)g.push(E);return g}g=[],E=0;for(const A in u)g[E++]=A;return g}}}function Di(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var E=es(u),A=Zo(u),Y=A.length,re=0;re<Y;re++)g.call(void 0,A[re],E&&E[re],u)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,g){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),Y=null;if(0<=A){var re=u[E].substring(0,A);Y=u[E].substring(A+1)}else re=u[E];g(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function hi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hi){this.h=u.h,_o(this,u.j),this.o=u.o,this.g=u.g,Li(this,u.s),this.l=u.l;var g=u.i,E=new jr;E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),Vi(this,E),this.m=u.m}else u&&(g=String(u).match(vo))?(this.h=!1,_o(this,g[1]||"",!0),this.o=st(g[2]||""),this.g=st(g[3]||"",!0),Li(this,g[4]),this.l=st(g[5]||"",!0),Vi(this,g[6]||"",!0),this.m=st(g[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}hi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Oi(g,ts,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Oi(g,ts,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Oi(E,E.charAt(0)=="/"?xl:Al,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Oi(E,aa)),u.join("")};function Qn(u){return new hi(u)}function _o(u,g,E){u.j=E?st(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Li(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Vi(u,g,E){g instanceof jr?(u.i=g,zr(u.i,u.h)):(E||(g=Oi(g,Cl)),u.i=new jr(g,u.h))}function Ct(u,g,E){u.i.set(g,E)}function bi(u){return Ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function st(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oi(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,Rl),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ts=/[#\/\?@]/g,Al=/[#\?:]/g,xl=/[#\?]/g,Cl=/[#\?@]/g,aa=/#/g;function jr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}n=jr.prototype,n.add=function(u,g){fn(this),this.i=null,u=lr(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function _r(u,g){fn(u),g=lr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wr(u,g){return fn(u),g=lr(u,g),u.g.has(g)}n.forEach=function(u,g){fn(this),this.g.forEach(function(E,A){E.forEach(function(Y){u.call(g,Y,A,this)},this)},this)},n.na=function(){fn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),E=[];for(let A=0;A<g.length;A++){const Y=u[A];for(let re=0;re<Y.length;re++)E.push(g[A])}return E},n.V=function(u){fn(this);let g=[];if(typeof u=="string")wr(this,u)&&(g=g.concat(this.g.get(lr(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)g=g.concat(u[E])}return g},n.set=function(u,g){return fn(this),this.i=null,u=lr(this,u),wr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Mi(u,g,E){_r(u,g),0<E.length&&(u.i=null,u.g.set(lr(u,g),O(E)),u.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var E=0;E<g.length;E++){var A=g[E];const re=encodeURIComponent(String(A)),ve=this.V(A);for(A=0;A<ve.length;A++){var Y=re;ve[A]!==""&&(Y+="="+encodeURIComponent(String(ve[A]))),u.push(Y)}}return this.i=u.join("&")};function lr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function zr(u,g){g&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(E,A){var Y=A.toLowerCase();A!=Y&&(_r(this,A),Mi(this,Y,E))},u)),u.j=g}function zc(u,g){const E=new ke;if(f.Image){const A=new Image;A.onload=x(Mn,E,"TestLoadImage: loaded",!0,g,A),A.onerror=x(Mn,E,"TestLoadImage: error",!1,g,A),A.onabort=x(Mn,E,"TestLoadImage: abort",!1,g,A),A.ontimeout=x(Mn,E,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Pl(u,g){const E=new ke,A=new AbortController,Y=setTimeout(()=>{A.abort(),Mn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(re=>{clearTimeout(Y),re.ok?Mn(E,"TestPingServer: ok",!0,g):Mn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Y),Mn(E,"TestPingServer: error",!1,g)})}function Mn(u,g,E,A,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),A(E)}catch{}}function $c(){this.g=new mt}function kl(u,g,E){const A=E||"";try{Di(u,function(Y,re){let ve=Y;m(Y)&&(ve=Et(Y)),g.push(A+re+"="+encodeURIComponent(ve))})}catch(Y){throw g.push(A+"type="+encodeURIComponent("_badmap")),Y}}function fi(u){this.l=u.Ub||null,this.j=u.eb||!1}C(fi,Ze),fi.prototype.g=function(){return new wo(this.l,this.j)},fi.prototype.i=function(u){return function(){return u}}({});function wo(u,g){wt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(wo,wt),n=wo.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Er(this):Tr(this),this.readyState==3&&Nl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Er(this))},n.Qa=function(u){this.g&&(this.response=u,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function di(u){let g="";return z(u,function(E,A){g+=A,g+=":",g+=E,g+=`\r
`}),g}function Fi(u,g,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=di(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Ct(u,g,E))}function Ot(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ot,wt);var Hc=/^https?$/i,la=["POST","PUT"];n=Ot.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():It.g(),this.v=this.o?Mr(this.o):Mr(It),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(re){Eo(this,re);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Y in A)E.set(Y,A[Y]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const re of A.keys())E.set(re,A.get(re));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Y=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(la,g,void 0))||A||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of E)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(u),this.u=!1}catch(re){Eo(this,re)}};function Eo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ns(u),Gn(u)}function ns(u){u.A||(u.A=!0,S(u,"complete"),S(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,S(this,"complete"),S(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Fn(u)!=4||u.Z()!=2)){if(u.u&&Fn(u)==4)_(u.Ea,0,u);else if(S(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const ve=u.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var A;if(A=ve===0){var Y=String(u.D).match(vo)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),A=!Hc.test(Y?Y.toLowerCase():"")}E=A}if(E)S(u,"complete"),S(u,"success");else{u.m=6;try{var re=2<Fn(u)?u.g.statusText:""}catch{re=""}u.l=re+" ["+u.Z()+"]",ns(u)}}finally{Gn(u)}}}}function Gn(u,g){if(u.g){rs(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||S(u,"ready");try{E.onreadystatechange=A}catch{}}}function rs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),pt(g)}};function ca(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function is(u){const g={};u=(u.g&&2<=Fn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Z(u[A]))continue;var E=j(u[A]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=g[Y]||[];g[Y]=re,re.push(E)}b(g,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function ha(u){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xt(u&&u.concurrentRequestLimit),this.Da=new $c,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(u,g,E,A){J(0),this.W=u,this.H=g||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=bl(this,null,this.W),Hr(this)};function dn(u){if(os(u),u.G==3){var g=u.U++,E=Qn(u.I);if(Ct(E,"SID",u.K),Ct(E,"RID",g),Ct(E,"TYPE","terminate"),pi(u,E),g=new nt(u,u.j,g),g.L=2,g.v=bi(Qn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=g.v,E=!0),E||(g.g=Ol(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ct(g)}Vl(u)}function Sr(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function os(u){Sr(u),u.u&&(f.clearTimeout(u.u),u.u=null),ls(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Hr(u){if(!qt(u.h)&&!u.s){u.s=!0;var g=u.Ga;Ye||_e(),ge||(Ye(),ge=!0),Ne.add(g,u),u.B=0}}function qc(u,g){return yo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(R(u.Ga,u,g),Ll(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Y=new nt(this,this.j,u);let re=this.o;if(this.S&&(re?(re=P(re),M(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Ui(this,Y,g),E=Qn(this.I),Ct(E,"RID",u),Ct(E,"CVER",22),this.D&&Ct(E,"X-HTTP-Session-Id",this.D),pi(this,E),re&&(this.O?g="headers="+encodeURIComponent(String(di(re)))+"&"+g:this.m&&Fi(E,this.m,re)),sa(this.h,Y),this.Ua&&Ct(E,"TYPE","init"),this.P?(Ct(E,"$req",g),Ct(E,"SID","null"),Y.T=!0,En(Y,E,null)):En(Y,E,g),this.G=2}}else this.G==3&&(u?ss(this,u):this.i.length==0||qt(this.h)||ss(this))};function ss(u,g){var E;g?E=g.l:E=u.U++;const A=Qn(u.I);Ct(A,"SID",u.K),Ct(A,"RID",E),Ct(A,"AID",u.T),pi(u,A),u.m&&u.o&&Fi(A,u.m,u.o),E=new nt(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Ui(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sa(u.h,E),En(E,A,g)}function pi(u,g){u.H&&z(u.H,function(E,A){Ct(g,A,E)}),u.l&&Di({},function(E,A){Ct(g,A,E)})}function Ui(u,g,E){E=Math.min(u.i.length,E);var A=u.l?R(u.l.Na,u.l,u):null;e:{var Y=u.i;let re=-1;for(;;){const ve=["count="+E];re==-1?0<E?(re=Y[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let At=!0;for(let Yt=0;Yt<E;Yt++){let ht=Y[Yt].g;const rn=Y[Yt].map;if(ht-=re,0>ht)re=Math.max(0,Y[Yt].g-100),At=!1;else try{kl(rn,ve,"req"+ht+"_")}catch{A&&A(rn)}}if(At){A=ve.join("&");break e}}}return u=u.i.splice(0,E),g.D=u,A}function To(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Ye||_e(),ge||(Ye(),ge=!0),Ne.add(g,u),u.v=0}}function as(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(R(u.Fa,u),Ll(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Dl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(R(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Sr(this),Dl(this))};function fa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Dl(u){u.g=new nt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Qn(u.qa);Ct(g,"RID","rpc"),Ct(g,"SID",u.K),Ct(g,"AID",u.T),Ct(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ct(g,"TO",u.ja),Ct(g,"TYPE","xmlhttp"),pi(u,g),u.m&&u.o&&Fi(g,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=bi(Qn(g)),E.m=null,E.P=!0,Tn(E,u)}n.Za=function(){this.C!=null&&(this.C=null,Sr(this),as(this),J(19))};function ls(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function us(u,g){var E=null;if(u.g==g){ls(u),fa(u),u.g=null;var A=2}else if(hn(u.h,g))E=g.D,Sl(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){E=g.m?g.m.length:0,g=Date.now()-g.F;var Y=u.B;A=li(),S(A,new he(A,E)),Hr(u)}else To(u);else if(Y=g.s,Y==3||Y==0&&0<g.X||!(A==1&&qc(u,g)||A==2&&as(u)))switch(E&&0<E.length&&(g=u.h,g.i=g.i.concat(E)),Y){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Ll(u,g){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*g}function mi(u,g){if(u.j.info("Error code "+g),g==2){var E=R(u.fb,u),A=u.Xa;const Y=!A;A=new hi(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||_o(A,"https"),bi(A),Y?zc(A.toString(),E):Pl(A.toString(),E)}else J(2);u.G=0,u.l&&u.l.sa(g),Vl(u),os(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Vl(u){if(u.G=0,u.ka=[],u.l){const g=Il(u.h);(g.length!=0||u.i.length!=0)&&(D(u.ka,g),D(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function bl(u,g,E){var A=E instanceof hi?Qn(E):new hi(E);if(A.g!="")g&&(A.g=g+"."+A.g),Li(A,A.s);else{var Y=f.location;A=Y.protocol,g=g?g+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new hi(null);A&&_o(re,A),g&&(re.g=g),Y&&Li(re,Y),E&&(re.l=E),A=re}return E=u.D,g=u.ya,E&&g&&Ct(A,E,g),Ct(A,"VER",u.la),pi(u,A),A}function Ol(u,g,E){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ot(new fi({eb:E})):new Ot(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function da(){}n=da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cs(){}cs.prototype.g=function(u,g){return new Ln(u,g)};function Ln(u,g){wt.call(this),this.g=new ha(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new qr(this)}C(Ln,wt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){dn(this.g)},Ln.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Et(u),u=E);g.i.push(new Br(g.Ya++,u)),g.G==3&&Hr(g)},Ln.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Ln.aa.N.call(this)};function Ml(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}C(Ml,ir);function Fl(){ai.call(this),this.status=1}C(Fl,ai);function qr(u){this.g=u}C(qr,da),qr.prototype.ua=function(){S(this.g,"a")},qr.prototype.ta=function(u){S(this.g,new Ml(u))},qr.prototype.sa=function(u){S(this.g,new Fl)},qr.prototype.ra=function(){S(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,M0=function(){return new cs},O0=function(){return li()},b0=Dn,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Wu=We,St.COMPLETE="complete",V0=St,ki.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,qa=ki,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,L0=Ot}).apply(typeof bu<"u"?bu:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore",Py="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new A0("@firebase/firestore");function Ls(){return $o.logLevel}function Ae(n,...e){if($o.logLevel<=dt.DEBUG){const t=e.map(Pd);$o.debug(`Firestore (${ea}): ${n}`,...t)}}function Ai(n,...e){if($o.logLevel<=dt.ERROR){const t=e.map(Pd);$o.error(`Firestore (${ea}): ${n}`,...t)}}function js(n,...e){if($o.logLevel<=dt.WARN){const t=e.map(Pd);$o.warn(`Firestore (${ea}): ${n}`,...t)}}function Pd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function Tt(n,e){n||Ue()}function Ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Zs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cn.UNAUTHENTICATED))}shutdown(){}}class vA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _A{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Tt(this.o===void 0);let o=this.i;const s=p=>this.i!==o?(o=this.i,t(p)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tt(typeof o.accessToken=="string"),new F0(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new Cn(e)}}class wA{constructor(e,t,o){this.l=e,this.h=t,this.P=o,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EA{constructor(e,t,o){this.l=e,this.h=t,this.P=o}getToken(){return Promise.resolve(new wA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,eA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Tt(this.o===void 0);const o=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ky(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt(typeof t.token=="string"),this.R=t.token,new ky(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<n;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const s=SA(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<t&&(o+=e.charAt(s[l]%62))}return o}}function at(n,e){return n<e?-1:n>e?1:0}function zs(n,e,t){return n.length===e.length&&n.every((o,s)=>t(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,Dy=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor((e-1e3*t)*Dy);return new Zt(t,o)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ny)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Zt(0,0))}static max(){return new Ke(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="__name__";class Xr{constructor(e,t,o){t===void 0?t=0:t>e.length&&Ue(),o===void 0?o=e.length-t:o>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let s=0;s<o;s++){const l=Xr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const o=Xr.isNumericId(e),s=Xr.isNumericId(t);return o&&!s?-1:!o&&s?1:o&&s?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class Lt extends Xr{construct(e,t,o){return new Lt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(s=>s.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const IA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Xr{construct(e,t,o){return new yn(e,t,o)}static isValidIdentifier(e){return IA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ly}static keyField(){return new yn([Ly])}static fromServerFormat(e){const t=[];let o="",s=0;const l=()=>{if(o.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=p,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(l(),s++)}if(l(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Lt.fromString(e))}static fromName(e){return new Ve(Lt.fromString(e).popFirst(5))}static empty(){return new Ve(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=-1;function RA(n,e){const t=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(o===1e9?new Zt(t+1,0):new Zt(t,o));return new lo(s,Ve.empty(),e)}function AA(n){return new lo(n.readTime,n.key,il)}class lo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new lo(Ke.min(),Ve.empty(),il)}static max(){return new lo(Ke.max(),Ve.empty(),il)}}function xA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==CA)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,o)=>{t(e)})}static reject(e){return new ue((t,o)=>{o(e)})}static waitFor(e){return new ue((t,o)=>{let s=0,l=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++l,c&&l===s&&t()},p=>o(p))}),c=!0,l===s&&t()})}static or(e){let t=ue.resolve(!1);for(const o of e)t=t.next(s=>s?ue.resolve(s):o());return t}static forEach(e,t){const o=[];return e.forEach((s,l)=>{o.push(t.call(this,s,l))}),this.waitFor(o)}static mapArray(e,t){return new ue((o,s)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(w=>{c[m]=w,++f,f===l&&o(c)},w=>s(w))}})}static doWhile(e,t){return new ue((o,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):o()};l()})}}function kA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function na(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.oe(o),this._e=o=>t.writeSequenceNumber(o))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function Pc(n){return n==null}function ac(n){return n===0&&1/n==-1/0}function NA(n){return typeof n=="number"&&Number.isInteger(n)&&!ac(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="";function DA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vy(e)),e=LA(n.get(t),e);return Vy(e)}function LA(n,e){let t=e;const o=n.length;for(let s=0;s<o;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case B0:t+="";break;default:t+=l}}return t}function Vy(n){return n+B0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(o===0)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,t,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,o,s,l){this.key=e,this.value=t,this.color=o??gn.RED,this.left=s??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,s,l){return new gn(e??this.key,t??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,o),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return gn.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,o,s,l){return this}insert(e,t,o){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let o;for(o=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oy(this.data.getIterator())}getIteratorFrom(e){return new Oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class Oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new en(yn.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new z0("Invalid base64 string: "+l):l}}(e);return new vn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let s=0;s<t.length;s++)o[s]=t.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const VA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(n){if(Tt(!!n),typeof n=="string"){let e=0;const t=VA.exec(n);if(Tt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function co(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="server_timestamp",H0="__type__",q0="__previous_value__",W0="__local_write_time__";function Nd(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[H0])===null||t===void 0?void 0:t.stringValue)===$0}function kc(n){const e=n.mapValue.fields[q0];return Nd(e)?kc(e):e}function ol(n){const e=uo(n.mapValue.fields[W0].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t,o,s,l,c,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const lc="(default)";class sl{constructor(e,t){this.projectId=e,this.database=t||lc}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===lc}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="__type__",OA="__max__",Mu={mapValue:{}},Q0="__vector__",uc="value";function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nd(n)?4:FA(n)?9007199254740991:MA(n)?10:11:Ue()}function ri(n,e){if(n===e)return!0;const t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=uo(s.timestampValue),f=uo(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return co(s.bytesValue).isEqual(co(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Ht(s.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ht(s.integerValue)===Ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ht(s.doubleValue),f=Ht(l.doubleValue);return c===f?ac(c)===ac(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return zs(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},f=l.mapValue.fields||{};if(by(c)!==by(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ri(c[p],f[p])))return!1;return!0}(n,e);default:return Ue()}}function al(n,e){return(n.values||[]).find(t=>ri(t,e))!==void 0}function $s(n,e){if(n===e)return 0;const t=ho(n),o=ho(e);if(t!==o)return at(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Ht(l.integerValue||l.doubleValue),p=Ht(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return My(n.timestampValue,e.timestampValue);case 4:return My(ol(n),ol(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(l,c){const f=co(l),p=co(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const w=at(f[m],p[m]);if(w!==0)return w}return at(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=at(Ht(l.latitude),Ht(c.latitude));return f!==0?f:at(Ht(l.longitude),Ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Fy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,m,w;const I=l.fields||{},R=c.fields||{},x=(f=I[uc])===null||f===void 0?void 0:f.arrayValue,C=(p=R[uc])===null||p===void 0?void 0:p.arrayValue,O=at(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((w=C==null?void 0:C.values)===null||w===void 0?void 0:w.length)||0);return O!==0?O:Fy(x,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Mu.mapValue&&c===Mu.mapValue)return 0;if(l===Mu.mapValue)return 1;if(c===Mu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},w=Object.keys(m);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const R=at(p[I],w[I]);if(R!==0)return R;const x=$s(f[p[I]],m[w[I]]);if(x!==0)return x}return at(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function My(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=uo(n),o=uo(e),s=at(t.seconds,o.seconds);return s!==0?s:at(t.nanos,o.nanos)}function Fy(n,e){const t=n.values||[],o=e.values||[];for(let s=0;s<t.length&&s<o.length;++s){const l=$s(t[s],o[s]);if(l)return l}return at(t.length,o.length)}function Hs(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const o=uo(t);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return co(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let o="[",s=!0;for(const l of t.values||[])s?s=!1:o+=",",o+=Yf(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(t){const o=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of o)l?l=!1:s+=",",s+=`${c}:${Yf(t.fields[c])}`;return s+"}"}(n.mapValue):Ue()}function Ku(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(n);return e?16+Ku(e):16;case 5:return 2*n.stringValue.length;case 6:return co(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+Ku(l),0)}(n.arrayValue);case 10:case 11:return function(o){let s=0;return Ko(o.fields,(l,c)=>{s+=l.length+Ku(c)}),s}(n.mapValue);default:throw Ue()}}function Uy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xf(n){return!!n&&"integerValue"in n}function Dd(n){return!!n&&"arrayValue"in n}function By(n){return!!n&&"nullValue"in n}function jy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qu(n){return!!n&&"mapValue"in n}function MA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[K0])===null||t===void 0?void 0:t.stringValue)===Q0}function Ga(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ko(n.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Ga(o)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ga(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(t)}setAll(e){let t=yn.emptyPath(),o={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,o,s),o={},s=[],t=f.popLast()}c?o[f.lastSegment()]=Ga(c):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,s)}delete(e){const t=this.field(e.popLast());Qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=t.mapValue.fields[e.get(o)];Qu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,o){Ko(t,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new yr(Ga(this.value))}}function G0(n){const e=[];return Ko(n.fields,(t,o)=>{const s=new yn([t]);if(Qu(o)){const l=G0(o.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,o,s,l,c,f){this.key=e,this.documentType=t,this.version=o,this.readTime=s,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Pn(e,0,Ke.min(),Ke.min(),Ke.min(),yr.empty(),0)}static newFoundDocument(e,t,o,s){return new Pn(e,1,t,Ke.min(),o,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,Ke.min(),Ke.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Ke.min(),Ke.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this.position=e,this.inclusive=t}}function zy(n,e,t){let o=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?o=Ve.comparator(Ve.fromName(c.referenceValue),t.key):o=$s(c,t.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function $y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function UA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{}class Gt extends Y0{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,o):new jA(e,t,o):t==="array-contains"?new HA(e,o):t==="in"?new qA(e,o):t==="not-in"?new WA(e,o):t==="array-contains-any"?new KA(e,o):new Gt(e,t,o)}static createKeyFieldInFilter(e,t,o){return t==="in"?new zA(e,o):new $A(e,o)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($s(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison($s(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends Y0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Lr(e,t)}matches(e){return X0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function X0(n){return n.op==="and"}function J0(n){return BA(n)&&X0(n)}function BA(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function Jf(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+Hs(n.value);if(J0(n))return n.filters.map(e=>Jf(e)).join(",");{const e=n.filters.map(t=>Jf(t)).join(",");return`${n.op}(${e})`}}function Z0(n,e){return n instanceof Gt?function(o,s){return s instanceof Gt&&o.op===s.op&&o.field.isEqual(s.field)&&ri(o.value,s.value)}(n,e):n instanceof Lr?function(o,s){return s instanceof Lr&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,c,f)=>l&&Z0(c,s.filters[f]),!0):!1}(n,e):void Ue()}function e_(n){return n instanceof Gt?function(t){return`${t.field.canonicalString()} ${t.op} ${Hs(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(e_).join(" ,")+"}"}(n):"Filter"}class jA extends Gt{constructor(e,t,o){super(e,t,o),this.key=Ve.fromName(o.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class zA extends Gt{constructor(e,t){super(e,"in",t),this.keys=t_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $A extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=t_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function t_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(o=>Ve.fromName(o.referenceValue))}class HA extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dd(t)&&al(t.arrayValue,this.value)}}class qA extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&al(this.value.arrayValue,t)}}class WA extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!al(this.value.arrayValue,t)}}class KA extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>al(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t=null,o=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function Hy(n,e=null,t=[],o=[],s=null,l=null,c=null){return new QA(n,e,t,o,s,l,c)}function Ld(n){const e=Ge(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Jf(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),Pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Hs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Hs(o)).join(",")),e.le=t}return e.le}function Vd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$y(n.startAt,e.startAt)&&$y(n.endAt,e.endAt)}function Zf(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t=null,o=[],s=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function GA(n,e,t,o,s,l,c,f){return new ra(n,e,t,o,s,l,c,f)}function bd(n){return new ra(n)}function qy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function n_(n){return n.collectionGroup!==null}function Ya(n){const e=Ge(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new en(yn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new ll(l,o))}),t.has(yn.keyField().canonicalString())||e.he.push(new ll(yn.keyField(),o))}return e.he}function Zr(n){const e=Ge(n);return e.Pe||(e.Pe=YA(e,Ya(n))),e.Pe}function YA(n,e){if(n.limitType==="F")return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new ll(s.field,l)});const t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,t,o)}}function ed(n,e){const t=n.filters.concat([e]);return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function td(n,e,t){return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nc(n,e){return Vd(Zr(n),Zr(e))&&n.limitType===e.limitType}function r_(n){return`${Ld(Zr(n))}|lt:${n.limitType}`}function Vs(n){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(s=>e_(s)).join(", ")}]`),Pc(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>Hs(s)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>Hs(s)).join(",")),`Target(${o})`}(Zr(n))}; limitType=${n.limitType})`}function Dc(n,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Ve.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(n,e)&&function(o,s){for(const l of Ya(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(o,s){return!(o.startAt&&!function(c,f,p){const m=zy(c,f,p);return c.inclusive?m<=0:m<0}(o.startAt,Ya(o),s)||o.endAt&&!function(c,f,p){const m=zy(c,f,p);return c.inclusive?m>=0:m>0}(o.endAt,Ya(o),s))}(n,e)}function XA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i_(n){return(e,t)=>{let o=!1;for(const s of Ya(n)){const l=JA(s,e,t);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function JA(n,e,t){const o=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?$s(p,m):Ue()}(n.field,e,t);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[t]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(t,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return j0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Bt(Ve.comparator);function xi(){return ZA}const o_=new Bt(Ve.comparator);function Wa(...n){let e=o_;for(const t of n)e=e.insert(t.key,t);return e}function s_(n){let e=o_;return n.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Bo(){return Xa()}function a_(){return Xa()}function Xa(){return new Qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const ex=new Bt(Ve.comparator),tx=new en(Ve.comparator);function it(...n){let e=tx;for(const t of n)e=e.add(t);return e}const nx=new en(at);function rx(){return nx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function l_(n){return{integerValue:""+n}}function ix(n,e){return NA(e)?l_(e):Od(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function ox(n,e,t){return n instanceof hc?function(s,l){const c={fields:{[H0]:{stringValue:$0},[W0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Nd(l)&&(l=kc(l)),l&&(c.fields[q0]=l),{mapValue:c}}(t,e):n instanceof ul?c_(n,e):n instanceof cl?h_(n,e):function(s,l){const c=u_(s,l),f=Wy(c)+Wy(s.Ie);return Xf(c)&&Xf(s.Ie)?l_(f):Od(s.serializer,f)}(n,e)}function sx(n,e,t){return n instanceof ul?c_(n,e):n instanceof cl?h_(n,e):t}function u_(n,e){return n instanceof fc?function(o){return Xf(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class hc extends Lc{}class ul extends Lc{constructor(e){super(),this.elements=e}}function c_(n,e){const t=f_(e);for(const o of n.elements)t.some(s=>ri(s,o))||t.push(o);return{arrayValue:{values:t}}}class cl extends Lc{constructor(e){super(),this.elements=e}}function h_(n,e){let t=f_(e);for(const o of n.elements)t=t.filter(s=>!ri(s,o));return{arrayValue:{values:t}}}class fc extends Lc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Wy(n){return Ht(n.integerValue||n.doubleValue)}function f_(n){return Dd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ax(n,e){return n.field.isEqual(e.field)&&function(o,s){return o instanceof ul&&s instanceof ul||o instanceof cl&&s instanceof cl?zs(o.elements,s.elements,ri):o instanceof fc&&s instanceof fc?ri(o.Ie,s.Ie):o instanceof hc&&s instanceof hc}(n.transform,e.transform)}class lx{constructor(e,t){this.version=e,this.transformResults=t}}class ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vc{}function d_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Md(n.key,ei.none()):new yl(n.key,n.data,ei.none());{const t=n.data,o=yr.empty();let s=new en(yn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?o.delete(l):o.set(l,c),s=s.add(l)}return new Go(n.key,o,new Nr(s.toArray()),ei.none())}}function ux(n,e,t){n instanceof yl?function(s,l,c){const f=s.value.clone(),p=Qy(s.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Go?function(s,l,c){if(!Gu(s.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Qy(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(p_(s)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ja(n,e,t,o){return n instanceof yl?function(l,c,f,p){if(!Gu(l.precondition,c))return f;const m=l.value.clone(),w=Gy(l.fieldTransforms,p,c);return m.setAll(w),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,o):n instanceof Go?function(l,c,f,p){if(!Gu(l.precondition,c))return f;const m=Gy(l.fieldTransforms,p,c),w=c.data;return w.setAll(p_(l)),w.setAll(m),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,o):function(l,c,f){return Gu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function cx(n,e){let t=null;for(const o of n.fieldTransforms){const s=e.data.field(o.field),l=u_(o.transform,s||null);l!=null&&(t===null&&(t=yr.empty()),t.set(o.field,l))}return t||null}function Ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&zs(o,s,(l,c)=>ax(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yl extends Vc{constructor(e,t,o,s=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Go extends Vc{constructor(e,t,o,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function p_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=n.data.field(t);e.set(t,o)}}),e}function Qy(n,e,t){const o=new Map;Tt(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,f=e.data.field(l.field);o.set(l.field,sx(c,f,t[s]))}return o}function Gy(n,e,t){const o=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);o.set(s.field,ox(l,c,e))}return o}class Md extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&ux(l,e,o[s])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ja(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ja(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=a_();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(s.key)?null:f;const p=d_(c,f);p!==null&&o.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Ke.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(t,o)=>Ky(t,o))&&zs(this.baseMutations,e.baseMutations,(t,o)=>Ky(t,o))}}class Fd{constructor(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}static from(e,t,o){Tt(e.mutations.length===o.length);let s=function(){return ex}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,o[c].version);return new Fd(e,t,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ft;function mx(n){switch(n){case le.OK:return Ue();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ue()}}function m_(n){if(n===void 0)return Ai("GRPC error has no .code"),le.UNKNOWN;switch(n){case Qt.OK:return le.OK;case Qt.CANCELLED:return le.CANCELLED;case Qt.UNKNOWN:return le.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return le.INTERNAL;case Qt.UNAVAILABLE:return le.UNAVAILABLE;case Qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Qt.NOT_FOUND:return le.NOT_FOUND;case Qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Qt.ABORTED:return le.ABORTED;case Qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Qt.DATA_LOSS:return le.DATA_LOSS;default:return Ue()}}(ft=Qt||(Qt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new oo([4294967295,4294967295],0);function Yy(n){const e=gx().encode(n),t=new D0;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new oo([t,o],0),new oo([s,l],0)]}class Ud{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Ka(`Invalid padding: ${t}`);if(o<0)throw new Ka(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${o}`);if(e.length===0&&t!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=oo.fromNumber(this.Ee)}Ae(e,t,o){let s=e.add(t.multiply(oo.fromNumber(o)));return s.compare(yx)===1&&(s=new oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Yy(e),[o,s]=Xy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(o,s,l);if(!this.Re(c))return!1}return!0}static create(e,t,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ud(l,s,t);return o.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const t=Yy(e),[o,s]=Xy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(o,s,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),o=e%8;this.bitmap[t]|=1<<o}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,o,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const s=new Map;return s.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new bc(Ke.min(),s,new Bt(at),xi(),it())}}class vl{constructor(e,t,o,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new vl(o,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t,o,s){this.me=e,this.removedTargetIds=t,this.key=o,this.fe=s}}class g_{constructor(e,t){this.targetId=e,this.ge=t}}class y_{constructor(e,t,o=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=s}}class Jy{constructor(){this.pe=0,this.ye=Zy(),this.we=vn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=it(),t=it(),o=it();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:Ue()}}),new vl(this.we,this.Se,e,t,o)}Me(){this.be=!1,this.ye=Zy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Tt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class vx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=Fu(),this.Ke=Fu(),this.Ue=new Bt(at)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const o=this.He(t);switch(e.state){case 0:this.Je(t)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(t);break;case 3:this.Je(t)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),o.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((o,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,o=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(Zf(l))if(o===0){const c=new Ve(l.path);this.ze(t,c,Pn.newNoDocument(c,Ke.min()))}else Tt(o===1);else{const c=this.et(t);if(c!==o){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=t;let c,f;try{c=co(o).toUint8Array()}catch(p){if(p instanceof z0)return js("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ud(c,s,l)}catch(p){return js(p instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,o){return t.ge.count===o-this.st(e,t.targetId)?0:2}st(e,t){const o=this.ke.getRemoteKeysForTarget(t);let s=0;return o.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&Zf(f.target)){const p=new Ve(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Pn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let o=it();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const s=new bc(e,t,this.Ue,this.Qe,o);return this.Qe=xi(),this.$e=Fu(),this.Ke=Fu(),this.Ue=new Bt(at),s}Ge(e,t){if(!this.Je(e))return;const o=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,o),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,o){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),o&&(this.Qe=this.Qe.insert(t,o))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Jy,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new en(at),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new en(at),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Jy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Fu(){return new Bt(Ve.comparator)}function Zy(){return new Bt(Ve.comparator)}const _x={asc:"ASCENDING",desc:"DESCENDING"},wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ex={and:"AND",or:"OR"};class Tx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nd(n,e){return n.useProto3Json||Pc(e)?e:{value:e}}function dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Sx(n,e){return dc(n,e.toTimestamp())}function ti(n){return Tt(!!n),Ke.fromTimestamp(function(t){const o=uo(t);return new Zt(o.seconds,o.nanos)}(n))}function Bd(n,e){return rd(n,e).canonicalString()}function rd(n,e){const t=function(s){return new Lt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function __(n){const e=Lt.fromString(n);return Tt(I_(e)),e}function id(n,e){return Bd(n.databaseId,e.path)}function kf(n,e){const t=__(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(E_(t))}function w_(n,e){return Bd(n.databaseId,e)}function Ix(n){const e=__(n);return e.length===4?Lt.emptyPath():E_(e)}function od(n){return new Lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E_(n){return Tt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ev(n,e,t){return{name:id(n,e),fields:t.value.mapValue.fields}}function Rx(n,e){let t;if("targetChange"in e){e.targetChange;const o=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(m,w){return m.useProto3Json?(Tt(w===void 0||typeof w=="string"),vn.fromBase64String(w||"")):(Tt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),vn.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const w=m.code===void 0?le.UNKNOWN:m_(m.code);return new xe(w,m.message||"")}(c);t=new y_(o,s,l,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=kf(n,o.document.name),l=ti(o.document.updateTime),c=o.document.createTime?ti(o.document.createTime):Ke.min(),f=new yr({mapValue:{fields:o.document.fields}}),p=Pn.newFoundDocument(s,l,c,f),m=o.targetIds||[],w=o.removedTargetIds||[];t=new Yu(m,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=kf(n,o.document),l=o.readTime?ti(o.readTime):Ke.min(),c=Pn.newNoDocument(s,l),f=o.removedTargetIds||[];t=new Yu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=kf(n,o.document),l=o.removedTargetIds||[];t=new Yu([],l,s,null)}else{if(!("filter"in e))return Ue();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,c=new px(s,l),f=o.targetId;t=new g_(f,c)}}return t}function Ax(n,e){let t;if(e instanceof yl)t={update:ev(n,e.key,e.value)};else if(e instanceof Md)t={delete:id(n,e.key)};else if(e instanceof Go)t={update:ev(n,e.key,e.data),updateMask:bx(e.fieldMask)};else{if(!(e instanceof hx))return Ue();t={verify:id(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,c){const f=c.transform;if(f instanceof hc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ul)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fc)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ue()}(0,o))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:Sx(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue()}(n,e.precondition)),t}function xx(n,e){return n&&n.length>0?(Tt(e!==void 0),n.map(t=>function(s,l){let c=s.updateTime?ti(s.updateTime):ti(l);return c.isEqual(Ke.min())&&(c=ti(l)),new lx(c,s.transformResults||[])}(t,e))):[]}function Cx(n,e){return{documents:[w_(n,e.path)]}}function Px(n,e){const t={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),t.structuredQuery.from=[{collectionId:o.lastSegment()}]),t.parent=w_(n,s);const l=function(m){if(m.length!==0)return S_(Lr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(w=>function(R){return{field:bs(R.field),direction:Dx(R.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=nd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:s}}function kx(n){let e=Ix(n.parent);const t=n.structuredQuery,o=t.from?t.from.length:0;let s=null;if(o>0){Tt(o===1);const w=t.from[0];w.allDescendants?s=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(I){const R=T_(I);return R instanceof Lr&&J0(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=function(I){return I.map(R=>function(C){return new ll(Os(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(R))}(t.orderBy));let f=null;t.limit&&(f=function(I){let R;return R=typeof I=="object"?I.value:I,Pc(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(I){const R=!!I.before,x=I.values||[];return new cc(x,R)}(t.startAt));let m=null;return t.endAt&&(m=function(I){const R=!I.before,x=I.values||[];return new cc(x,R)}(t.endAt)),GA(e,s,c,l,f,"F",p,m)}function Nx(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=Os(t.unaryFilter.field);return Gt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Os(t.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Os(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Os(t.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Gt.create(Os(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(o=>T_(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function Dx(n){return _x[n]}function Lx(n){return wx[n]}function Vx(n){return Ex[n]}function bs(n){return{fieldPath:n.canonicalString()}}function Os(n){return yn.fromServerFormat(n.fieldPath)}function S_(n){return n instanceof Gt?function(t){if(t.op==="=="){if(jy(t.value))return{unaryFilter:{field:bs(t.field),op:"IS_NAN"}};if(By(t.value))return{unaryFilter:{field:bs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jy(t.value))return{unaryFilter:{field:bs(t.field),op:"IS_NOT_NAN"}};if(By(t.value))return{unaryFilter:{field:bs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(t.field),op:Lx(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const o=t.getFilters().map(s=>S_(s));return o.length===1?o[0]:{compositeFilter:{op:Vx(t.op),filters:o}}}(n):Ue()}function bx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,o,s,l=Ke.min(),c=Ke.min(),f=vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.Tt=e}}function Mx(n){const e=kx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.Tn=new Ux}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(lo.min())}updateCollectionGroup(e,t,o){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Ux{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new en(Lt.comparator),l=!s.has(o);return this.index[t]=s.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)}getEntries(e){return(this.index[e]||new en(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R_=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(R_,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new qs(0)}static Un(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",Bx=1048576;function rv([n,e],[t,o]){const s=at(n,t);return s===0?at(e,o):s}class jx{constructor(e){this.Hn=e,this.buffer=new en(rv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();rv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zx{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(nv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){na(t)?Ae(nv,"Ignoring IndexedDB error during garbage collection: ",t):await ta(t)}await this.er(3e5)})}}class $x{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Cc.ae);const o=new jx(t);return this.tr.forEachTarget(e,s=>o.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>o.Zn(s))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.tr.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(tv)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let o,s,l,c,f,p,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),s=this.params.maximumSequenceNumbersToCollect):s=I,c=Date.now(),this.nthSequenceNumber(e,s))).next(I=>(o=I,f=Date.now(),this.removeTargets(e,o,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,o))).next(I=>(m=Date.now(),Ls()<=dt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(m-p)+`ms
Total Duration: ${m-w}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:I})))}}function Hx(n,e){return new $x(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return o!==void 0?ue.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,t,o,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(o!==null&&Ja(o.mutation,s,Nr.empty(),Zt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,it()).next(()=>o))}getLocalViewOfDocuments(e,t,o=it()){const s=Bo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,o).next(l=>{let c=Wa();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const o=Bo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,it()))}populateOverlays(e,t,o){const s=[];return o.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,o,s){let l=xi();const c=Xa(),f=function(){return Xa()}();return t.forEach((p,m)=>{const w=o.get(m.key);s.has(m.key)&&(w===void 0||w.mutation instanceof Go)?l=l.insert(m.key,m):w!==void 0?(c.set(m.key,w.mutation.getFieldMask()),Ja(w.mutation,m,w.mutation.getFieldMask(),Zt.now())):c.set(m.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,w)=>c.set(m,w)),t.forEach((m,w)=>{var I;return f.set(m,new Wx(w,(I=c.get(m))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const o=Xa();let s=new Bt((c,f)=>c-f),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let w=o.get(p)||Nr.empty();w=f.applyToLocalView(m,w),o.set(p,w);const I=(s.get(f.batchId)||it()).add(p);s=s.insert(f.batchId,I)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,w=p.value,I=a_();w.forEach(R=>{if(!l.has(R)){const x=d_(t.get(R),o.get(R));x!==null&&I.set(R,x),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,I))}return ue.waitFor(c)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o,s){return function(c){return Ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o,s):this.getDocumentsMatchingCollectionQuery(e,t,o,s)}getNextDocuments(e,t,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,s-l.size):ue.resolve(Bo());let f=il,p=l;return c.next(m=>ue.forEach(m,(w,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(w)?ue.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{p=p.insert(w,R)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,it())).next(w=>({batchId:f,changes:s_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(o=>{let s=Wa();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,o,s){const l=t.collectionGroup;let c=Wa();return this.indexManager.getCollectionParents(e,l).next(f=>ue.forEach(f,p=>{const m=function(I,R){return new ra(R,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,o,s).next(w=>{w.forEach((I,R)=>{c=c.insert(I,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l,s))).next(c=>{l.forEach((p,m)=>{const w=m.getKey();c.get(w)===null&&(c=c.insert(w,Pn.newInvalidDocument(w)))});let f=Wa();return c.forEach((p,m)=>{const w=l.get(p);w!==void 0&&Ja(w.mutation,m,Nr.empty(),Zt.now()),Dc(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:Mx(s.bundledQuery),readTime:ti(s.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.overlays=new Bt(Ve.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Bo();return ue.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((s,l)=>{this.Et(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,o){const s=this.Rr.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(o)),ue.resolve()}getOverlaysForCollection(e,t,o){const s=Bo(),l=t.length+1,c=new Ve(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>o&&s.set(p.getKey(),p)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,o,s){let l=new Bt((m,w)=>m-w);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>o){let w=l.get(m.largestBatchId);w===null&&(w=Bo(),l=l.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const f=Bo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,w)=>f.set(m,w)),!(f.size()>=s)););return ue.resolve(f)}Et(e,t,o){const s=this.overlays.get(o.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(o.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(o.key,new dx(t,o));let l=this.Rr.get(t);l===void 0&&(l=it(),this.Rr.set(t,l)),this.Rr.set(t,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Vr=new en(ln.mr),this.gr=new en(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const o=new ln(e,t);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.wr(new ln(e,t))}Sr(e,t){e.forEach(o=>this.removeReference(o,t))}br(e){const t=new Ve(new Lt([])),o=new ln(t,e),s=new ln(t,e+1),l=[];return this.gr.forEachInRange([o,s],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ve(new Lt([])),o=new ln(t,e),s=new ln(t,e+1);let l=it();return this.gr.forEachInRange([o,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new ln(e,0),o=this.Vr.firstAfterOrEqual(t);return o!==null&&e.isEqual(o.key)}}class ln{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ve.comparator(e.key,t.key)||at(e.Cr,t.Cr)}static pr(e,t){return at(e.Cr,t.Cr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new en(ln.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,o,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fx(l,t,o,s);this.mutationQueue.push(c);for(const f of s)this.Mr=this.Mr.add(new ln(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,s=this.Nr(o),l=s<0?0:s;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?kd:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ln(t,0),s=new ln(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([o,s],c=>{const f=this.Or(c.Cr);l.push(f)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new en(at);return t.forEach(s=>{const l=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{o=o.add(f.Cr)})}),ue.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,s=o.length+1;let l=o;Ve.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ve(l),0);let f=new en(at);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!o.isPrefixOf(m)&&(m.length===s&&(f=f.add(p.Cr)),!0)},c),ue.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(o=>{const s=this.Or(o);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Tt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Mr;return ue.forEach(t.mutations,s=>{const l=new ln(s.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,t){const o=new ln(t,0),s=this.Mr.firstAfterOrEqual(o);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.kr=e,this.docs=function(){return new Bt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,s=this.docs.get(o),l=s?s.size:0,c=this.kr(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ue.resolve(o?o.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let o=xi();return t.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():Pn.newInvalidDocument(s))}),ue.resolve(o)}getDocumentsMatchingQuery(e,t,o,s){let l=xi();const c=t.path,f=new Ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:w}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||xA(AA(w),o)<=0||(s.has(w.key)||Dc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,o,s){Ue()}qr(e,t){return ue.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Zx(this)}getSize(e){return ue.resolve(this.size)}}class Zx extends qx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(o)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.persistence=e,this.Qr=new Qo(t=>Ld(t),Vd),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new jd,this.targetCount=0,this.Ur=qs.Kn()}forEachTarget(e,t){return this.Qr.forEach((o,s)=>t(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new qs(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,o){let s=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=t&&o.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ue.waitFor(l).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const o=this.Qr.get(t)||null;return ue.resolve(o)}addMatchingKeys(e,t,o){return this.Kr.yr(t,o),ue.resolve()}removeMatchingKeys(e,t,o){this.Kr.Sr(t,o);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Kr.vr(t);return ue.resolve(o)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Cc(0),this.zr=!1,this.zr=!0,this.jr=new Yx,this.referenceDelegate=e(this),this.Hr=new eC(this),this.indexManager=new Fx,this.remoteDocumentCache=function(s){return new Jx(s)}(o=>this.referenceDelegate.Jr(o)),this.serializer=new Ox(t),this.Yr=new Qx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Wr[e.toKey()];return o||(o=new Xx(t,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,o){Ae("MemoryPersistence","Starting transaction:",e);const s=new tC(this.Gr.next());return this.referenceDelegate.Zr(),o(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return ue.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,t)))}}class tC extends PA{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.ti=new jd,this.ni=null}static ri(e){return new zd(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,o){return this.ti.addReference(o,t),this.ii.delete(o.toString()),ue.resolve()}removeReference(e,t,o){return this.ti.removeReference(o,t),this.ii.add(o.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,o=>{const s=Ve.fromPath(o);return this.si(e,s).next(l=>{l||t.removeEntry(s,Ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(o=>{o?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class pc{constructor(e,t){this.persistence=e,this.oi=new Qo(o=>DA(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=Hx(this,t)}static ri(e,t){return new pc(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>t.next(s=>o+s))}sr(e){let t=0;return this.rr(e,o=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(o,s)=>this.ar(e,o,s).next(l=>l?ue.resolve():t(s)))}removeTargets(e,t,o){return this.persistence.getTargetCache().removeTargets(e,t,o)}removeOrphanedDocuments(e,t){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,t).next(f=>{f||(o++,l.removeEntry(c,Ke.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,t,o){return this.oi.set(o,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,o){return this.oi.set(o,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ku(e.data.value)),t}ar(e,t,o){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ue.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,o,s){this.targetId=e,this.fromCache=t,this.Hi=o,this.Ji=s}static Yi(e,t){let o=it(),s=it();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new $d(e,t.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XI()?8:kA(GI())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,o,s){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,s,o).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new nC;return this._s(e,t,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,c,f.size)})}).next(()=>l.result)}us(e,t,o,s){return o.documentReadCount<this.es?(Ls()<=dt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Ls()<=dt.DEBUG&&Ae("QueryEngine","Query:",Vs(t),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.ts*s?(Ls()<=dt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):ue.resolve())}rs(e,t){if(qy(t))return ue.resolve(null);let o=Zr(t);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=td(t,null,"F"),o=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const c=it(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,o).next(p=>{const m=this.cs(t,f);return this.ls(t,m,c,p.readTime)?this.rs(e,td(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,o,s){return qy(t)||s.isEqual(Ke.min())?ue.resolve(null):this.ns.getDocuments(e,o).next(l=>{const c=this.cs(t,l);return this.ls(t,c,o,s)?ue.resolve(null):(Ls()<=dt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vs(t)),this.hs(e,c,t,RA(s,il)).next(f=>f))})}cs(e,t){let o=new en(i_(e));return t.forEach((s,l)=>{Dc(e,l)&&(o=o.add(l))}),o}ls(e,t,o,s){if(e.limit===null)return!1;if(o.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,o){return Ls()<=dt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.ns.getDocumentsMatchingQuery(e,t,lo.min(),o)}hs(e,t,o,s){return this.ns.getDocumentsMatchingQuery(e,o,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="LocalStore",iC=3e8;class oC{constructor(e,t,o,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Bt(at),this.Is=new Qo(l=>Ld(l),Vd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function sC(n,e,t,o){return new oC(n,e,t,o)}async function x_(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",o=>{let s;return t.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const c=[],f=[];let p=it();for(const m of s){c.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}for(const m of l){f.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(o,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function aC(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,w){const I=m.batch,R=I.keys();let x=ue.resolve();return R.forEach(C=>{x=x.next(()=>w.getEntry(p,C)).next(O=>{const D=m.docVersions.get(C);Tt(D!==null),O.version.compareTo(D)<0&&(I.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),w.addEntry(O)))})}),x.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let p=it();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(o,s))})}function C_(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function lC(n,e){const t=Ge(n),o=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const f=[];e.targetChanges.forEach((w,I)=>{const R=s.get(I);if(!R)return;f.push(t.Hr.removeMatchingKeys(l,w.removedDocuments,I).next(()=>t.Hr.addMatchingKeys(l,w.addedDocuments,I)));let x=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?x=x.withResumeToken(vn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,o)),s=s.insert(I,x),function(O,D,W){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=iC?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(R,x,w)&&f.push(t.Hr.updateTargetData(l,x))});let p=xi(),m=it();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(uC(l,c,e.documentUpdates).next(w=>{p=w.Vs,m=w.fs})),!o.isEqual(Ke.min())){const w=t.Hr.getLastRemoteSnapshotVersion(l).next(I=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,o));f.push(w)}return ue.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=s,l))}function uC(n,e,t){let o=it(),s=it();return t.forEach(l=>o=o.add(l)),e.getEntries(n,o).next(l=>{let c=xi();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Ae(Hd,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:s}})}function cC(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=kd),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function hC(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return t.Hr.getTargetData(o,e).next(l=>l?(s=l,ue.resolve(s)):t.Hr.allocateTargetId(o).next(c=>(s=new no(e,c,"TargetPurposeListen",o.currentSequenceNumber),t.Hr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=t.Ts.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(o.targetId,o),t.Is.set(e,o.targetId)),o})}async function sd(n,e,t){const o=Ge(n),s=o.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await o.persistence.runTransaction("Release target",l,c=>o.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!na(c))throw c;Ae(Hd,`Failed to update sequence numbers for target ${e}: ${c}`)}o.Ts=o.Ts.remove(e),o.Is.delete(s.target)}function iv(n,e,t){const o=Ge(n);let s=Ke.min(),l=it();return o.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,w){const I=Ge(p),R=I.Is.get(w);return R!==void 0?ue.resolve(I.Ts.get(R)):I.Hr.getTargetData(m,w)}(o,c,Zr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>o.Ps.getDocumentsMatchingQuery(c,e,t?s:Ke.min(),t?l:it())).next(f=>(fC(o,XA(e),f),{documents:f,gs:l})))}function fC(n,e,t){let o=n.Es.get(e)||Ke.min();t.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),n.Es.set(e,o)}class ov{constructor(){this.activeTargetIds=rx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dC{constructor(){this.ho=new ov,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,o){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ov,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class av{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(sv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function ad(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${o}/databases/${s}`,this.wo=this.databaseId.database===lc?`project_id=${o}`:`project_id=${o}&database_id=${s}`}So(e,t,o,s,l){const c=ad(),f=this.bo(e,t.toUriEncodedString());Ae(Nf,`Sending RPC '${e}' ${c}:`,f,o);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,s,l),this.vo(e,f,p,o).then(m=>(Ae(Nf,`Received RPC '${e}' ${c}: `,m),m),m=>{throw js(Nf,`RPC '${e}' ${c} failed with error: `,m,"url: ",f,"request:",o),m})}Co(e,t,o,s,l,c){return this.So(e,t,o,s,l)}Do(e,t,o){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),o&&o.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const o=mC[e];return`${this.po}/v1/${t}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class vC extends gC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,o,s){const l=ad();return new Promise((c,f)=>{const p=new L0;p.setWithCredentials(!0),p.listenOnce(V0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wu.NO_ERROR:const w=p.getResponseJson();Ae(xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case Wu.TIMEOUT:Ae(xn,`RPC '${e}' ${l} timed out`),f(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const I=p.getStatus();if(Ae(xn,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R==null?void 0:R.error;if(x&&x.status&&x.message){const C=function(D){const W=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(W)>=0?W:le.UNKNOWN}(x.status);f(new xe(C,x.message))}else f(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Ae(xn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);Ae(xn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",m,o,15)})}Wo(e,t,o){const s=ad(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=M0(),f=O0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,o),p.encodeInitMessageHeaders=!0;const w=l.join("");Ae(xn,`Creating RPC '${e}' stream ${s}: ${w}`,p);const I=c.createWebChannel(w,p);let R=!1,x=!1;const C=new yC({Fo:D=>{x?Ae(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(R||(Ae(xn,`Opening RPC '${e}' stream ${s} transport.`),I.open(),R=!0),Ae(xn,`RPC '${e}' stream ${s} sending:`,D),I.send(D))},Mo:()=>I.close()}),O=(D,W,Z)=>{D.listen(W,ie=>{try{Z(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return O(I,qa.EventType.OPEN,()=>{x||(Ae(xn,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),O(I,qa.EventType.CLOSE,()=>{x||(x=!0,Ae(xn,`RPC '${e}' stream ${s} transport closed`),C.Ko())}),O(I,qa.EventType.ERROR,D=>{x||(x=!0,js(xn,`RPC '${e}' stream ${s} transport errored:`,D),C.Ko(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),O(I,qa.EventType.MESSAGE,D=>{var W;if(!x){const Z=D.data[0];Tt(!!Z);const ie=Z,pe=(ie==null?void 0:ie.error)||((W=ie[0])===null||W===void 0?void 0:W.error);if(pe){Ae(xn,`RPC '${e}' stream ${s} received error:`,pe);const ce=pe.status;let z=function(N){const M=Qt[N];if(M!==void 0)return m_(M)}(ce),b=pe.message;z===void 0&&(z=le.INTERNAL,b="Unknown error status: "+ce+" with message "+pe.message),x=!0,C.Ko(new xe(z,b)),I.close()}else Ae(xn,`RPC '${e}' stream ${s} received:`,Z),C.Uo(Z)}}),O(f,b0.STAT_EVENT,D=>{D.stat===Gf.PROXY?Ae(xn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Gf.NOPROXY&&Ae(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n){return new Tx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t,o=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=o,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-o);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="PersistentStream";class k_{constructor(e,t,o,s,l,c,f,p){this.Ti=e,this.n_=o,this.r_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new P_(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.i_===t&&this.V_(o,s)},o=>{e(()=>{const s=new xe(le.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(s)})})}V_(e,t){const o=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{o(()=>this.m_(s))}),this.stream.onMessage(s=>{o(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ae(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends k_{constructor(e,t,o,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,s,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Rx(this.serializer,e),o=function(l){if(!("targetChange"in l))return Ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?ti(c.readTime):Ke.min()}(e);return this.listener.p_(t,o)}y_(e){const t={};t.database=od(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=Zf(p)?{documents:Cx(l,p)}:{query:Px(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=v_(l,c.resumeToken);const m=nd(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ke.min())>0){f.readTime=dc(l,c.snapshotVersion.toTimestamp());const m=nd(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const o=Nx(this.serializer,e);o&&(t.labels=o),this.I_(t)}w_(e){const t={};t.database=od(this.serializer),t.removeTarget=e,this.I_(t)}}class wC extends k_{constructor(e,t,o,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,s,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=xx(e.writeResults,e.commitTime),o=ti(e.commitTime);return this.listener.v_(o,t)}C_(){const e={};e.database=od(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ax(this.serializer,o))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{}class TC extends EC{constructor(e,t,o,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,o,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,rd(t,o),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(le.UNKNOWN,l.toString())})}Co(e,t,o,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,rd(t,o),s,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(le.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class SC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ai(t),this.N_=!1):Ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="RemoteStore";class IC{constructor(e,t,o,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{o.enqueueAndForget(async()=>{Yo(this)&&(Ae(Ho,"Restarting streams for network reachability change."),await async function(p){const m=Ge(p);m.W_.add(4),await _l(m),m.j_.set("Unknown"),m.W_.delete(4),await Mc(m)}(this))})}),this.j_=new SC(o,s)}}async function Mc(n){if(Yo(n))for(const e of n.G_)await e(!0)}async function _l(n){for(const e of n.G_)await e(!1)}function N_(n,e){const t=Ge(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Qd(t)?Kd(t):ia(t).c_()&&Wd(t,e))}function qd(n,e){const t=Ge(n),o=ia(t);t.U_.delete(e),o.c_()&&D_(t,e),t.U_.size===0&&(o.c_()?o.P_():Yo(t)&&t.j_.set("Unknown"))}function Wd(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).y_(e)}function D_(n,e){n.H_.Ne(e),ia(n).w_(e)}function Kd(n){n.H_=new vx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.j_.B_()}function Qd(n){return Yo(n)&&!ia(n).u_()&&n.U_.size>0}function Yo(n){return Ge(n).W_.size===0}function L_(n){n.H_=void 0}async function RC(n){n.j_.set("Online")}async function AC(n){n.U_.forEach((e,t)=>{Wd(n,e)})}async function xC(n,e){L_(n),Qd(n)?(n.j_.q_(e),Kd(n)):n.j_.set("Unknown")}async function CC(n,e,t){if(n.j_.set("Online"),e instanceof y_&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const f of l.targetIds)s.U_.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.U_.delete(f),s.H_.removeTarget(f))}(n,e)}catch(o){Ae(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await mc(n,o)}else if(e instanceof Yu?n.H_.We(e):e instanceof g_?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ke.min()))try{const o=await C_(n.localStore);t.compareTo(o)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.U_.get(m);w&&l.U_.set(m,w.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const w=l.U_.get(p);if(!w)return;l.U_.set(p,w.withResumeToken(vn.EMPTY_BYTE_STRING,w.snapshotVersion)),D_(l,p);const I=new no(w.target,p,m,w.sequenceNumber);Wd(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(o){Ae(Ho,"Failed to raise snapshot:",o),await mc(n,o)}}async function mc(n,e,t){if(!na(e))throw e;n.W_.add(1),await _l(n),n.j_.set("Offline"),t||(t=()=>C_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Ho,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Mc(n)})}function V_(n,e){return e().catch(t=>mc(n,t,e))}async function Fc(n){const e=Ge(n),t=fo(e);let o=e.K_.length>0?e.K_[e.K_.length-1].batchId:kd;for(;PC(e);)try{const s=await cC(e.localStore,o);if(s===null){e.K_.length===0&&t.P_();break}o=s.batchId,kC(e,s)}catch(s){await mc(e,s)}b_(e)&&O_(e)}function PC(n){return Yo(n)&&n.K_.length<10}function kC(n,e){n.K_.push(e);const t=fo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function b_(n){return Yo(n)&&!fo(n).u_()&&n.K_.length>0}function O_(n){fo(n).start()}async function NC(n){fo(n).C_()}async function DC(n){const e=fo(n);for(const t of n.K_)e.b_(t.mutations)}async function LC(n,e,t){const o=n.K_.shift(),s=Fd.from(o,e,t);await V_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Fc(n)}async function VC(n,e){e&&fo(n).S_&&await async function(o,s){if(function(c){return mx(c)&&c!==le.ABORTED}(s.code)){const l=o.K_.shift();fo(o).h_(),await V_(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Fc(o)}}(n,e),b_(n)&&O_(n)}async function uv(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Ae(Ho,"RemoteStore received new credentials");const o=Yo(t);t.W_.add(3),await _l(t),o&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Mc(t)}async function bC(n,e){const t=Ge(n);e?(t.W_.delete(2),await Mc(t)):e||(t.W_.add(2),await _l(t),t.j_.set("Unknown"))}function ia(n){return n.J_||(n.J_=function(t,o,s){const l=Ge(t);return l.M_(),new _C(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:RC.bind(null,n),No:AC.bind(null,n),Lo:xC.bind(null,n),p_:CC.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Qd(n)?Kd(n):n.j_.set("Unknown")):(await n.J_.stop(),L_(n))})),n.J_}function fo(n){return n.Y_||(n.Y_=function(t,o,s){const l=Ge(t);return l.M_(),new wC(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:NC.bind(null,n),Lo:VC.bind(null,n),D_:DC.bind(null,n),v_:LC.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Fc(n)):(await n.Y_.stop(),n.K_.length>0&&(Ae(Ho,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,o,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,o,s,l){const c=Date.now()+o,f=new Gd(e,t,c,s,l);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),na(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(e){return new Fs(e.comparator)}constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ve.comparator(t.key,o.key):(t,o)=>Ve.comparator(t.key,o.key),this.keyedMap=Wa(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const o=new Fs;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.Z_=new Bt(Ve.comparator)}track(e){const t=e.doc.key,o=this.Z_.get(t);o?e.type!==0&&o.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&o.type!==1?this.Z_=this.Z_.insert(t,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Z_=this.Z_.remove(t):e.type===1&&o.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ws{constructor(e,t,o,s,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,o,s,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Ws(e,t,Fs.emptySet(t),c,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class MC{constructor(){this.queries=hv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,o){const s=Ge(t),l=s.queries;s.queries=hv(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(o)})})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function hv(){return new Qo(n=>r_(n),Nc)}async function M_(n,e){const t=Ge(n);let o=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(o=2):(l=new OC,o=e.ra()?0:1);try{switch(o){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=Yd(c,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Xd(t)}async function F_(n,e){const t=Ge(n),o=e.query;let s=3;const l=t.queries.get(o);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(o),t.onUnlisten(o,!0);case 1:return t.queries.delete(o),t.onUnlisten(o,!1);case 2:return t.onLastRemoteStoreUnlisten(o);default:return}}function FC(n,e){const t=Ge(n);let o=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const f of c.ta)f.oa(s)&&(o=!0);c.ea=s}}o&&Xd(t)}function UC(n,e,t){const o=Ge(n),s=o.queries.get(e);if(s)for(const l of s.ta)l.onError(t);o.queries.delete(e)}function Xd(n){n.ia.forEach(e=>{e.next()})}var ld,fv;(fv=ld||(ld={}))._a="default",fv.Cache="cache";class U_{constructor(e,t,o){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new Ws(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const o=t!=="Offline";return(!this.options.Ta||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.key=e}}class j_{constructor(e){this.key=e}}class BC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=it(),this.mutatedKeys=it(),this.ya=i_(e),this.wa=new Fs(this.ya)}get Sa(){return this.fa}ba(e,t){const o=t?t.Da:new cv,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((w,I)=>{const R=s.get(w),x=Dc(this.query,I)?I:null,C=!!R&&this.mutatedKeys.has(R.key),O=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;R&&x?R.data.isEqual(x.data)?C!==O&&(o.track({type:3,doc:x}),D=!0):this.va(R,x)||(o.track({type:2,doc:x}),D=!0,(p&&this.ya(x,p)>0||m&&this.ya(x,m)<0)&&(f=!0)):!R&&x?(o.track({type:0,doc:x}),D=!0):R&&!x&&(o.track({type:1,doc:R}),D=!0,(p||m)&&(f=!0)),D&&(x?(c=c.add(x),l=O?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),o.track({type:1,doc:w})}return{wa:c,Da:o,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((w,I)=>function(x,C){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return O(x)-O(C)}(w.type,I.type)||this.ya(w.doc,I.doc)),this.Ca(o),s=s!=null&&s;const f=t&&!s?this.Fa():[],p=this.pa.size===0&&this.current&&!s?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Ws(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=it(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const t=[];return e.forEach(o=>{this.pa.has(o)||t.push(new j_(o))}),this.pa.forEach(o=>{e.has(o)||t.push(new B_(o))}),t}Oa(e){this.fa=e.gs,this.pa=it();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ws.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jd="SyncEngine";class jC{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class zC{constructor(e){this.key=e,this.Ba=!1}}class $C{constructor(e,t,o,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Qo(f=>r_(f),Nc),this.qa=new Map,this.Qa=new Set,this.$a=new Bt(Ve.comparator),this.Ka=new Map,this.Ua=new jd,this.Wa={},this.Ga=new Map,this.za=qs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HC(n,e,t=!0){const o=K_(n);let s;const l=o.ka.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await z_(o,e,t,!0),s}async function qC(n,e){const t=K_(n);await z_(t,e,!0,!1)}async function z_(n,e,t,o){const s=await hC(n.localStore,Zr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return o&&(f=await WC(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&N_(n.remoteStore,s),f}async function WC(n,e,t,o,s){n.Ha=(I,R,x)=>async function(O,D,W,Z){let ie=D.view.ba(W);ie.ls&&(ie=await iv(O.localStore,D.query,!1).then(({documents:b})=>D.view.ba(b,ie)));const pe=Z&&Z.targetChanges.get(D.targetId),ce=Z&&Z.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(ie,O.isPrimaryClient,pe,ce);return pv(O,D.targetId,z.Ma),z.snapshot}(n,I,R,x);const l=await iv(n.localStore,e,!0),c=new BC(e,l.gs),f=c.ba(l.documents),p=vl.createSynthesizedTargetChangeForCurrentChange(t,o&&n.onlineState!=="Offline",s),m=c.applyChanges(f,n.isPrimaryClient,p);pv(n,t,m.Ma);const w=new jC(e,t,c);return n.ka.set(e,w),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function KC(n,e,t){const o=Ge(n),s=o.ka.get(e),l=o.qa.get(s.targetId);if(l.length>1)return o.qa.set(s.targetId,l.filter(c=>!Nc(c,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await sd(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),t&&qd(o.remoteStore,s.targetId),ud(o,s.targetId)}).catch(ta)):(ud(o,s.targetId),await sd(o.localStore,s.targetId,!0))}async function QC(n,e){const t=Ge(n),o=t.ka.get(e),s=t.qa.get(o.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(o.targetId),qd(t.remoteStore,o.targetId))}async function GC(n,e,t){const o=nP(n);try{const s=await function(c,f){const p=Ge(c),m=Zt.now(),w=f.reduce((x,C)=>x.add(C.key),it());let I,R;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=xi(),O=it();return p.ds.getEntries(x,w).next(D=>{C=D,C.forEach((W,Z)=>{Z.isValidDocument()||(O=O.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,C)).next(D=>{I=D;const W=[];for(const Z of f){const ie=cx(Z,I.get(Z.key).overlayedDocument);ie!=null&&W.push(new Go(Z.key,ie,G0(ie.value.mapValue),ei.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,W,f)}).next(D=>{R=D;const W=D.applyToLocalDocumentSet(I,O);return p.documentOverlayCache.saveOverlays(x,D.batchId,W)})}).then(()=>({batchId:R.batchId,changes:s_(I)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Bt(at)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(o,s.batchId,t),await wl(o,s.changes),await Fc(o.remoteStore)}catch(s){const l=Yd(s,"Failed to persist write");t.reject(l)}}async function $_(n,e){const t=Ge(n);try{const o=await lC(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Ka.get(l);c&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?Tt(c.Ba):s.removedDocuments.size>0&&(Tt(c.Ba),c.Ba=!1))}),await wl(t,o,e)}catch(o){await ta(o)}}function dv(n,e,t){const o=Ge(n);if(o.isPrimaryClient&&t===0||!o.isPrimaryClient&&t===1){const s=[];o.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const p=Ge(c);p.onlineState=f;let m=!1;p.queries.forEach((w,I)=>{for(const R of I.ta)R.sa(f)&&(m=!0)}),m&&Xd(p)}(o.eventManager,e),s.length&&o.La.p_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function YC(n,e,t){const o=Ge(n);o.sharedClientState.updateQueryState(e,"rejected",t);const s=o.Ka.get(e),l=s&&s.key;if(l){let c=new Bt(Ve.comparator);c=c.insert(l,Pn.newNoDocument(l,Ke.min()));const f=it().add(l),p=new bc(Ke.min(),new Map,new Bt(at),c,f);await $_(o,p),o.$a=o.$a.remove(l),o.Ka.delete(e),Zd(o)}else await sd(o.localStore,e,!1).then(()=>ud(o,e,t)).catch(ta)}async function XC(n,e){const t=Ge(n),o=e.batch.batchId;try{const s=await aC(t.localStore,e);q_(t,o,null),H_(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),await wl(t,s)}catch(s){await ta(s)}}async function JC(n,e,t){const o=Ge(n);try{const s=await function(c,f){const p=Ge(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let w;return p.mutationQueue.lookupMutationBatch(m,f).next(I=>(Tt(I!==null),w=I.keys(),p.mutationQueue.removeMutationBatch(m,I))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w)).next(()=>p.localDocuments.getDocuments(m,w))})}(o.localStore,e);q_(o,e,t),H_(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),await wl(o,s)}catch(s){await ta(s)}}function H_(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function q_(n,e,t){const o=Ge(n);let s=o.Wa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),o.Wa[o.currentUser.toKey()]=s}}function ud(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.qa.get(e))n.ka.delete(o),t&&n.La.Ja(o,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(o=>{n.Ua.containsKey(o)||W_(n,o)})}function W_(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(qd(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Zd(n))}function pv(n,e,t){for(const o of t)o instanceof B_?(n.Ua.addReference(o.key,e),ZC(n,o)):o instanceof j_?(Ae(Jd,"Document no longer in limbo: "+o.key),n.Ua.removeReference(o.key,e),n.Ua.containsKey(o.key)||W_(n,o.key)):Ue()}function ZC(n,e){const t=e.key,o=t.path.canonicalString();n.$a.get(t)||n.Qa.has(o)||(Ae(Jd,"New document in limbo: "+t),n.Qa.add(o),Zd(n))}function Zd(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ve(Lt.fromString(e)),o=n.za.next();n.Ka.set(o,new zC(t)),n.$a=n.$a.insert(t,o),N_(n.remoteStore,new no(Zr(bd(t.path)),o,"TargetPurposeLimboResolution",Cc.ae))}}async function wl(n,e,t){const o=Ge(n),s=[],l=[],c=[];o.ka.isEmpty()||(o.ka.forEach((f,p)=>{c.push(o.Ha(p,e,t).then(m=>{var w;if((m||t)&&o.isPrimaryClient){const I=m?!m.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;o.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(m){s.push(m);const I=$d.Yi(p.targetId,m);l.push(I)}}))}),await Promise.all(c),o.La.p_(s),await async function(p,m){const w=Ge(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ue.forEach(m,R=>ue.forEach(R.Hi,x=>w.persistence.referenceDelegate.addReference(I,R.targetId,x)).next(()=>ue.forEach(R.Ji,x=>w.persistence.referenceDelegate.removeReference(I,R.targetId,x)))))}catch(I){if(!na(I))throw I;Ae(Hd,"Failed to update sequence numbers: "+I)}for(const I of m){const R=I.targetId;if(!I.fromCache){const x=w.Ts.get(R),C=x.snapshotVersion,O=x.withLastLimboFreeSnapshotVersion(C);w.Ts=w.Ts.insert(R,O)}}}(o.localStore,l))}async function eP(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Ae(Jd,"User change. New user:",e.toKey());const o=await x_(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new xe(le.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await wl(t,o.Rs)}}function tP(n,e){const t=Ge(n),o=t.Ka.get(e);if(o&&o.Ba)return it().add(o.key);{let s=it();const l=t.qa.get(e);if(!l)return s;for(const c of l){const f=t.ka.get(c);s=s.unionWith(f.view.Sa)}return s}}function K_(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YC.bind(null,e),e.La.p_=FC.bind(null,e.eventManager),e.La.Ja=UC.bind(null,e.eventManager),e}function nP(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JC.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return sC(this.persistence,new rC,e.initialUser,this.serializer)}Xa(e){return new A_(zd.ri,this.serializer)}Za(e){return new dC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class rP extends gc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Tt(this.persistence.referenceDelegate instanceof pc);const o=this.persistence.referenceDelegate.garbageCollector;return new zx(o,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new A_(o=>pc.ri(o,t),this.serializer)}}class cd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>dv(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=eP.bind(null,this.syncEngine),await bC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MC}()}createDatastore(e){const t=Oc(e.databaseInfo.databaseId),o=function(l){return new vC(l)}(e.databaseInfo);return function(l,c,f,p){return new TC(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return function(o,s,l,c,f){return new IC(o,s,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>dv(this.syncEngine,t,0),function(){return av.D()?new av:new pC}())}createSyncEngine(e,t){return function(s,l,c,f,p,m,w){const I=new $C(s,l,c,f,p,m);return w&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Ge(s);Ae(Ho,"RemoteStore shutting down."),l.W_.add(5),await _l(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class iP{constructor(e,t,o,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async c=>{Ae(po,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(o,c=>(Ae(po,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const o=Yd(t,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(po,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let o=t.initialUser;n.setCredentialChangeListener(async s=>{o.isEqual(s)||(await x_(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await oP(n);Ae(po,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(o=>uv(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,s)=>uv(e.remoteStore,s)),n._onlineComponents=e}async function oP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(po,"Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;js("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new gc)}}else Ae(po,"Using default OfflineComponentProvider"),await Lf(n,new rP(void 0));return n._offlineComponents}async function G_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(po,"Using user provided OnlineComponentProvider"),await mv(n,n._uninitializedComponentsProvider._online)):(Ae(po,"Using default OnlineComponentProvider"),await mv(n,new cd))),n._onlineComponents}function sP(n){return G_(n).then(e=>e.syncEngine)}async function Y_(n){const e=await G_(n),t=e.eventManager;return t.onListen=HC.bind(null,e.syncEngine),t.onUnlisten=KC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),t}function aP(n,e,t={}){const o=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const w=new Q_({next:R=>{w.su(),c.enqueueAndForget(()=>F_(l,I));const x=R.docs.has(f);!x&&R.fromCache?m.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&R.fromCache&&p&&p.source==="server"?m.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),I=new U_(bd(f.path),w,{includeMetadataChanges:!0,Ta:!0});return M_(l,I)}(await Y_(n),n.asyncQueue,e,t,o)),o.promise}function lP(n,e,t={}){const o=new Ii;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const w=new Q_({next:R=>{w.su(),c.enqueueAndForget(()=>F_(l,I)),R.fromCache&&p.source==="server"?m.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),I=new U_(f,w,{includeMetadataChanges:!0,Ta:!0});return M_(l,I)}(await Y_(n),n.asyncQueue,e,t,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uP(n,e,t,o){if(e===!0&&o===!0)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yv(n){if(!Ve.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vv(n){if(Ve.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function mo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uc(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="firestore.googleapis.com",_v=!0;class wv{constructor(e){var t,o;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z_,this.ssl=_v}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_v;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bx)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X_((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,o,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new yA;switch(o.type){case"firstParty":return new EA(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=gv.get(t);o&&(Ae("ComponentProvider","Removing Datastore"),gv.delete(t),o.terminate())}(this),Promise.resolve()}}function cP(n,e,t,o={}){var s;const l=(n=mo(n,Bc))._getSettings(),c=`${e}:${t}`;if(l.host!==Z_&&l.host!==c&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),o.mockUserToken){let f,p;if(typeof o.mockUserToken=="string")f=o.mockUserToken,p=Cn.MOCK_USER;else{f=QI(o.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=o.mockUserToken.sub||o.mockUserToken.user_id;if(!m)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cn(m)}n._authCredentials=new vA(new F0(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Kn{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class so extends Xo{constructor(e,t,o){super(e,t,bd(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ve(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function hP(n,e,...t){if(n=Bs(n),J_("collection","path",e),n instanceof Bc){const o=Lt.fromString(e,...t);return vv(o),new so(n,null,o)}{if(!(n instanceof Kn||n instanceof so))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(Lt.fromString(e,...t));return vv(o),new so(n.firestore,null,o)}}function El(n,e,...t){if(n=Bs(n),arguments.length===1&&(e=U0.newId()),J_("doc","path",e),n instanceof Bc){const o=Lt.fromString(e,...t);return yv(o),new Kn(n,null,new Ve(o))}{if(!(n instanceof Kn||n instanceof so))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(Lt.fromString(e,...t));return yv(o),new Kn(n.firestore,n instanceof so?n.converter:null,new Ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new P_(this,"async_queue_retry"),this.Su=()=>{const o=Df();o&&Ae(Ev,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.bu=e;const t=Df();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Df();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!na(e))throw e;Ae(Ev,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(o=>{this.gu=o,this.pu=!1;const s=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(o);throw Ai("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.pu=!1,o))));return this.bu=t,t}enqueueAfterDelay(e,t,o){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Gd.createAndSchedule(this,e,t,o,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Tl extends Bc{constructor(e,t,o,s){super(e,t,o,s),this.type="firestore",this._queue=new Tv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tv(e),this._firestoreClient=void 0,await e}}}function fP(n,e){const t=typeof n=="object"?n:iA(),o=typeof n=="string"?n:lc,s=ZR(t,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=WI("firestore");l&&cP(s,...l)}return s}function ep(n){if(n._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dP(n),n._firestoreClient}function dP(n){var e,t,o;const s=n._freezeSettings(),l=function(f,p,m,w){return new bA(f,p,m,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,X_(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new iP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ks(vn.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ks(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=/^__.*__$/;class mP{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}function tw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class ip{constructor(e,t,o,s,l,c){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:o,Qu:!1});return s.$u(e),s}Ku(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:o,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(tw(this.Lu)&&pP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gP{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Oc(e)}ju(e,t,o,s=!1){return new ip({Lu:e,methodName:t,zu:o,path:yn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nw(n){const e=n._freezeSettings(),t=Oc(n._databaseId);return new gP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yP(n,e,t,o,s,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,s);ow("Data must be an object, but it was:",c,o);const f=rw(o,c);let p,m;if(l.merge)p=new Nr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const I of l.mergeFields){const R=_P(e,I,t);if(!c.contains(R))throw new xe(le.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);EP(w,R)||w.push(R)}p=new Nr(w),m=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,m=c.fieldTransforms;return new mP(new yr(f),p,m)}function vP(n,e,t,o=!1){return op(t,n.ju(o?4:3,e))}function op(n,e){if(iw(n=Bs(n)))return ow("Unsupported field value:",e,n),rw(n,e);if(n instanceof ew)return function(o,s){if(!tw(s.Lu))throw s.Wu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(o,s){const l=[];let c=0;for(const f of o){let p=op(f,s.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(o,s){if((o=Bs(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return ix(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=Zt.fromDate(o);return{timestampValue:dc(s.serializer,l)}}if(o instanceof Zt){const l=new Zt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:dc(s.serializer,l)}}if(o instanceof np)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ks)return{bytesValue:v_(s.serializer,o._byteString)};if(o instanceof Kn){const l=s.databaseId,c=o.firestore._databaseId;if(!c.isEqual(l))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bd(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof rp)return function(c,f){return{mapValue:{fields:{[K0]:{stringValue:Q0},[uc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Od(f.serializer,m)})}}}}}}(o,s);throw s.Wu(`Unsupported field value: ${Uc(o)}`)}(n,e)}function rw(n,e){const t={};return j0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(n,(o,s)=>{const l=op(s,e.qu(o));l!=null&&(t[o]=l)}),{mapValue:{fields:t}}}function iw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof np||n instanceof Ks||n instanceof Kn||n instanceof ew||n instanceof rp)}function ow(n,e,t){if(!iw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const o=Uc(t);throw o==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+o)}}function _P(n,e,t){if((e=Bs(e))instanceof tp)return e._internalPath;if(typeof e=="string")return sw(n,e);throw yc("Field path arguments must be of type string or ",n,!1,void 0,t)}const wP=new RegExp("[~\\*/\\[\\]]");function sw(n,e,t){if(e.search(wP)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tp(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yc(n,e,t,o,s){const l=o&&!o.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${o}`),c&&(p+=` in document ${s}`),p+=")"),new xe(le.INVALID_ARGUMENT,f+n+p)}function EP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,o,s,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TP extends aw{data(){return super.data()}}function sp(n,e){return typeof e=="string"?sw(n,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class lw extends ap{}function IP(n,e,...t){let o=[];e instanceof ap&&o.push(e),o=o.concat(t),function(l){const c=l.filter(p=>p instanceof up).length,f=l.filter(p=>p instanceof lp).length;if(c>1||c>0&&f>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)n=s._apply(n);return n}class lp extends lw{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new lp(e,t,o)}_apply(e){const t=this._parse(e);return uw(e._query,t),new Xo(e.firestore,e.converter,ed(e._query,t))}_parse(e){const t=nw(e.firestore);return function(l,c,f,p,m,w,I){let R;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Iv(I,w);const C=[];for(const O of I)C.push(Sv(p,l,O));R={arrayValue:{values:C}}}else R=Sv(p,l,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Iv(I,w),R=vP(f,c,I,w==="in"||w==="not-in");return Gt.create(m,w,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class up extends ap{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new up(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const f=l.getFlattenedFilters();for(const p of f)uw(c,p),c=ed(c,p)}(e._query,t),new Xo(e.firestore,e.converter,ed(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cp extends lw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cp(e,t)}_apply(e){const t=function(s,l,c){if(s.startAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ll(l,c)}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new ra(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function RP(n,e="asc"){const t=e,o=sp("orderBy",n);return cp._create(o,t)}function Sv(n,e,t){if(typeof(t=Bs(t))=="string"){if(t==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n_(e)&&t.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Lt.fromString(t));if(!Ve.isDocumentKey(o))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Uy(n,new Ve(o))}if(t instanceof Kn)return Uy(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(t)}.`)}function Iv(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uw(n,e){const t=function(s,l){for(const c of s)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class AP{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Ko(e,(s,l)=>{o[s]=this.convertValue(l,t)}),o}convertVectorValue(e){var t,o,s;const l=(s=(o=(t=e.fields)===null||t===void 0?void 0:t[uc].arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(c=>Ht(c.doubleValue));return new rp(l)}convertGeoPoint(e){return new np(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=kc(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=uo(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Lt.fromString(e);Tt(I_(o));const s=new sl(o.get(1),o.get(3)),l=new Ve(o.popFirst(5));return s.isEqual(t)||Ai(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n,e,t){let o;return o=n?n.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cw extends aw{constructor(e,t,o,s,l,c){super(e,t,o,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(sp("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Xu extends cw{data(e={}){return super.data(e)}}class CP{constructor(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Qa(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Xu(this._firestore,this._userDataWriter,o.key,o,new Qa(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const p=new Xu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Qa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Xu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Qa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,w=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:PP(f.type),doc:p,oldIndex:m,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){n=mo(n,Kn);const e=mo(n.firestore,Tl);return aP(ep(e),n._key).then(t=>DP(e,n,t))}class fw extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ks(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}function kP(n){n=mo(n,Xo);const e=mo(n.firestore,Tl),t=ep(e),o=new fw(e);return SP(n._query),lP(t,n._query).then(s=>new CP(e,o,n,s))}function hp(n,e,t){n=mo(n,Kn);const o=mo(n.firestore,Tl),s=xP(n.converter,e);return dw(o,[yP(nw(o),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ei.none())])}function NP(n){return dw(mo(n.firestore,Tl),[new Md(n._key,ei.none())])}function dw(n,e){return function(o,s){const l=new Ii;return o.asyncQueue.enqueueAndForget(async()=>GC(await sP(o),s,l)),l.promise}(ep(n),e)}function DP(n,e,t){const o=t.docs.get(e._key),s=new fw(n);return new cw(n,s,e._key,o,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ea=s})(rA),sc(new nl("firestore",(o,{instanceIdentifier:s,options:l})=>{const c=o.getProvider("app").getImmediate(),f=new Tl(new _A(o.getProvider("auth-internal")),new TA(c,o.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(m.options.projectId,w)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ms(Cy,Py,e),Ms(Cy,Py,"esm2017")})();function pw(n){const e=new Array;return n.forEach(t=>e.push({...t})),e}function LP(n){const e=new Array;return n.forEach(t=>e.push({name:t.name,measurement:{...t.measurement}})),e}function mw(n){const e=new Set;return n&&n.forEach(t=>{console.log(t instanceof ec),C1(t)&&t.name!=""&&e.add(new ec(t.name.toString(),t.color))}),e}function VP(n){const e=new Array;return n&&n.forEach(t=>{V1(t)&&t.name!=""&&e.push({name:t.name,measurement:{quantity:t.measurement.quantity,unit:t.measurement.unit}})}),e}const bP={toFirestore:n=>{var e,t;return{metadata:{id:(e=n.metadata)==null?void 0:e.id,timestamp:(t=n.metadata)==null?void 0:t.timestamp},name:n.name,tags:pw(n.tags),cooktime:n.cooktime,ingredients:LP(n.ingredients),directions:n.directions,image:n.image||"",source:n.source||""}},fromFirestore:(n,e)=>{const{name:t,tags:o,cooktime:s,ingredients:l,directions:c,metadata:f,image:p,source:m}=n.data(e);return new x1(f,t,mw(o),s,VP(l),c,p,m)}},OP={toFirestore:n=>({pantry:[...n.pantry],tags:pw(n.tags)}),fromFirestore:(n,e)=>{const{pantry:t,tags:o}=n.data(e);return{pantry:new Set(t),setPantry:()=>{},tags:mw(o),setTags:()=>{}}}};let ni,oa,fp;function Jo(){const e=P0({apiKey:"AIzaSyCEx06gteQrLyWB__TQpDbDbuR3_r3k7SY",authDomain:"cookin-cac70.firebaseapp.com",projectId:"cookin-cac70",storageBucket:"cookin-cac70.firebasestorage.app",messagingSenderId:"481722415202",appId:"1:481722415202:web:e13691eb94542532c2b93b",measurementId:"G-C9Q2F05DGR"});ni=fP(e),oa=hP(ni,"recipes").withConverter(bP),fp=El(ni,"metadata","recipe").withConverter(OP)}function MP(){ni||Jo();const n=IP(oa,RP("metadata.timestamp","desc"));return kP(n).then(e=>e.docs.map(t=>t.data()))}function FP(n){return ni||Jo(),hw(El(oa,n)).then(e=>e.exists()&&e.data())}function UP(n){ni||Jo();const e=El(oa),t={timestamp:Date.now(),id:e.id},o={...n,metadata:t};return hp(e,o).then(()=>n)}function BP(n,e){ni||Jo();const t={timestamp:Date.now(),id:n},o={...e,metadata:t};return hp(El(oa,n),o).then(()=>o)}function jP(){return ni||Jo(),hw(fp).then(n=>n.exists()&&n.data())}function zP(n){return ni||Jo(),NP(El(oa,n)),n}function $P(n){ni||Jo(),hp(fp,n)}function gw({recipe:n,onClose:e}){const[t,o]=q.useState((n==null?void 0:n.name)||""),[s,l]=q.useState((n==null?void 0:n.cooktime)||0),[c,f]=q.useState((n==null?void 0:n.ingredients)||[]),[p,m]=q.useState((n==null?void 0:n.directions)||[]),[w,I]=q.useState((n==null?void 0:n.tags)||new Set),[R,x]=q.useState((n==null?void 0:n.image)||""),[C,O]=q.useState(!1),[D,W]=q.useState((n==null?void 0:n.source)||""),{tags:Z,pantry:ie,setTags:pe,setPantry:ce}=q.useContext(Gs),z=Js(),b=Qe=>({name:t,tags:w,cooktime:s,ingredients:c,directions:p,image:Qe,source:D}),P=()=>{const Qe=new Set([...Z]);w.forEach(Ye=>Qe.add(Ye)),Qe.size!=Z.size&&pe(Qe);const Be=new Set([...ie]);c.forEach(Ye=>{Ye.name&&Be.add(Ye.name)}),Be.size!=ie.size&&ce(Be),(Qe.size!=Z.size||Be.size!=ie.size)&&$P({tags:Qe,pantry:Be,setTags:pe,setPantry:ce})},N=Qe=>{o(Qe.target.value)},M=Qe=>{W(Qe.target.value)},j=Qe=>{l(Qe.target.valueAsNumber)},Q=async()=>{O(!0);const Qe=R&&await Gg(R);P();const Be=b(Qe);try{await UP(Be),z(".",{replace:!0})}finally{O(!1),e()}},V=async()=>{var Ye,ge;O(!0);let Qe=n==null?void 0:n.image;R!=Qe&&(Qe=R&&await Gg(R)),P();const Be=b(Qe);try{(Ye=n==null?void 0:n.metadata)!=null&&Ye.id?(await BP((ge=n==null?void 0:n.metadata)==null?void 0:ge.id,Be),z(".",{replace:!0})):alert("something went wrong... try again?")}finally{O(!1),e()}},ut=t.length!=0&&p.length!=0&&c.length!=0&&s>0;return K.jsxs("div",{className:"z-10 fixed inset-0 bg-black/40 flex min-h-full items-center justify-center",children:[C&&K.jsx("div",{className:"z-30 fixed inset-0 bg-white/50 min-h-full content-center justify-center pointer-events-none",children:K.jsx("div",{className:"m-auto max-w-fit max-h-fit animate-bounce text-8xl",children:"👩‍🍳🔥🥘"})}),K.jsxs("div",{className:"relative flex flex-col w-1/2 z-20 max-h-3/4 rounded-lg bg-white shadow-xl",children:[K.jsx("button",{onClick:e,children:K.jsx(JP,{styles:"size-4 text-dark-gray absolute top-3 right-3 hover:text-red-1 hover:cursor-pointer active:text-red-dark"})}),K.jsxs("div",{className:"p-4 overflow-y-auto pb-12",children:[K.jsx("h1",{className:"mt-2 pb-4",children:"Yes, chef?"}),K.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[K.jsx(A1,{selectedImage:R,onSelectImage:x}),K.jsxs("div",{className:"flex flex-col h-fit",children:[K.jsx("input",{className:"input-txt text-2xl",type:"text",placeholder:"Recipe name",onChange:N,value:t}),K.jsxs("div",{className:"flex flex-row items-center gap-2",children:[K.jsx("b",{children:"Cooktime:"}),K.jsx("input",{className:"number-picker",min:0,max:9999,type:"number",onChange:j,value:s.toString()}),"min"]}),K.jsx("input",{className:"input-txt",type:"text",placeholder:"https://www.source.com",onChange:M,value:D}),K.jsx(GP,{selectedTags:w,setSelectedTags:I})]}),K.jsx(b1,{ingredients:c,setIngredients:f}),K.jsx(ME,{directions:p,setDirections:m})]})]}),K.jsx("div",{className:"p-4 rounded-b-lg shadow-inner bg-light-gray/20",children:K.jsx("button",{className:"full-btn-blue w-full",onClick:n&&V||Q,disabled:!ut,children:n&&"Edit Recipe"||"Create Recipe!"})})]})]})}function HP(n){return Pt.get("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}})}function qP(n){return n==null?void 0:n.verified_email}const WP=["https://www.googleapis.com/auth/photospicker.mediaitems.readonly","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"];function KP({children:n}){const[e,t]=q.useState(null),o=()=>{Ng(),t(null)},s=p=>{HP(p.access_token).then(m=>{qP(m.data)&&t({accessToken:p.access_token,name:m.data.name,picture:m.data.picture})}).catch(m=>{console.log(m),Ng()})},l=()=>{alert("Failed to sign in :( Try again?")},c=bE({onSuccess:s,onError:l,onNonOAuthError:l,scope:WP.join(" ")}),f={user:e,signin:c,signout:o};return K.jsx(Cv,{clientId:"830313144074-gmlo0mjrteockpndirk9dmp60phd4ar2.apps.googleusercontent.com",children:K.jsx(Qs.Provider,{value:f,children:n})})}const yw=new Map([["#f6bd60","white"],["#f7d5a1","#000A"],["#f6dcd3","#000A"],["#f5cac3","#000A"],["#bdb8b0","white"],["#84a59d","white"],["#bb9590","white"],["#f28482","white"]]);function dp({text:n,color:e,placeholder:t,onCancel:o,onClick:s}){return K.jsxs("div",{className:"flex flex-row rounded-full px-2 me-2 my-2 w-fit h-fit text-sm",style:{backgroundColor:e||"transparent",color:t&&!n&&"#33333333"||e&&yw.get(e),borderStyle:"solid",borderColor:e&&"transparent"||"#33333333",borderWidth:"2px",cursor:s&&"pointer"||"auto"},onClick:s,children:[K.jsx("p",{children:n||t}),o&&K.jsx("button",{className:"ms-2 my-auto size-4 text-black/30 hover:text-white active:text-black/50",onClick:()=>o(n),children:K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",children:K.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"})})})]})}function QP({text:n,onCreate:e,onClose:t}){const[o,s]=q.useState(""),l=f=>{s(f)},c=()=>{e(n,o),t()};return K.jsxs("div",{className:"absolute z-20 bg-white w-fit rounded-md border-2 border-light-gray shadow-md p-2",children:[K.jsx(dp,{text:n,color:o,placeholder:"...hungy..."}),K.jsx("div",{className:"flex flex-row gap-2",children:Array.from(yw.entries()).map(([f])=>K.jsx("button",{className:"rounded-full w-4 h-4 border-2",style:{backgroundColor:f,borderColor:o==f&&"#33333333"||"transparent"},onClick:()=>l(f)},f))}),K.jsx("button",{className:"full-btn-blue mt-2",disabled:n==""||o=="",onClick:c,children:"Create Tag"}),K.jsx("button",{className:"mx-3 text-blue-1 underline-offset-4 hover:underline hover:text-blue-2 active:text-blue-dark",onClick:t,children:"Close"})]})}function GP({selectedTags:n,setSelectedTags:e}){const{tags:t}=q.useContext(Gs),[o,s]=q.useState(""),[l,c]=q.useState(new Set),[f,p]=q.useState(!1);q.useEffect(()=>{const R=new Set,x=o.toLowerCase().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");o.length!=0&&t.forEach(C=>{C.name.match(new RegExp(`^${x}`,"i"))&&!n.has(C)&&R.add(C)}),c(R)},[o,n,t]);const m=R=>{s(R.target.value.toLowerCase())},w=R=>{const x=new Set(n);x.add(R),e(x),s("")},I=(R,x)=>{w(new ec(R,x))};return K.jsxs("div",{children:[K.jsxs("div",{className:"flex flex-row",children:[K.jsx("input",{className:"input-txt me-2",placeholder:"Add a tag...",type:"text",value:o,maxLength:30,onChange:m}),K.jsx("button",{className:"placeholder-btn-tan m-auto px-2 rounded-full border-solid",onClick:()=>p(!0),children:"+"})]}),f&&K.jsx(QP,{text:o,onCreate:I,onClose:()=>p(!1)}),l.size!=0&&K.jsx("div",{className:"absolute max-w-md bg-white border-light-gray border-2 flex flex-row shadow-md z-10 px-4 rounded-md overflow-x-scroll",children:[...l].map(R=>K.jsx(dp,{text:R.name,color:R.color,onClick:()=>w(R)},R.name))}),K.jsx("div",{className:"h-14 max-h-1/2 flex flex-row overflow-x-scroll",children:K.jsx(dl,{tags:n,setTags:e})})]})}function YP(){const{tags:n}=q.useContext(Gs);return K.jsxs("div",{className:"flex flex-col",children:[K.jsx("h2",{children:"Tags"}),K.jsx("div",{className:"flex flex-row flex-wrap",children:K.jsx(dl,{tags:n})})]})}function XP(){var m,w;const n=Js(),e=q.useContext(Qs),[t,o]=q.useState(""),[s,l]=q.useState(""),[c,f]=q.useState(null),p=()=>{if(n("/"),o("animate-explode-l"),l("animate-explode-r"),!c){const I=setTimeout(()=>{o(""),l(""),f(null)},1250);f(I)}};return K.jsxs("div",{className:"group flex flex-row gap-4 cursor-pointer items-center",onClick:p,children:[K.jsx("h2",{className:t,children:K.jsx(Us,{type:"ingredients"})}),K.jsx("h1",{className:"group-hover:animate-wiggle group-hover:text-blue-2 group-active:text-blue-dark-2 group",children:((m=e.user)==null?void 0:m.name)&&`${(w=e.user)==null?void 0:w.name.toLowerCase()}, what's cookin'?`||"what's cookin'?"}),K.jsx("h2",{className:s,children:K.jsx(Us,{type:"utensils"})})]})}function pp({styles:n}){return K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:n,children:K.jsx("path",{fillRule:"evenodd",d:"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z",clipRule:"evenodd"})})}function JP({styles:n}){return K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:n,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})}function ZP(){const n=Sd(),e=q.useContext(Qs),[t,o]=q.useState(!1),s=()=>{o(!0)};return K.jsxs("div",{className:"flex flex-row max-w-2/3 mx-auto",children:[K.jsxs("div",{className:"basis-1/5 bg-stone-300 rounded-lg p-4",children:[K.jsx(YP,{}),K.jsx("div",{className:"m-6"}),K.jsx(P1,{})]}),K.jsxs("div",{className:"basis-4/5 p-8",children:[K.jsxs("div",{className:"flex flex-row justify-between mb-2 items-center",children:[K.jsx("h1",{className:"text-stone-600",children:"cookbook"}),e.user&&K.jsx("button",{className:"full-btn-blue",onClick:s,children:"+ Add"})]}),K.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.map(l=>K.jsx(E0,{recipe:l}))})]}),t&&Ad.createPortal(K.jsx(gw,{onClose:()=>o(!1)}),document.body)]})}function e2(){const n=p0();return console.log(n),K.jsxs("div",{children:[K.jsx("h1",{children:"Ooooooooops!"}),K.jsx("p",{children:"something went wrong :'D"})]})}function t2(){const n=Sd();return K.jsxs("div",{className:"flex flex-col mx-auto max-w-1/3 items-center gap-4",children:[K.jsxs("h2",{className:"text-6xl",children:[K.jsx("span",{className:"text-2xl",children:"( ˘▽˘)っ♨"})," Try this? ",K.jsx("span",{className:"text-2xl",children:"~~旦_(- ω-｀｡)"})]}),K.jsx(E0,{recipe:n[Math.floor(Math.random()*n.length)]})]})}function n2(){var f,p;const n=Sd(),e=q.useContext(Qs),t=Js(),[o,s]=q.useState(!1),l=()=>{if(!e.user)return;confirm("are you sure you want to delete this recipe?")&&n.metadata&&n.metadata.id&&(zP(n.metadata.id),t(-1))},c=()=>{s(!0)};return K.jsxs("div",{className:"max-w-3/4 h-fit m-auto mb-12 paper",children:[e.user&&K.jsxs("div",{className:"absolute top-0 right-0 m-4 flex flex-row gap-2",children:[K.jsx("button",{className:"full-btn-blue",onClick:c,children:K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4 my-2",children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})}),K.jsx("button",{className:"full-btn-red",onClick:l,children:K.jsx(pp,{styles:"size-4 my-2"})})]}),K.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[K.jsx("img",{src:n.image}),K.jsxs("div",{className:"basis-1/2 flex flex-col content-end",children:[K.jsxs("h1",{className:"text-stone-700",children:[n.name,"!"]}),K.jsxs("div",{className:"flex flex-row flex-wrap mb-8 -mt-2",children:[K.jsx("p",{className:"text-3xl my-auto mr-2 rotate-45",children:"🏷️"}),K.jsx(dl,{tags:n.tags})]}),K.jsxs("p",{className:"pb-2",children:[K.jsx("b",{children:"Cooktime:"})," ",n.cooktime," min"]}),K.jsxs("div",{className:"pb-8",children:[K.jsxs("h2",{className:"border-b-2 border-b-green",children:["Ingredients ",K.jsx(Us,{type:"ingredients"})]}),K.jsx("ul",{className:"list-disc ps-4",children:(f=n.ingredients)==null?void 0:f.map(m=>K.jsxs("li",{children:[K.jsxs("b",{children:[m.measurement.quantity," ",m.measurement.unit||""]})," ",m.name.toLowerCase()]}))})]}),K.jsxs("div",{className:"py-8",children:[K.jsxs("h2",{className:"border-b-2 border-b-green",children:["Instructions ",K.jsx(Us,{type:"utensils"})]}),K.jsx("ol",{className:"list-decimal ps-4",children:(p=n.directions)==null?void 0:p.map(m=>K.jsx("li",{children:m}))})]}),K.jsxs("div",{className:"text-blue-dark-2",children:[K.jsx("b",{children:"Source:"})," ",K.jsx("a",{href:n.source||"#",children:n.source||"a family recipe :P"})]})]})]}),o&&Ad.createPortal(K.jsx(gw,{recipe:n,onClose:()=>s(!1)}),document.body)]})}async function Rv(){return MP()}async function r2({params:n}){return n.id&&FP(n.id)}function i2(){return K.jsxs("div",{children:[K.jsx(OI,{}),K.jsx(JS,{})]})}function o2({children:n}){const[e,t]=q.useState(new Set),[o,s]=q.useState(new Set);q.useEffect(()=>{jP().then(c=>{c&&(t(c.tags),s(c.pantry))})},[]);const l={tags:e,setTags:t,pantry:o,setPantry:s};return K.jsx(Gs.Provider,{value:l,children:n})}function s2(){const n=SI([{path:"/",element:K.jsx(i2,{}),errorElement:K.jsx(e2,{}),children:[{path:"/",element:K.jsx(t2,{}),loader:Rv},{path:"/recipes/",element:K.jsx(ZP,{}),loader:Rv},{path:"/recipes/:id",element:K.jsx(n2,{}),loader:r2}]}]);return K.jsx(KP,{children:K.jsx(o2,{children:K.jsx(bI,{router:n})})})}DE.createRoot(document.getElementById("root")).render(K.jsx(Cv,{clientId:"830313144074-gmlo0mjrteockpndirk9dmp60phd4ar2.apps.googleusercontent.com",children:K.jsx(q.StrictMode,{children:K.jsx(s2,{})})}));
